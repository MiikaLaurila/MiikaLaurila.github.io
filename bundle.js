/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={57:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readMusTrack=void 0;var n=r(7166);t.readMusTrack=function(e,t){for(var r={events:[]};t.offset<e.lenSong+e.offSong;){var i=n.readMusEvent(t);i&&r.events.push(i)}return r}},76:e=>{"use strict";e.exports=Function.prototype.call},228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,o||e,s),h=r?r+t:t;return e._events[h]?e._events[h].fn?e._events[h]=[e._events[h],a]:e._events[h].push(a):(e._events[h]=a,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,o,s){var a=r?r+e:e;if(!this._events[a])return!1;var h,c,l=this._events[a],u=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),u){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,o),!0;case 6:return l.fn.call(l.context,t,n,i,o,s),!0}for(c=1,h=new Array(u-1);c<u;c++)h[c-1]=arguments[c];l.fn.apply(l.context,h)}else{var d,f=l.length;for(c=0;c<f;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),u){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,i);break;default:if(!h)for(d=1,h=new Array(u-1);d<u;d++)h[d-1]=arguments[d];l[c].fn.apply(l[c].context,h)}}return!0},a.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||s(this,o);else{for(var h=0,c=[],l=a.length;h<l;h++)(a[h].fn!==t||i&&!a[h].once||n&&a[h].context!==n)&&c.push(a[h]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a},251:(e,t)=>{t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,h=(1<<a)-1,c=h>>1,l=-7,u=r?i-1:0,d=r?-1:1,f=e[t+u];for(u+=d,o=f&(1<<-l)-1,f>>=-l,l+=a;l>0;o=256*o+e[t+u],u+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+u],u+=d,l-=8);if(0===o)o=1-c;else{if(o===h)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),o-=c}return(f?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,h,c=8*o-i-1,l=(1<<c)-1,u=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,p=n?1:-1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-s))<1&&(s--,h*=2),(t+=s+u>=1?d/h:d*Math.pow(2,1-u))*h>=2&&(s++,h/=2),s+u>=l?(a=0,s=l):s+u>=1?(a=(t*h-1)*Math.pow(2,i),s+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,i),s=0));i>=8;e[r+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+f]=255&s,f+=p,s/=256,c-=8);e[r+f-p]|=128*_}},414:e=>{"use strict";e.exports=Math.round},453:(e,t,r)=>{"use strict";var n,i=r(9612),o=r(9383),s=r(1237),a=r(9290),h=r(9538),c=r(8068),l=r(9675),u=r(5345),d=r(1514),f=r(8968),p=r(6188),_=r(8002),E=r(5880),g=r(414),b=r(3093),m=Function,T=function(e){try{return m('"use strict"; return ('+e+").constructor;")()}catch(e){}},A=r(5795),x=r(655),S=function(){throw new l},y=A?function(){try{return S}catch(e){try{return A(arguments,"callee").get}catch(e){return S}}}():S,I=r(4039)(),O=r(3628),R=r(1064),v=r(8648),C=r(1002),L=r(76),N={},P="undefined"!=typeof Uint8Array&&O?O(Uint8Array):n,w={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":I&&O?O([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":N,"%AsyncGenerator%":N,"%AsyncGeneratorFunction%":N,"%AsyncIteratorPrototype%":N,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":s,"%Float16Array%":"undefined"==typeof Float16Array?n:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":m,"%GeneratorFunction%":N,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":I&&O?O(O([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&I&&O?O((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":A,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":a,"%ReferenceError%":h,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&I&&O?O((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":I&&O?O(""[Symbol.iterator]()):n,"%Symbol%":I?Symbol:n,"%SyntaxError%":c,"%ThrowTypeError%":y,"%TypedArray%":P,"%TypeError%":l,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%Function.prototype.call%":L,"%Function.prototype.apply%":C,"%Object.defineProperty%":x,"%Object.getPrototypeOf%":R,"%Math.abs%":d,"%Math.floor%":f,"%Math.max%":p,"%Math.min%":_,"%Math.pow%":E,"%Math.round%":g,"%Math.sign%":b,"%Reflect.getPrototypeOf%":v};if(O)try{null.error}catch(e){var M=O(O(e));w["%Error.prototype%"]=M}var D=function e(t){var r;if("%AsyncFunction%"===t)r=T("async function () {}");else if("%GeneratorFunction%"===t)r=T("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=T("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&O&&(r=O(i.prototype))}return w[t]=r,r},U={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},B=r(6743),G=r(9957),H=B.call(L,Array.prototype.concat),F=B.call(C,Array.prototype.splice),k=B.call(L,String.prototype.replace),Y=B.call(L,String.prototype.slice),W=B.call(L,RegExp.prototype.exec),X=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,V=/\\(\\)?/g,K=function(e,t){var r,n=e;if(G(U,n)&&(n="%"+(r=U[n])[0]+"%"),G(w,n)){var i=w[n];if(i===N&&(i=D(n)),void 0===i&&!t)throw new l("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new l('"allowMissing" argument must be a boolean');if(null===W(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=Y(e,0,1),r=Y(e,-1);if("%"===t&&"%"!==r)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var n=[];return k(e,X,(function(e,t,r,i){n[n.length]=r?k(i,V,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",i=K("%"+n+"%",t),o=i.name,s=i.value,a=!1,h=i.alias;h&&(n=h[0],F(r,H([0,1],h)));for(var u=1,d=!0;u<r.length;u+=1){var f=r[u],p=Y(f,0,1),_=Y(f,-1);if(('"'===p||"'"===p||"`"===p||'"'===_||"'"===_||"`"===_)&&p!==_)throw new c("property names with quotes must have matching quotes");if("constructor"!==f&&d||(a=!0),G(w,o="%"+(n+="."+f)+"%"))s=w[o];else if(null!=s){if(!(f in s)){if(!t)throw new l("base intrinsic for "+e+" exists, but the property is not available.");return}if(A&&u+1>=r.length){var E=A(s,f);s=(d=!!E)&&"get"in E&&!("originalValue"in E.get)?E.get:s[f]}else d=G(s,f),s=s[f];d&&!a&&(w[o]=s)}}return s}},507:(e,t,r)=>{"use strict";var n=r(453),i=r(6556),o=r(8859),s=r(9675),a=n("%Map%",!0),h=i("Map.prototype.get",!0),c=i("Map.prototype.set",!0),l=i("Map.prototype.has",!0),u=i("Map.prototype.delete",!0),d=i("Map.prototype.size",!0);e.exports=!!a&&function(){var e,t={assert:function(e){if(!t.has(e))throw new s("Side channel does not contain "+o(e))},delete:function(t){if(e){var r=u(e,t);return 0===d(e)&&(e=void 0),r}return!1},get:function(t){if(e)return h(e,t)},has:function(t){return!!e&&l(e,t)},set:function(t,r){e||(e=new a),c(e,t,r)}};return t}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},541:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readEventByte=void 0;t.readEventByte=function(e){var t=e.file.readUInt8(e.offset++);return{last:!(128&~t),type:(112&t)>>4,channel:15&t}}},655:e=>{"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},736:(e,t,r)=>{e.exports=function(e){function t(e){let r,i,o,s=null;function a(...e){if(!a.enabled)return;const n=a,i=Number(new Date),o=i-(r||i);n.diff=o,n.prev=r,n.curr=i,r=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,i)=>{if("%%"===r)return"%";s++;const o=t.formatters[i];if("function"==typeof o){const t=e[s];r=o.call(n,t),e.splice(s,1),s--}return r})),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e,t){let r=0,n=0,i=-1,o=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(i=n,o=r,n++):(r++,n++);else{if(-1===i)return!1;n=i+1,o++,r=o}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names,...t.skips.map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const e of r)"-"===e[0]?t.skips.push(e.slice(1)):t.names.push(e)},t.enabled=function(e){for(const r of t.skips)if(i(e,r))return!1;for(const r of t.names)if(i(e,r))return!0;return!1},t.humanize=r(6585),t.destroy=function(){},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},751:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MusControllerType=void 0,function(e){e[e.InstrumentNumber=0]="InstrumentNumber",e[e.BankSelect=1]="BankSelect",e[e.Modulation=2]="Modulation",e[e.Volume=3]="Volume",e[e.Pan=4]="Pan",e[e.Expression=5]="Expression",e[e.Reverb=6]="Reverb",e[e.Chorus=7]="Chorus",e[e.Sustain=8]="Sustain",e[e.Soft=9]="Soft"}(t.MusControllerType||(t.MusControllerType={}))},823:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readController=void 0;var n=r(751),i=r(541),o=r(2660);t.readController=function(e){var t=i.readEventByte(e),r=127&e.file.readUInt8(e.offset++);if(r<0||r>9)return null;var s=127&e.file.readUInt8(e.offset++),a=o.readDelay(e,t.last);return r===n.MusControllerType.Volume&&(e.channels[t.channel]={volume:s}),{delay:a,type:t.type,channel:t.channel,controller:r,value:s}}},864:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readSystemEvent=void 0;var n=r(541),i=r(2660);t.readSystemEvent=function(e){var t=n.readEventByte(e),r=127&e.file.readUInt8(e.offset++);return r<10||r>15?null:{delay:i.readDelay(e,t.last),type:t.type,channel:t.channel,controller:r}}},920:(e,t,r)=>{"use strict";var n=r(9675),i=r(8859),o=r(4803),s=r(507),a=r(2271)||s||o;e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new n("Side channel does not contain "+i(e))},delete:function(t){return!!e&&e.delete(t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,r){e||(e=a()),e.set(t,r)}};return t}},1002:e=>{"use strict";e.exports=Function.prototype.apply},1064:(e,t,r)=>{"use strict";var n=r(9612);e.exports=n.getPrototypeOf||null},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},1118:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1601),i=r.n(n),o=r(6314),s=r.n(o)()(i());s.push([e.id,'#map-window-bottom-area {\n\tdisplay: flex;\n\tposition: relative;\n\ttop: -4px;\n\t/* biome-ignore lint/a11y/useGenericFontNames: <explanation> */\n\tfont-family: Arial;\n}\n\n@media only screen and (max-width: 1080px) {\n\t#map-window-bottom-area {\n\t\tflex-direction: column;\n\t}\n}\n\n#map-window-button-container > div {\n\tmargin-top: 8px;\n\tmargin-left: 8px;\n\tposition: relative;\n}\n\n#map-window-button-container > div:first-of-type {\n\tdisplay: flex;\n\tgap: 8px;\n\theight: 25px;\n\talign-items: center;\n\tuser-select: none;\n}\n\n#map-window-button-container > div:last-of-type > div {\n\tmargin-bottom: 8px;\n}\n\n#map-window-button-container\n\t> div:last-of-type\n\t> div:nth-of-type(1):hover::after {\n\tdisplay: block;\n\tposition: absolute;\n\tfont-size: 10px;\n\twidth: 170px;\n\tpadding: 8px;\n\tbackground-color: white;\n\tborder: 1px solid black;\n\ttop: -55px;\n\tleft: 150px;\n\tcontent: "Values over 5192 can cause issues with some browsers. Firefox should work upto 10000.";\n\tmargin-bottom: 8px;\n}\n\n#map-window-button-container\n\t> div:last-of-type\n\t> div:nth-of-type(2):hover::after {\n\tdisplay: block;\n\tposition: absolute;\n\tfont-size: 10px;\n\twidth: 180px;\n\tpadding: 8px;\n\tbackground-color: white;\n\tborder: 1px solid black;\n\ttop: -10px;\n\tleft: 150px;\n\tcontent: "Wait 500ms after last zoom to re-render. Helps with huge maps.";\n\tmargin-bottom: 8px;\n}\n\n#map-window-button-container\n\t> div:last-of-type\n\t> div:nth-of-type(3):hover::after {\n\tdisplay: block;\n\tposition: absolute;\n\tfont-size: 10px;\n\twidth: 180px;\n\tpadding: 8px;\n\tbackground-color: white;\n\tborder: 1px solid black;\n\ttop: 10px;\n\tleft: 150px;\n\tcontent: "Select which map palette you want to render the map with.";\n\tmargin-bottom: 8px;\n}\n\n#map-window-button-container > div:last-of-type > div > label {\n\tfont-size: 12px;\n\twidth: 150px;\n\tdisplay: inline-block;\n\tuser-select: none;\n}\n\n#map-window-button-container > div > label {\n\tfont-size: 12px;\n}\n\n#map-window-toggle-area {\n\twidth: 450px;\n\tbackground-color: black;\n\tuser-select: none;\n\t/* biome-ignore lint/a11y/useGenericFontNames: <explanation> */\n\tfont-family: "Roboto Mono";\n}\n\n@media only screen and (max-width: 1080px) {\n\t#map-window-toggle-area {\n\t\twidth: 100%;\n\t}\n}\n\n#map-window-toggle-area > p {\n\tcolor: white;\n\ttext-align: center;\n\twidth: 100%;\n\tmargin: 0;\n\tpadding: 0;\n\tfont-size: 12px;\n}\n\n#map-window-toggle-area > div {\n\tdisplay: flex;\n\theight: 40px;\n\twidth: 100%;\n\tflex-wrap: nowrap;\n\tgap: 8px;\n\tmargin-left: 2px;\n\tmargin-top: 4px;\n}\n\n#map-window-toggle-area > div:hover {\n\tcursor: pointer;\n}\n\n#map-window-toggle-area > div > div {\n\tdisplay: block;\n\theight: 40px;\n\twidth: 50px;\n}\n\n#map-window-toggle-area > div > div > div {\n\theight: 20px;\n\twidth: 20px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n}\n\n#map-window-toggle-area > div > div > p {\n\tcolor: white;\n\tfont-size: 9px;\n\twidth: 100%;\n\ttext-align: center;\n\tmargin: 0;\n\tpadding: 0;\n\tmargin-top: 1px;\n\twhite-space: nowrap;\n}\n\n.map-hover-div {\n\tposition: fixed;\n\tborder: 1px solid black;\n\tbackground-color: white;\n\tfont-size: 12px;\n\t/* biome-ignore lint/a11y/useGenericFontNames: <explanation> */\n\tfont-family: "Arial";\n\tpadding-left: 2px;\n\tz-index: 1001;\n}\n\n.map-hover-row {\n\tfont-weight: bold;\n\twhite-space: nowrap;\n\tpadding: 1px 0 0 0;\n}\n\n.map-hover-span-text {\n\tfont-weight: normal;\n\twhite-space: nowrap;\n}\n',""]);const a=s},1183:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1601),i=r.n(n),o=r(6314),s=r.n(o)()(i());s.push([e.id,"#content {\n\tposition: relative;\n\ttop: 43px;\n\tleft: 208px;\n\twidth: calc(100% - 208px);\n\t/* biome-ignore lint/a11y/useGenericFontNames: <explanation> */\n\tfont-family: Arial;\n\tfont-size: 14px;\n\tpadding-bottom: 8px;\n}\n\n@media only screen and (max-width: 1080px) {\n\t#content {\n\t\tleft: 0;\n\t\twidth: 100vw;\n\t\tpadding-left: 8px;\n\t\tpadding-right: 8px;\n\t}\n}\n\n#content > div:nth-child(2) {\n\tpadding-bottom: 60px;\n}\n\n@media only screen and (max-width: 1080px) {\n\t#content > div:nth-child(2) {\n\t\tpadding-bottom: 100px;\n\t}\n}\n",""]);const a=s},1208:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1601),i=r.n(n),o=r(6314),s=r.n(o)()(i());s.push([e.id,"button {\n\tfont-size: 12px;\n\tdisplay: initial;\n\tbackground-color: transparent;\n\tborder: 2px outset gray;\n\t/* biome-ignore lint/a11y/useGenericFontNames: <explanation> */\n\tfont-family: Arial;\n\tcolor: black;\n}\n\nh1 {\n\tfont-weight: bold;\n}\n",""]);const a=s},1237:e=>{"use strict";e.exports=EvalError},1248:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1601),i=r.n(n),o=r(6314),s=r.n(o)()(i());s.push([e.id,"#endoom-window-container {\n\twidth: 640px;\n\theight: 400px;\n}\n\n#endoom-window-container > canvas {\n\timage-rendering: pixelated;\n\timage-rendering: crisp-edges;\n}\n",""]);const a=s},1270:function(e,t,r){var n;e=r.nmd(e),function(){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof r.g&&r.g;i.global!==i&&i.window!==i&&i.self;var o,s=2147483647,a=36,h=/^xn--/,c=/[^\x20-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,u={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,f=String.fromCharCode;function p(e){throw new RangeError(u[e])}function _(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function E(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+_((e=e.replace(l,".")).split("."),t).join(".")}function g(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function b(e){return _(e,(function(e){var t="";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=f(e)})).join("")}function m(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function T(e,t,r){var n=0;for(e=r?d(e/700):e>>1,e+=d(e/t);e>455;n+=a)e=d(e/35);return d(n+36*e/(e+38))}function A(e){var t,r,n,i,o,h,c,l,u,f,_,E=[],g=e.length,m=0,A=128,x=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&p("not-basic"),E.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<g;){for(o=m,h=1,c=a;i>=g&&p("invalid-input"),((l=(_=e.charCodeAt(i++))-48<10?_-22:_-65<26?_-65:_-97<26?_-97:a)>=a||l>d((s-m)/h))&&p("overflow"),m+=l*h,!(l<(u=c<=x?1:c>=x+26?26:c-x));c+=a)h>d(s/(f=a-u))&&p("overflow"),h*=f;x=T(m-o,t=E.length+1,0==o),d(m/t)>s-A&&p("overflow"),A+=d(m/t),m%=t,E.splice(m++,0,A)}return b(E)}function x(e){var t,r,n,i,o,h,c,l,u,_,E,b,A,x,S,y=[];for(b=(e=g(e)).length,t=128,r=0,o=72,h=0;h<b;++h)(E=e[h])<128&&y.push(f(E));for(n=i=y.length,i&&y.push("-");n<b;){for(c=s,h=0;h<b;++h)(E=e[h])>=t&&E<c&&(c=E);for(c-t>d((s-r)/(A=n+1))&&p("overflow"),r+=(c-t)*A,t=c,h=0;h<b;++h)if((E=e[h])<t&&++r>s&&p("overflow"),E==t){for(l=r,u=a;!(l<(_=u<=o?1:u>=o+26?26:u-o));u+=a)S=l-_,x=a-_,y.push(f(m(_+S%x,0))),l=d(S/x);y.push(f(m(l,0))),o=T(r,A,n==i),r=0,++n}++r,++t}return y.join("")}o={version:"1.4.1",ucs2:{decode:g,encode:b},decode:A,encode:x,toASCII:function(e){return E(e,(function(e){return c.test(e)?"xn--"+x(e):e}))},toUnicode:function(e){return E(e,(function(e){return h.test(e)?A(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}()},1323:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.writeMidEvent=void 0;var i=r(8815),o=r(8896),s=r(6174),a=r(2442),h=r(7134),c=r(9822),l=r(1643),u=r(2768);t.writeMidEvent=function(e,t,r){var d,f=n(n({},t),{channel:(d=t.channel,15===d?9:d)});switch(o.writeMidDelay(e,r),t.type){case i.MusEventType.ReleaseNote:s.writeMidNoteOff(e,f);break;case i.MusEventType.PlayNote:a.writeMidNoteOn(e,f);break;case i.MusEventType.PitchBend:h.writeMidPitchBend(e,f);break;case i.MusEventType.SystemEvent:l.writeMidController(e,n(n({},f),{value:0}));break;case i.MusEventType.Controller:var p=f;0===p.controller?c.writeMidInstrumentChange(e,p):l.writeMidController(e,p);break;case i.MusEventType.EndOfMeasure:break;case i.MusEventType.Finish:u.writeMidEndOfTrack(e)}}},1333:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(var n in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},1514:e=>{"use strict";e.exports=Math.abs},1601:e=>{"use strict";e.exports=function(e){return e[1]}},1609:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uint8Size=t.Uint16Size=t.Uint32Size=void 0,t.Uint32Size=4,t.Uint16Size=2,t.Uint8Size=1},1643:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.writeMidController=void 0;var i,o=r(8881);!function(e){e[e.Controller=176]="Controller"}(i||(i={}));var s=((n={})[1]=0,n[2]=1,n[3]=7,n[4]=10,n[5]=11,n[6]=91,n[7]=93,n[8]=64,n[9]=67,n[10]=120,n[11]=123,n[12]=126,n[13]=127,n[14]=121,n);t.writeMidController=function(e,t){o.write8(e,i.Controller|t.channel),o.write8(e,s[t.controller]),o.write8(e,t.value)}},2034:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1601),i=r.n(n),o=r(6314),s=r.n(o)()(i());s.push([e.id,".patches-container {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n}\n\n.patches-container .patches-split-container {\n\tmargin: 8px;\n\tborder: 1px solid black;\n}\n\n.patches-container .patches-data-container {\n\tdisplay: flex;\n}\n\n.patches-container .patches-split-container > div:nth-child(1) {\n\tborder-bottom: 1px solid black;\n}\n\n.patches-container .patches-info-container {\n\twidth: 200px;\n}\n\n.patches-container .patches-info-container > div {\n\tdisplay: flex;\n\tflex-wrap: nowrap;\n\tpadding-left: 2px;\n\tpadding-top: 1px;\n\tpadding-bottom: 1px;\n}\n\n.patches-container .patches-info-container > div:last-of-type {\n\tborder-bottom: none;\n}\n\n.patches-container .patches-info-container > div > div:nth-of-type(1) {\n\twidth: 100px;\n}\n\n.patches-container .patches-info-container > div > div:nth-of-type(2) {\n\twidth: 100px;\n}\n\n.patches-container .patches-canvas-container {\n\tpadding-left: 8px;\n\tpadding-right: 8px;\n\ttext-align: center;\n}\n\n.patches-container canvas {\n\tmargin-top: 8px;\n\tmargin-bottom: 8px;\n\tborder: 1px dashed gray;\n}\n\n.patches-container canvas:hover {\n\tcursor: pointer;\n}\n\n.patches-texture-cell {\n\ttext-decoration: underline;\n}\n\n.patches-texture-cell:hover {\n\tcursor: pointer;\n}\n",""]);const a=s},2271:(e,t,r)=>{"use strict";var n=r(453),i=r(6556),o=r(8859),s=r(507),a=r(9675),h=n("%WeakMap%",!0),c=i("WeakMap.prototype.get",!0),l=i("WeakMap.prototype.set",!0),u=i("WeakMap.prototype.has",!0),d=i("WeakMap.prototype.delete",!0);e.exports=h?function(){var e,t,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+o(e))},delete:function(r){if(h&&r&&("object"==typeof r||"function"==typeof r)){if(e)return d(e,r)}else if(s&&t)return t.delete(r);return!1},get:function(r){return h&&r&&("object"==typeof r||"function"==typeof r)&&e?c(e,r):t&&t.get(r)},has:function(r){return h&&r&&("object"==typeof r||"function"==typeof r)&&e?u(e,r):!!t&&t.has(r)},set:function(r,n){h&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new h),l(e,r,n)):s&&(t||(t=s()),t.set(r,n))}};return r}:s},2299:(e,t,r)=>{"use strict";e.exports=r.p+"e5c5b18d17c72722b8f3.ttf"},2326:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readReleaseNote=void 0;var n=r(541),i=r(2660);t.readReleaseNote=function(e){var t,r=n.readEventByte(e),o=e.file.readUInt8(e.offset++),s=i.readDelay(e,r.last),a=null!==(t=e.channels[r.channel])&&void 0!==t?t:{volume:100};return{delay:s,type:r.type,channel:r.channel,note:127&o,volume:a.volume}}},2442:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.writeMidNoteOn=void 0;var n,i=r(8881);!function(e){e[e.NoteOn=144]="NoteOn"}(n||(n={}));t.writeMidNoteOn=function(e,t){i.write8(e,n.NoteOn|t.channel),i.write8(e,t.note),i.write8(e,t.volume)}},2634:()=>{},2642:(e,t,r)=>{"use strict";var n=r(7720),i=Object.prototype.hasOwnProperty,o=Array.isArray,s={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},h=function(e,t,r){if(e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&r>=t.arrayLimit)throw new RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(1===t.arrayLimit?"":"s")+" allowed in an array.");return e},c=function(e,t,r,o){if(e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,c=r.depth>0&&/(\[[^[\]]*])/.exec(s),l=c?s.slice(0,c.index):s,u=[];if(l){if(!r.plainObjects&&i.call(Object.prototype,l)&&!r.allowPrototypes)return;u.push(l)}for(var d=0;r.depth>0&&null!==(c=a.exec(s))&&d<r.depth;){if(d+=1,!r.plainObjects&&i.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(c[1])}if(c){if(!0===r.strictDepth)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");u.push("["+s.slice(c.index)+"]")}return function(e,t,r,i){var o=0;if(e.length>0&&"[]"===e[e.length-1]){var s=e.slice(0,-1).join("");o=Array.isArray(t)&&t[s]?t[s].length:0}for(var a=i?t:h(t,r,o),c=e.length-1;c>=0;--c){var l,u=e[c];if("[]"===u&&r.parseArrays)l=r.allowEmptyArrays&&(""===a||r.strictNullHandling&&null===a)?[]:n.combine([],a);else{l=r.plainObjects?{__proto__:null}:{};var d="["===u.charAt(0)&&"]"===u.charAt(u.length-1)?u.slice(1,-1):u,f=r.decodeDotInKeys?d.replace(/%2E/g,"."):d,p=parseInt(f,10);r.parseArrays||""!==f?!isNaN(p)&&u!==f&&String(p)===f&&p>=0&&r.parseArrays&&p<=r.arrayLimit?(l=[])[p]=a:"__proto__"!==f&&(l[f]=a):l={0:a}}a=l}return a}(u,t,r,o)}};e.exports=function(e,t){var r=function(e){if(!e)return s;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0!==e.throwOnLimitExceeded&&"boolean"!=typeof e.throwOnLimitExceeded)throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var t=void 0===e.charset?s.charset:e.charset,r=void 0===e.duplicates?s.duplicates:e.duplicates;if("combine"!==r&&"first"!==r&&"last"!==r)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||s.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:s.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:s.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:s.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:s.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:s.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:s.depth,duplicates:r,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:s.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:s.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof e.throwOnLimitExceeded&&e.throwOnLimitExceeded}}(t);if(""===e||null==e)return r.plainObjects?{__proto__:null}:{};for(var l="string"==typeof e?function(e,t){var r={__proto__:null},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;c=c.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var l=t.parameterLimit===1/0?void 0:t.parameterLimit,u=c.split(t.delimiter,t.throwOnLimitExceeded?l+1:l);if(t.throwOnLimitExceeded&&u.length>l)throw new RangeError("Parameter limit exceeded. Only "+l+" parameter"+(1===l?"":"s")+" allowed.");var d,f=-1,p=t.charset;if(t.charsetSentinel)for(d=0;d<u.length;++d)0===u[d].indexOf("utf8=")&&("utf8=%E2%9C%93"===u[d]?p="utf-8":"utf8=%26%2310003%3B"===u[d]&&(p="iso-8859-1"),f=d,d=u.length);for(d=0;d<u.length;++d)if(d!==f){var _,E,g=u[d],b=g.indexOf("]="),m=-1===b?g.indexOf("="):b+1;-1===m?(_=t.decoder(g,s.decoder,p,"key"),E=t.strictNullHandling?null:""):(_=t.decoder(g.slice(0,m),s.decoder,p,"key"),E=n.maybeMap(h(g.slice(m+1),t,o(r[_])?r[_].length:0),(function(e){return t.decoder(e,s.decoder,p,"value")}))),E&&t.interpretNumericEntities&&"iso-8859-1"===p&&(E=a(String(E))),g.indexOf("[]=")>-1&&(E=o(E)?[E]:E);var T=i.call(r,_);T&&"combine"===t.duplicates?r[_]=n.combine(r[_],E):T&&"last"!==t.duplicates||(r[_]=E)}return r}(e,r):e,u=r.plainObjects?{__proto__:null}:{},d=Object.keys(l),f=0;f<d.length;++f){var p=d[f],_=c(p,l[p],r,"string"==typeof e);u=n.merge(u,_,r)}return!0===r.allowSparse?u:n.compact(u)}},2660:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readDelay=void 0;t.readDelay=function(e,t){if(!t)return 0;for(var r=128,n=0;!(128&~r);)n=128*n+(127&(r=e.file.readUInt8(e.offset++)));return n}},2768:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.writeMidEndOfTrack=void 0;var n=r(8881),i=r(8896);t.writeMidEndOfTrack=function(e){n.write8(e,255),n.write8(e,47),i.writeMidDelay(e,0)}},3093:(e,t,r)=>{"use strict";var n=r(4459);e.exports=function(e){return n(e)||0===e?e:e<0?-1:1}},3097:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readPlayNote=void 0;var n=r(541),i=r(2660);t.readPlayNote=function(e){var t,r=n.readEventByte(e),o=e.file.readUInt8(e.offset++),s=!(128&~o),a=null!==(t=e.channels[r.channel])&&void 0!==t?t:{volume:100};return s&&(a.volume=127&e.file.readUInt8(e.offset++)),{delay:i.readDelay(e,r.last),type:r.type,channel:r.channel,note:127&o,volume:a.volume}}},3126:(e,t,r)=>{"use strict";var n=r(6743),i=r(9675),o=r(76),s=r(3144);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new i("a function is required");return s(n,o,e)}},3144:(e,t,r)=>{"use strict";var n=r(6743),i=r(1002),o=r(76),s=r(7119);e.exports=s||n.call(o,i)},3247:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1601),i=r.n(n),o=r(6314),s=r.n(o)()(i());s.push([e.id,".full-screen-modal {\n\tposition: fixed;\n\tleft: 0px;\n\ttop: 0px;\n\theight: 100%;\n\twidth: 100%;\n\tbackground-color: rgba(0, 0, 0, 0.4);\n\tz-index: 1000;\n}\n\n.full-screen-modal-close {\n\tposition: fixed;\n\tright: 0px;\n\ttop: 0px;\n\tmargin: 20px;\n\tfont-size: 40px;\n\tfont-weight: bold;\n\tcolor: black;\n}\n\n.full-screen-modal-content {\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n}\n",""]);const a=s},3321:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.writeMidHead=void 0;var n=r(8287).hp,i=r(8881),o=[77,84,104,100];t.writeMidHead=function(e){e.file.write(n.from(o)),e.offset+=o.length,i.write32(e,6),i.write16(e,0),i.write16(e,1),i.write16(e,560)}},3340:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1601),i=r.n(n),o=r(6314),s=r.n(o)()(i());s.push([e.id,'#sidebar {\n\tposition: fixed;\n\theight: 100vh;\n\tbackground-color: white;\n\tz-index: 100;\n\ttop: 0;\n\tleft: 0;\n\toverflow-y: scroll;\n\tborder-right: 1px solid grey;\n\twidth: 200px;\n}\n\n@media only screen and (max-width: 1080px) {\n\t#sidebar {\n\t\twidth: 0px;\n\t\theight: calc(100vh - 34px);\n\t}\n\n\t#sidebar.open {\n\t\twidth: 100vw;\n\t\ttop: 34px;\n\t\tborder-top: 1px solid black;\n\t}\n}\n\n.section {\n\t/* biome-ignore lint/a11y/useGenericFontNames: <explanation> */\n\tfont-family: "Arial";\n\tborder-bottom: 1px solid grey;\n\tuser-select: none;\n}\n\n.section .head {\n\tpadding-top: 9px;\n\tpadding-bottom: 9px;\n\tpadding-left: 8px;\n\tbackground-color: rgba(0, 0, 0, 0.03);\n}\n\n.section .head:hover {\n\tcursor: pointer;\n\tbackground-color: rgba(0, 0, 0, 0.06);\n}\n\n.section .subhead {\n\tfont-size: 14px;\n\tpadding-left: 12px;\n\tpadding-top: 2px;\n\tpadding-bottom: 2px;\n}\n\n.section .subhead:hover {\n\tcursor: pointer;\n\ttext-decoration: underline;\n}\n\n@media only screen and (max-width: 1080px) {\n\t.section .subhead {\n\t\tfont-size: 14px;\n\t\tpadding-left: 12px;\n\t\tpadding-top: 8px;\n\t\tpadding-bottom: 8px;\n\t}\n}\n\n.section .subhead:last-child {\n\tborder-bottom: none;\n}\n',""]);const a=s},3413:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1601),i=r.n(n),o=r(6314),s=r.n(o)()(i());s.push([e.id,"#playpal-window {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n}\n",""]);const a=s},3464:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1601),i=r.n(n),o=r(6314),s=r.n(o)()(i());s.push([e.id,".menu-graphics-container {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n}\n\n.menu-graphics-container .menu-graphics-split-container {\n\tmargin: 8px;\n\tborder: 1px solid black;\n}\n\n.menu-graphics-container .menu-graphics-split-container > div:nth-child(1) {\n\tborder-bottom: 1px solid black;\n}\n\n.menu-graphics-container .menu-graphics-data-container {\n\tdisplay: flex;\n\tpadding: 8px;\n}\n",""]);const a=s},3628:(e,t,r)=>{"use strict";var n=r(8648),i=r(1064),o=r(7176);e.exports=n?function(e){return n(e)}:i?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("getProto: not an object");return i(e)}:o?function(e){return o(e)}:null},3791:(e,t,r)=>{"use strict";t.P=void 0;var n=r(5762),i=r(5391);t.P=function(e){return n.writeMid(i.readMus(e))}},4039:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(1333);e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},4417:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},4459:e=>{"use strict";e.exports=Number.isNaN||function(e){return e!=e}},4676:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1601),i=r.n(n),o=r(6314),s=r.n(o)()(i());s.push([e.id,".flats-container {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n}\n\n.flats-container .flats-split-container {\n\tmargin: 8px;\n\tborder: 1px solid black;\n}\n\n.flats-container .flats-split-container > div:nth-child(1) {\n\tborder-bottom: 1px solid black;\n}\n\n.flats-container .flats-data-container {\n\tdisplay: flex;\n\tpadding: 8px;\n}\n",""]);const a=s},4702:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1601),i=r.n(n),o=r(6314),s=r.n(o)()(i());s.push([e.id,'#topbar {\n\tz-index: 100;\n\tposition: fixed;\n\tbackground-color: white;\n\tleft: 200px;\n\theight: 35px;\n\ttop: 0px;\n\twidth: calc(100vw - 200px);\n\tborder-bottom: 1px solid grey;\n}\n\n@media only screen and (max-width: 1080px) {\n\t#topbar {\n\t\tleft: 0;\n\t\ttop: 0;\n\t\twidth: 100vw;\n\t}\n}\n\n#topbar-head {\n\tdisplay: inline-block;\n\tmargin: 0;\n\tpadding: 0;\n\t/* biome-ignore lint/a11y/useGenericFontNames: <explanation> */\n\tfont-family: "Arial";\n\tfont-size: 16px;\n\tpadding-top: 8px;\n\tpadding-left: 8px;\n}\n\n#wad-input-hidden {\n\tdisplay: none;\n}\n\n#topbar-input-boxes {\n\tmargin-right: 24px;\n\tfloat: right;\n\tpadding-top: 6px;\n}\n\n#topbar-input-boxes-open,\n#sidebar-open {\n\tdisplay: none;\n}\n\n@media only screen and (max-width: 1080px) {\n\t#topbar-head {\n\t\tpadding-left: 0px;\n\t\twidth: calc(100vw - 150px);\n\t}\n\n\t#topbar-input-boxes {\n\t\tdisplay: none;\n\t\tmargin: 0;\n\t\tfloat: left;\n\t\tpadding: 0;\n\t\tflex-direction: column;\n\t\twidth: 100vw;\n\t\tgap: 8px;\n\t\tpadding-left: 8px;\n\t\tpadding-right: 8px;\n\t\theight: calc(100vh - 40px);\n\t\tbackground-color: white;\n\t\tpadding-top: 8px;\n\t}\n\n\t#topbar-input-boxes.open {\n\t\tdisplay: flex;\n\t}\n\n\t#topbar-input-boxes button,\n\t#topbar-input-boxes input {\n\t\theight: 32px;\n\t}\n\n\t#topbar-input-boxes-open,\n\t#sidebar-open {\n\t\tdisplay: initial;\n\t\tbackground-color: transparent;\n\t\theight: 28px;\n\t\tmargin-left: 4px;\n\t\tpadding: 0;\n\t\tpadding-left: 3px;\n\t\tborder: 2px outset gray;\n\t\t/* biome-ignore lint/a11y/useGenericFontNames: <explanation> */\n\t\tfont-family: Arial;\n\t\tcolor: black;\n\t}\n\n\t#sidebar-open {\n\t\twidth: 45px;\n\t}\n\n\t#topbar-input-boxes-open {\n\t\twidth: 85px;\n\t}\n}\n',""]);const a=s},4735:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1601),i=r.n(n),o=r(6314),s=r.n(o)()(i());s.push([e.id,".stbar-graphics-container {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n}\n\n.stbar-graphics-container .stbar-graphics-split-container {\n\tmargin: 8px;\n\tborder: 1px solid black;\n}\n\n.stbar-graphics-container .stbar-graphics-split-container > div:nth-child(1) {\n\tborder-bottom: 1px solid black;\n}\n\n.stbar-graphics-container .stbar-graphics-data-container {\n\tdisplay: flex;\n\tpadding: 8px;\n}\n",""]);const a=s},4765:e=>{"use strict";var t=String.prototype.replace,r=/%20/g,n="RFC1738",i="RFC3986";e.exports={default:i,formatters:{RFC1738:function(e){return t.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:n,RFC3986:i}},4803:(e,t,r)=>{"use strict";var n=r(8859),i=r(9675),o=function(e,t,r){for(var n,i=e;null!=(n=i.next);i=n)if(n.key===t)return i.next=n.next,r||(n.next=e.next,e.next=n),n};e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new i("Side channel does not contain "+n(e))},delete:function(t){var r=e&&e.next,n=function(e,t){if(e)return o(e,t,!0)}(e,t);return n&&r&&r===n&&(e=void 0),!!n},get:function(t){return function(e,t){if(e){var r=o(e,t);return r&&r.value}}(e,t)},has:function(t){return function(e,t){return!!e&&!!o(e,t)}(e,t)},set:function(t,r){e||(e={next:void 0}),function(e,t,r){var n=o(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(e,t,r)}};return t}},4971:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.writeMidTrackBlock=void 0;var n=r(8287).hp,i=r(8881),o=[77,84,114,107];t.writeMidTrackBlock=function(e){e.file.write(n.from(o)),e.offset+=o.length,i.write32(e,0)}},4978:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.peekEventType=void 0;t.peekEventType=function(e){var t=e.file,r=e.offset;return(112&t.readUInt8(r))>>4}},5056:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},5072:e=>{"use strict";var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var o={},s=[],a=0;a<e.length;a++){var h=e[a],c=n.base?h[0]+n.base:h[0],l=o[c]||0,u="".concat(c," ").concat(l);o[c]=l+1;var d=r(u),f={css:h[1],media:h[2],sourceMap:h[3],supports:h[4],layer:h[5]};if(-1!==d)t[d].references++,t[d].updater(f);else{var p=i(f,n);n.byIndex=a,t.splice(a,0,{identifier:u,updater:p,references:1})}s.push(u)}return s}function i(e,t){var r=t.domAPI(t);r.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,i){var o=n(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var a=r(o[s]);t[a].references--}for(var h=n(e,i),c=0;c<o.length;c++){var l=r(o[c]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}o=h}}},5176:function(e,t){"use strict";var r=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.MemStream=void 0;var n=function(){function e(){this.size=100,this.position=0,this.data=[100]}return e.prototype.write=function(e){var t,n;this.position+e.length>this.size&&((t=this.data).push.apply(t,new Array(this.size)),this.size*=2);var i=Array.from(e);(n=this.data).splice.apply(n,r([this.position,i.length],i)),this.position+=i.length},e.prototype.read=function(e){return Buffer.from(this.data.slice(0,e))},e}();t.MemStream=n},5228:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var o,s,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),h=1;h<arguments.length;h++){for(var c in o=Object(arguments[h]))r.call(o,c)&&(a[c]=o[c]);if(t){s=t(o);for(var l=0;l<s.length;l++)n.call(o,s[l])&&(a[s[l]]=o[s[l]])}}return a}},5345:e=>{"use strict";e.exports=URIError},5373:(e,t,r)=>{"use strict";var n=r(8636),i=r(2642),o=r(4765);e.exports={formats:o,parse:i,stringify:n}},5391:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readMus=void 0;var n=r(8422),i=r(57);t.readMus=function(e){var t={file:e,offset:0,volume:0,channels:{}},r=n.readMusHead(t);return{head:r,track:i.readMusTrack(r,t)}}},5408:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1601),i=r.n(n),o=r(6314),s=r.n(o)()(i());s.push([e.id,".attribution-item {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 8px;\n\tpadding-top: 8px;\n\tpadding-bottom: 8px;\n\tborder-bottom: 1px black dashed;\n\tmargin-right: 8px;\n}\n\n.attribution-item:last-of-type {\n\tborder-bottom: none;\n}\n\n.attribution-label {\n\tfont-weight: bold;\n\tdisplay: inline-block;\n\twidth: 100px;\n}\n\n.attribution-value {\n\twhite-space: pre-line;\n}\n",""]);const a=s},5762:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.writeMid=void 0;var n=r(3321),i=r(4971),o=r(1323),s=r(9108),a=r(5176);t.writeMid=function(e){var t=new a.MemStream,r={file:t,offset:0};n.writeMidHead(r),i.writeMidTrackBlock(r),s.writeMidTempo(r);for(var h=0,c=0,l=e.track.events;c<l.length;c++){var u=l[c];o.writeMidEvent(r,u,h),h=u.delay}var d=t.read(r.offset);return d.writeUInt32BE(r.offset-22,18),d}},5795:(e,t,r)=>{"use strict";var n=r(6549);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},5880:e=>{"use strict";e.exports=Math.pow},5892:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readGenericEvent=void 0;var n=r(541),i=r(2660);t.readGenericEvent=function(e){var t=n.readEventByte(e);return{delay:i.readDelay(e,t.last),type:t.type,channel:t.channel}}},6174:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.writeMidNoteOff=void 0;var n,i=r(8881);!function(e){e[e.NoteOff=128]="NoteOff"}(n||(n={}));t.writeMidNoteOff=function(e,t){i.write8(e,n.NoteOff|t.channel),i.write8(e,t.note),i.write8(e,t.volume)}},6188:e=>{"use strict";e.exports=Math.max},6314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(n)for(var a=0;a<this.length;a++){var h=this[a][0];null!=h&&(s[h]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);n&&s[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),r&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=r):l[2]=r),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),t.push(l))}},t}},6474:e=>{var t,r=(t="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var r,n,i=void 0!==(e=e||{})?e:{};i.ready=new Promise((function(e,t){r=e,n=t}));var o,s={};for(o in i)i.hasOwnProperty(o)&&(s[o]=i[o]);var a,h,c=[],l="";document.currentScript&&(l=document.currentScript.src),t&&(l=t),l=0!==l.indexOf("blob:")?l.substr(0,l.lastIndexOf("/")+1):"",a=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText};var u,d,f,p=i.print||function(){}.bind(),_=i.printErr||function(){}.bind();for(o in s)s.hasOwnProperty(o)&&(i[o]=s[o]);s=null,i.arguments&&(c=i.arguments),i.thisProgram&&i.thisProgram,i.quit&&i.quit,i.wasmBinary&&(u=i.wasmBinary),i.noExitRuntime&&i.noExitRuntime,"object"!=typeof WebAssembly&&G("no native wasm support detected");var E,g,b,m,T,A=!1,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function S(e,t,r){for(var n=t+r,i=t;e[i]&&!(i>=n);)++i;if(i-t>16&&e.subarray&&x)return x.decode(e.subarray(t,i));for(var o="";t<i;){var s=e[t++];if(128&s){var a=63&e[t++];if(192!=(224&s)){var h=63&e[t++];if((s=224==(240&s)?(15&s)<<12|a<<6|h:(7&s)<<18|a<<12|h<<6|63&e[t++])<65536)o+=String.fromCharCode(s);else{var c=s-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&s)<<6|a)}else o+=String.fromCharCode(s)}return o}function y(e,t){return e?S(b,e,t):""}function I(e,t,r,n){if(!(n>0))return 0;for(var i=r,o=r+n-1,s=0;s<e.length;++s){var a=e.charCodeAt(s);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++s)),a<=127){if(r>=o)break;t[r++]=a}else if(a<=2047){if(r+1>=o)break;t[r++]=192|a>>6,t[r++]=128|63&a}else if(a<=65535){if(r+2>=o)break;t[r++]=224|a>>12,t[r++]=128|a>>6&63,t[r++]=128|63&a}else{if(r+3>=o)break;t[r++]=240|a>>18,t[r++]=128|a>>12&63,t[r++]=128|a>>6&63,t[r++]=128|63&a}}return t[r]=0,r-i}function O(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++r)),n<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}function R(e){E=e,i.HEAP8=g=new Int8Array(e),i.HEAP16=m=new Int16Array(e),i.HEAP32=T=new Int32Array(e),i.HEAPU8=b=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=new Float64Array(e)}var v=i.INITIAL_MEMORY||16777216;(d=i.wasmMemory?i.wasmMemory:new WebAssembly.Memory({initial:v/65536,maximum:32768}))&&(E=d.buffer),v=E.byteLength,R(E);var C=[],L=[],N=[],P=[],w=0,M=null,D=null;function U(e){w++,i.monitorRunDependencies&&i.monitorRunDependencies(w)}function B(e){if(w--,i.monitorRunDependencies&&i.monitorRunDependencies(w),0==w&&(null!==M&&(clearInterval(M),M=null),D)){var t=D;D=null,t()}}function G(e){i.onAbort&&i.onAbort(e),_(e+=""),A=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var t=new WebAssembly.RuntimeError(e);throw n(t),t}function H(e){return t=e,r="data:application/octet-stream;base64,",String.prototype.startsWith?t.startsWith(r):0===t.indexOf(r);var t,r}i.preloadedImages={},i.preloadedAudios={};var F,k,Y,W="libtimidity.wasm";function X(){try{if(u)return new Uint8Array(u);if(h)return h(W);throw"both async and sync fetching of the wasm failed"}catch(e){G(e)}}function V(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?f.get(r)():f.get(r)(t.arg):r(void 0===t.arg?null:t.arg)}else t(i)}}function K(){var e=function(){var e=new Error;if(!e.stack){try{throw new Error}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}();return i.extraStackTrace&&(e+="\n"+i.extraStackTrace()),e.replace(/\b_Z[\w\d_]+/g,(function(e){return e==e?e:e+" ["+e+"]"}))}function j(e){return T[le()>>2]=e,e}H(W)||(F=W,W=i.locateFile?i.locateFile(F,l):l+F);var z={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),r="/"===e.substr(-1);return(e=z.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=z.splitPath(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},basename:function(e){if("/"===e)return"/";var t=(e=(e=z.normalize(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return z.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return z.normalize(e.join("/"))},join2:function(e,t){return z.normalize(e+"/"+t)}},Z={resolve:function(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:J.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,t="/"===n.charAt(0)}return(t?"/":"")+(e=z.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=Z.resolve(e).substr(1),t=Z.resolve(t).substr(1);for(var n=r(e.split("/")),i=r(t.split("/")),o=Math.min(n.length,i.length),s=o,a=0;a<o;a++)if(n[a]!==i[a]){s=a;break}var h=[];for(a=s;a<n.length;a++)h.push("..");return(h=h.concat(i.slice(s))).join("/")}},$={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){$.ttys[e]={input:[],output:[],ops:t},J.registerDevice(e,$.stream_ops)},stream_ops:{open:function(e){var t=$.ttys[e.node.rdev];if(!t)throw new J.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,r,n,i){if(!e.tty||!e.tty.ops.get_char)throw new J.ErrnoError(60);for(var o=0,s=0;s<n;s++){var a;try{a=e.tty.ops.get_char(e.tty)}catch(e){throw new J.ErrnoError(29)}if(void 0===a&&0===o)throw new J.ErrnoError(6);if(null==a)break;o++,t[r+s]=a}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,r,n,i){if(!e.tty||!e.tty.ops.put_char)throw new J.ErrnoError(60);try{for(var o=0;o<n;o++)e.tty.ops.put_char(e.tty,t[r+o])}catch(e){throw new J.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n"),!t)return null;e.input=oe(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(p(S(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(p(S(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(_(S(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(_(S(e.output,0)),e.output=[])}}};function q(e){for(var t=function(e,t){return t||(t=16),Math.ceil(e/t)*t}(e,16384),r=ce(t);e<t;)g[r+e++]=0;return r}var Q={ops_table:null,mount:function(e){return Q.createNode(null,"/",16895,0)},createNode:function(e,t,r,n){if(J.isBlkdev(r)||J.isFIFO(r))throw new J.ErrnoError(63);Q.ops_table||(Q.ops_table={dir:{node:{getattr:Q.node_ops.getattr,setattr:Q.node_ops.setattr,lookup:Q.node_ops.lookup,mknod:Q.node_ops.mknod,rename:Q.node_ops.rename,unlink:Q.node_ops.unlink,rmdir:Q.node_ops.rmdir,readdir:Q.node_ops.readdir,symlink:Q.node_ops.symlink},stream:{llseek:Q.stream_ops.llseek}},file:{node:{getattr:Q.node_ops.getattr,setattr:Q.node_ops.setattr},stream:{llseek:Q.stream_ops.llseek,read:Q.stream_ops.read,write:Q.stream_ops.write,allocate:Q.stream_ops.allocate,mmap:Q.stream_ops.mmap,msync:Q.stream_ops.msync}},link:{node:{getattr:Q.node_ops.getattr,setattr:Q.node_ops.setattr,readlink:Q.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Q.node_ops.getattr,setattr:Q.node_ops.setattr},stream:J.chrdev_stream_ops}});var i=J.createNode(e,t,r,n);return J.isDir(i.mode)?(i.node_ops=Q.ops_table.dir.node,i.stream_ops=Q.ops_table.dir.stream,i.contents={}):J.isFile(i.mode)?(i.node_ops=Q.ops_table.file.node,i.stream_ops=Q.ops_table.file.stream,i.usedBytes=0,i.contents=null):J.isLink(i.mode)?(i.node_ops=Q.ops_table.link.node,i.stream_ops=Q.ops_table.link.stream):J.isChrdev(i.mode)&&(i.node_ops=Q.ops_table.chrdev.node,i.stream_ops=Q.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i),i},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],r=0;r<e.usedBytes;++r)t.push(e.contents[r]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var r=e.contents?e.contents.length:0;if(!(r>=t)){t=Math.max(t,r*(r<1048576?2:1.125)>>>0),0!=r&&(t=Math.max(t,256));var n=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var r=e.contents;return e.contents=new Uint8Array(t),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=J.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,J.isDir(e.mode)?t.size=4096:J.isFile(e.mode)?t.size=e.usedBytes:J.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&Q.resizeFileStorage(e,t.size)},lookup:function(e,t){throw J.genericErrors[44]},mknod:function(e,t,r,n){return Q.createNode(e,t,r,n)},rename:function(e,t,r){if(J.isDir(e.mode)){var n;try{n=J.lookupNode(t,r)}catch(e){}if(n)for(var i in n.contents)throw new J.ErrnoError(55)}delete e.parent.contents[e.name],e.name=r,t.contents[r]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var r=J.lookupNode(e,t);for(var n in r.contents)throw new J.ErrnoError(55);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var r in e.contents)e.contents.hasOwnProperty(r)&&t.push(r);return t},symlink:function(e,t,r){var n=Q.createNode(e,t,41471,0);return n.link=r,n},readlink:function(e){if(!J.isLink(e.mode))throw new J.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,r,n,i){var o=e.node.contents;if(i>=e.node.usedBytes)return 0;var s=Math.min(e.node.usedBytes-i,n);if(s>8&&o.subarray)t.set(o.subarray(i,i+s),r);else for(var a=0;a<s;a++)t[r+a]=o[i+a];return s},write:function(e,t,r,n,i,o){if(t.buffer===g.buffer&&(o=!1),!n)return 0;var s=e.node;if(s.timestamp=Date.now(),t.subarray&&(!s.contents||s.contents.subarray)){if(o)return s.contents=t.subarray(r,r+n),s.usedBytes=n,n;if(0===s.usedBytes&&0===i)return s.contents=t.slice(r,r+n),s.usedBytes=n,n;if(i+n<=s.usedBytes)return s.contents.set(t.subarray(r,r+n),i),n}if(Q.expandFileStorage(s,i+n),s.contents.subarray&&t.subarray)s.contents.set(t.subarray(r,r+n),i);else for(var a=0;a<n;a++)s.contents[i+a]=t[r+a];return s.usedBytes=Math.max(s.usedBytes,i+n),n},llseek:function(e,t,r){var n=t;if(1===r?n+=e.position:2===r&&J.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new J.ErrnoError(28);return n},allocate:function(e,t,r){Q.expandFileStorage(e.node,t+r),e.node.usedBytes=Math.max(e.node.usedBytes,t+r)},mmap:function(e,t,r,n,i,o){var s,a,h;if(0===t||G("Assertion failed: "+s),!J.isFile(e.node.mode))throw new J.ErrnoError(43);var c=e.node.contents;if(2&o||c.buffer!==E){if((n>0||n+r<c.length)&&(c=c.subarray?c.subarray(n,n+r):Array.prototype.slice.call(c,n,n+r)),h=!0,!(a=q(r)))throw new J.ErrnoError(48);g.set(c,a)}else h=!1,a=c.byteOffset;return{ptr:a,allocated:h}},msync:function(e,t,r,n,i){if(!J.isFile(e.node.mode))throw new J.ErrnoError(43);return 2&i||Q.stream_ops.write(e,t,0,n,r,!1),0}}},J={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof J.ErrnoError))throw e+" : "+K();return j(e.errno)},lookupPath:function(e,t){if(t=t||{},!(e=Z.resolve(J.cwd(),e)))return{path:"",node:null};var r={follow_mount:!0,recurse_count:0};for(var n in r)void 0===t[n]&&(t[n]=r[n]);if(t.recurse_count>8)throw new J.ErrnoError(32);for(var i=z.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),o=J.root,s="/",a=0;a<i.length;a++){var h=a===i.length-1;if(h&&t.parent)break;if(o=J.lookupNode(o,i[a]),s=z.join2(s,i[a]),J.isMountpoint(o)&&(!h||h&&t.follow_mount)&&(o=o.mounted.root),!h||t.follow)for(var c=0;J.isLink(o.mode);){var l=J.readlink(s);if(s=Z.resolve(z.dirname(s),l),o=J.lookupPath(s,{recurse_count:t.recurse_count}).node,c++>40)throw new J.ErrnoError(32)}}return{path:s,node:o}},getPath:function(e){for(var t;;){if(J.isRoot(e)){var r=e.mount.mountpoint;return t?"/"!==r[r.length-1]?r+"/"+t:r+t:r}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%J.nameTable.length},hashAddNode:function(e){var t=J.hashName(e.parent.id,e.name);e.name_next=J.nameTable[t],J.nameTable[t]=e},hashRemoveNode:function(e){var t=J.hashName(e.parent.id,e.name);if(J.nameTable[t]===e)J.nameTable[t]=e.name_next;else for(var r=J.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode:function(e,t){var r=J.mayLookup(e);if(r)throw new J.ErrnoError(r,e);for(var n=J.hashName(e.id,t),i=J.nameTable[n];i;i=i.name_next){var o=i.name;if(i.parent.id===e.id&&o===t)return i}return J.lookup(e,t)},createNode:function(e,t,r,n){var i=new J.FSNode(e,t,r,n);return J.hashAddNode(i),i},destroyNode:function(e){J.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return!(49152&~e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=J.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return J.ignorePermissions||(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){var t=J.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{return J.lookupNode(e,t),20}catch(e){}return J.nodePermissions(e,"wx")},mayDelete:function(e,t,r){var n;try{n=J.lookupNode(e,t)}catch(e){return e.errno}var i=J.nodePermissions(e,"wx");if(i)return i;if(r){if(!J.isDir(n.mode))return 54;if(J.isRoot(n)||J.getPath(n)===J.cwd())return 10}else if(J.isDir(n.mode))return 31;return 0},mayOpen:function(e,t){return e?J.isLink(e.mode)?32:J.isDir(e.mode)&&("r"!==J.flagsToPermissionString(t)||512&t)?31:J.nodePermissions(e,J.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||J.MAX_OPEN_FDS;for(var r=e;r<=t;r++)if(!J.streams[r])return r;throw new J.ErrnoError(33)},getStream:function(e){return J.streams[e]},createStream:function(e,t,r){J.FSStream||(J.FSStream=function(){},J.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return!!(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var n=new J.FSStream;for(var i in e)n[i]=e[i];e=n;var o=J.nextfd(t,r);return e.fd=o,J.streams[o]=e,e},closeStream:function(e){J.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=J.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new J.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){J.devices[e]={stream_ops:t}},getDevice:function(e){return J.devices[e]},getMounts:function(e){for(var t=[],r=[e];r.length;){var n=r.pop();t.push(n),r.push.apply(r,n.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),J.syncFSRequests++,J.syncFSRequests>1&&_("warning: "+J.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var r=J.getMounts(J.root.mount),n=0;function i(e){return J.syncFSRequests--,t(e)}function o(e){if(e)return o.errored?void 0:(o.errored=!0,i(e));++n>=r.length&&i(null)}r.forEach((function(t){if(!t.type.syncfs)return o(null);t.type.syncfs(t,e,o)}))},mount:function(e,t,r){var n,i="/"===r,o=!r;if(i&&J.root)throw new J.ErrnoError(10);if(!i&&!o){var s=J.lookupPath(r,{follow_mount:!1});if(r=s.path,n=s.node,J.isMountpoint(n))throw new J.ErrnoError(10);if(!J.isDir(n.mode))throw new J.ErrnoError(54)}var a={type:e,opts:t,mountpoint:r,mounts:[]},h=e.mount(a);return h.mount=a,a.root=h,i?J.root=h:n&&(n.mounted=a,n.mount&&n.mount.mounts.push(a)),h},unmount:function(e){var t=J.lookupPath(e,{follow_mount:!1});if(!J.isMountpoint(t.node))throw new J.ErrnoError(28);var r=t.node,n=r.mounted,i=J.getMounts(n);Object.keys(J.nameTable).forEach((function(e){for(var t=J.nameTable[e];t;){var r=t.name_next;-1!==i.indexOf(t.mount)&&J.destroyNode(t),t=r}})),r.mounted=null;var o=r.mount.mounts.indexOf(n);r.mount.mounts.splice(o,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,r){var n=J.lookupPath(e,{parent:!0}).node,i=z.basename(e);if(!i||"."===i||".."===i)throw new J.ErrnoError(28);var o=J.mayCreate(n,i);if(o)throw new J.ErrnoError(o);if(!n.node_ops.mknod)throw new J.ErrnoError(63);return n.node_ops.mknod(n,i,t,r)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,J.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,J.mknod(e,t,0)},mkdirTree:function(e,t){for(var r=e.split("/"),n="",i=0;i<r.length;++i)if(r[i]){n+="/"+r[i];try{J.mkdir(n,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,r){return void 0===r&&(r=t,t=438),t|=8192,J.mknod(e,t,r)},symlink:function(e,t){if(!Z.resolve(e))throw new J.ErrnoError(44);var r=J.lookupPath(t,{parent:!0}).node;if(!r)throw new J.ErrnoError(44);var n=z.basename(t),i=J.mayCreate(r,n);if(i)throw new J.ErrnoError(i);if(!r.node_ops.symlink)throw new J.ErrnoError(63);return r.node_ops.symlink(r,n,e)},rename:function(e,t){var r,n,i=z.dirname(e),o=z.dirname(t),s=z.basename(e),a=z.basename(t);if(r=J.lookupPath(e,{parent:!0}).node,n=J.lookupPath(t,{parent:!0}).node,!r||!n)throw new J.ErrnoError(44);if(r.mount!==n.mount)throw new J.ErrnoError(75);var h,c=J.lookupNode(r,s),l=Z.relative(e,o);if("."!==l.charAt(0))throw new J.ErrnoError(28);if("."!==(l=Z.relative(t,i)).charAt(0))throw new J.ErrnoError(55);try{h=J.lookupNode(n,a)}catch(e){}if(c!==h){var u=J.isDir(c.mode),d=J.mayDelete(r,s,u);if(d)throw new J.ErrnoError(d);if(d=h?J.mayDelete(n,a,u):J.mayCreate(n,a))throw new J.ErrnoError(d);if(!r.node_ops.rename)throw new J.ErrnoError(63);if(J.isMountpoint(c)||h&&J.isMountpoint(h))throw new J.ErrnoError(10);if(n!==r&&(d=J.nodePermissions(r,"w")))throw new J.ErrnoError(d);try{J.trackingDelegate.willMovePath&&J.trackingDelegate.willMovePath(e,t)}catch(r){_("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+r.message)}J.hashRemoveNode(c);try{r.node_ops.rename(c,n,a)}catch(e){throw e}finally{J.hashAddNode(c)}try{J.trackingDelegate.onMovePath&&J.trackingDelegate.onMovePath(e,t)}catch(r){_("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+r.message)}}},rmdir:function(e){var t=J.lookupPath(e,{parent:!0}).node,r=z.basename(e),n=J.lookupNode(t,r),i=J.mayDelete(t,r,!0);if(i)throw new J.ErrnoError(i);if(!t.node_ops.rmdir)throw new J.ErrnoError(63);if(J.isMountpoint(n))throw new J.ErrnoError(10);try{J.trackingDelegate.willDeletePath&&J.trackingDelegate.willDeletePath(e)}catch(t){_("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.rmdir(t,r),J.destroyNode(n);try{J.trackingDelegate.onDeletePath&&J.trackingDelegate.onDeletePath(e)}catch(t){_("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){var t=J.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new J.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=J.lookupPath(e,{parent:!0}).node,r=z.basename(e),n=J.lookupNode(t,r),i=J.mayDelete(t,r,!1);if(i)throw new J.ErrnoError(i);if(!t.node_ops.unlink)throw new J.ErrnoError(63);if(J.isMountpoint(n))throw new J.ErrnoError(10);try{J.trackingDelegate.willDeletePath&&J.trackingDelegate.willDeletePath(e)}catch(t){_("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.unlink(t,r),J.destroyNode(n);try{J.trackingDelegate.onDeletePath&&J.trackingDelegate.onDeletePath(e)}catch(t){_("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){var t=J.lookupPath(e).node;if(!t)throw new J.ErrnoError(44);if(!t.node_ops.readlink)throw new J.ErrnoError(28);return Z.resolve(J.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var r=J.lookupPath(e,{follow:!t}).node;if(!r)throw new J.ErrnoError(44);if(!r.node_ops.getattr)throw new J.ErrnoError(63);return r.node_ops.getattr(r)},lstat:function(e){return J.stat(e,!0)},chmod:function(e,t,r){var n;if(!(n="string"==typeof e?J.lookupPath(e,{follow:!r}).node:e).node_ops.setattr)throw new J.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&t|-4096&n.mode,timestamp:Date.now()})},lchmod:function(e,t){J.chmod(e,t,!0)},fchmod:function(e,t){var r=J.getStream(e);if(!r)throw new J.ErrnoError(8);J.chmod(r.node,t)},chown:function(e,t,r,n){var i;if(!(i="string"==typeof e?J.lookupPath(e,{follow:!n}).node:e).node_ops.setattr)throw new J.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,t,r){J.chown(e,t,r,!0)},fchown:function(e,t,r){var n=J.getStream(e);if(!n)throw new J.ErrnoError(8);J.chown(n.node,t,r)},truncate:function(e,t){if(t<0)throw new J.ErrnoError(28);var r;if(!(r="string"==typeof e?J.lookupPath(e,{follow:!0}).node:e).node_ops.setattr)throw new J.ErrnoError(63);if(J.isDir(r.mode))throw new J.ErrnoError(31);if(!J.isFile(r.mode))throw new J.ErrnoError(28);var n=J.nodePermissions(r,"w");if(n)throw new J.ErrnoError(n);r.node_ops.setattr(r,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var r=J.getStream(e);if(!r)throw new J.ErrnoError(8);if(!(2097155&r.flags))throw new J.ErrnoError(28);J.truncate(r.node,t)},utime:function(e,t,r){var n=J.lookupPath(e,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(t,r)})},open:function(e,t,r,n,o){if(""===e)throw new J.ErrnoError(44);var s;if(r=void 0===r?438:r,r=64&(t="string"==typeof t?J.modeStringToFlags(t):t)?4095&r|32768:0,"object"==typeof e)s=e;else{e=z.normalize(e);try{s=J.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var a=!1;if(64&t)if(s){if(128&t)throw new J.ErrnoError(20)}else s=J.mknod(e,r,0),a=!0;if(!s)throw new J.ErrnoError(44);if(J.isChrdev(s.mode)&&(t&=-513),65536&t&&!J.isDir(s.mode))throw new J.ErrnoError(54);if(!a){var h=J.mayOpen(s,t);if(h)throw new J.ErrnoError(h)}512&t&&J.truncate(s,0),t&=-131713;var c=J.createStream({node:s,path:J.getPath(s),flags:t,seekable:!0,position:0,stream_ops:s.stream_ops,ungotten:[],error:!1},n,o);c.stream_ops.open&&c.stream_ops.open(c),!i.logReadFiles||1&t||(J.readFiles||(J.readFiles={}),e in J.readFiles||(J.readFiles[e]=1,_("FS.trackingDelegate error on read file: "+e)));try{if(J.trackingDelegate.onOpenFile){var l=0;1!=(2097155&t)&&(l|=J.tracking.openFlags.READ),2097155&t&&(l|=J.tracking.openFlags.WRITE),J.trackingDelegate.onOpenFile(e,l)}}catch(t){_("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return c},close:function(e){if(J.isClosed(e))throw new J.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{J.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,r){if(J.isClosed(e))throw new J.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new J.ErrnoError(70);if(0!=r&&1!=r&&2!=r)throw new J.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read:function(e,t,r,n,i){if(n<0||i<0)throw new J.ErrnoError(28);if(J.isClosed(e))throw new J.ErrnoError(8);if(1==(2097155&e.flags))throw new J.ErrnoError(8);if(J.isDir(e.node.mode))throw new J.ErrnoError(31);if(!e.stream_ops.read)throw new J.ErrnoError(28);var o=void 0!==i;if(o){if(!e.seekable)throw new J.ErrnoError(70)}else i=e.position;var s=e.stream_ops.read(e,t,r,n,i);return o||(e.position+=s),s},write:function(e,t,r,n,i,o){if(n<0||i<0)throw new J.ErrnoError(28);if(J.isClosed(e))throw new J.ErrnoError(8);if(!(2097155&e.flags))throw new J.ErrnoError(8);if(J.isDir(e.node.mode))throw new J.ErrnoError(31);if(!e.stream_ops.write)throw new J.ErrnoError(28);e.seekable&&1024&e.flags&&J.llseek(e,0,2);var s=void 0!==i;if(s){if(!e.seekable)throw new J.ErrnoError(70)}else i=e.position;var a=e.stream_ops.write(e,t,r,n,i,o);s||(e.position+=a);try{e.path&&J.trackingDelegate.onWriteToFile&&J.trackingDelegate.onWriteToFile(e.path)}catch(t){_("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+t.message)}return a},allocate:function(e,t,r){if(J.isClosed(e))throw new J.ErrnoError(8);if(t<0||r<=0)throw new J.ErrnoError(28);if(!(2097155&e.flags))throw new J.ErrnoError(8);if(!J.isFile(e.node.mode)&&!J.isDir(e.node.mode))throw new J.ErrnoError(43);if(!e.stream_ops.allocate)throw new J.ErrnoError(138);e.stream_ops.allocate(e,t,r)},mmap:function(e,t,r,n,i,o){if(2&i&&!(2&o)&&2!=(2097155&e.flags))throw new J.ErrnoError(2);if(1==(2097155&e.flags))throw new J.ErrnoError(2);if(!e.stream_ops.mmap)throw new J.ErrnoError(43);return e.stream_ops.mmap(e,t,r,n,i,o)},msync:function(e,t,r,n,i){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,r,n,i):0},munmap:function(e){return 0},ioctl:function(e,t,r){if(!e.stream_ops.ioctl)throw new J.ErrnoError(59);return e.stream_ops.ioctl(e,t,r)},readFile:function(e,t){if((t=t||{}).flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var r,n=J.open(e,t.flags),i=J.stat(e).size,o=new Uint8Array(i);return J.read(n,o,0,i,0),"utf8"===t.encoding?r=S(o,0):"binary"===t.encoding&&(r=o),J.close(n),r},writeFile:function(e,t,r){(r=r||{}).flags=r.flags||"w";var n=J.open(e,r.flags,r.mode);if("string"==typeof t){var i=new Uint8Array(O(t)+1),o=I(t,i,0,i.length);J.write(n,i,0,o,void 0,r.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");J.write(n,t,0,t.byteLength,void 0,r.canOwn)}J.close(n)},cwd:function(){return J.currentPath},chdir:function(e){var t=J.lookupPath(e,{follow:!0});if(null===t.node)throw new J.ErrnoError(44);if(!J.isDir(t.node.mode))throw new J.ErrnoError(54);var r=J.nodePermissions(t.node,"x");if(r)throw new J.ErrnoError(r);J.currentPath=t.path},createDefaultDirectories:function(){J.mkdir("/tmp"),J.mkdir("/home"),J.mkdir("/home/web_user")},createDefaultDevices:function(){J.mkdir("/dev"),J.registerDevice(J.makedev(1,3),{read:function(){return 0},write:function(e,t,r,n,i){return n}}),J.mkdev("/dev/null",J.makedev(1,3)),$.register(J.makedev(5,0),$.default_tty_ops),$.register(J.makedev(6,0),$.default_tty1_ops),J.mkdev("/dev/tty",J.makedev(5,0)),J.mkdev("/dev/tty1",J.makedev(6,0));var e=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}return function(){G("randomDevice")}}();J.createDevice("/dev","random",e),J.createDevice("/dev","urandom",e),J.mkdir("/dev/shm"),J.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){J.mkdir("/proc"),J.mkdir("/proc/self"),J.mkdir("/proc/self/fd"),J.mount({mount:function(){var e=J.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var r=+t,n=J.getStream(r);if(!n)throw new J.ErrnoError(8);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return n.path}}};return i.parent=i,i}},e}},{},"/proc/self/fd")},createStandardStreams:function(){i.stdin?J.createDevice("/dev","stdin",i.stdin):J.symlink("/dev/tty","/dev/stdin"),i.stdout?J.createDevice("/dev","stdout",null,i.stdout):J.symlink("/dev/tty","/dev/stdout"),i.stderr?J.createDevice("/dev","stderr",null,i.stderr):J.symlink("/dev/tty1","/dev/stderr"),J.open("/dev/stdin","r"),J.open("/dev/stdout","w"),J.open("/dev/stderr","w")},ensureErrnoError:function(){J.ErrnoError||(J.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},J.ErrnoError.prototype=new Error,J.ErrnoError.prototype.constructor=J.ErrnoError,[44].forEach((function(e){J.genericErrors[e]=new J.ErrnoError(e),J.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){J.ensureErrnoError(),J.nameTable=new Array(4096),J.mount(Q,{},"/"),J.createDefaultDirectories(),J.createDefaultDevices(),J.createSpecialDirectories(),J.filesystems={MEMFS:Q}},init:function(e,t,r){J.init.initialized=!0,J.ensureErrnoError(),i.stdin=e||i.stdin,i.stdout=t||i.stdout,i.stderr=r||i.stderr,J.createStandardStreams()},quit:function(){J.init.initialized=!1;var e=i._fflush;e&&e(0);for(var t=0;t<J.streams.length;t++){var r=J.streams[t];r&&J.close(r)}},getMode:function(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r},findObject:function(e,t){var r=J.analyzePath(e,t);return r.exists?r.object:(j(r.error),null)},analyzePath:function(e,t){try{e=(n=J.lookupPath(e,{follow:!t})).path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=J.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=z.basename(e),n=J.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(e){r.error=e.errno}return r},createPath:function(e,t,r,n){e="string"==typeof e?e:J.getPath(e);for(var i=t.split("/").reverse();i.length;){var o=i.pop();if(o){var s=z.join2(e,o);try{J.mkdir(s)}catch(e){}e=s}}return s},createFile:function(e,t,r,n,i){var o=z.join2("string"==typeof e?e:J.getPath(e),t),s=J.getMode(n,i);return J.create(o,s)},createDataFile:function(e,t,r,n,i,o){var s=t?z.join2("string"==typeof e?e:J.getPath(e),t):e,a=J.getMode(n,i),h=J.create(s,a);if(r){if("string"==typeof r){for(var c=new Array(r.length),l=0,u=r.length;l<u;++l)c[l]=r.charCodeAt(l);r=c}J.chmod(h,146|a);var d=J.open(h,"w");J.write(d,r,0,r.length,0,o),J.close(d),J.chmod(h,a)}return h},createDevice:function(e,t,r,n){var i=z.join2("string"==typeof e?e:J.getPath(e),t),o=J.getMode(!!r,!!n);J.createDevice.major||(J.createDevice.major=64);var s=J.makedev(J.createDevice.major++,0);return J.registerDevice(s,{open:function(e){e.seekable=!1},close:function(e){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,t,n,i,o){for(var s=0,a=0;a<i;a++){var h;try{h=r()}catch(e){throw new J.ErrnoError(29)}if(void 0===h&&0===s)throw new J.ErrnoError(6);if(null==h)break;s++,t[n+a]=h}return s&&(e.node.timestamp=Date.now()),s},write:function(e,t,r,i,o){for(var s=0;s<i;s++)try{n(t[r+s])}catch(e){throw new J.ErrnoError(29)}return i&&(e.node.timestamp=Date.now()),s}}),J.mkdev(i,o,s)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!a)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=oe(a(e.url),!0),e.usedBytes=e.contents.length}catch(e){t=!1}return t||j(29),t},createLazyFile:function(e,t,r,n,i){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,r=e/this.chunkSize|0;return this.getter(r)[t]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t,n=Number(e.getResponseHeader("Content-length")),i=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,o=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,s=1048576;i||(s=n);var a=this;a.setDataGetter((function(e){var t=e*s,i=(e+1)*s-1;if(i=Math.min(i,n-1),void 0===a.chunks[e]&&(a.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>n-1)throw new Error("only "+n+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",r,!1),n!==s&&i.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+r+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):oe(i.responseText||"",!0)}(t,i)),void 0===a.chunks[e])throw new Error("doXHR failed!");return a.chunks[e]})),!o&&n||(s=n=1,n=this.getter(0).length,s=n,p("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=s,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s={isDevice:!1,url:r},a=J.createFile(e,t,s,n,i);s.contents?a.contents=s.contents:s.url&&(a.contents=null,a.url=s.url),Object.defineProperties(a,{usedBytes:{get:function(){return this.contents.length}}});var h={};return Object.keys(a.stream_ops).forEach((function(e){var t=a.stream_ops[e];h[e]=function(){if(!J.forceLoadFile(a))throw new J.ErrnoError(29);return t.apply(null,arguments)}})),h.read=function(e,t,r,n,i){if(!J.forceLoadFile(a))throw new J.ErrnoError(29);var o=e.node.contents;if(i>=o.length)return 0;var s=Math.min(o.length-i,n);if(o.slice)for(var h=0;h<s;h++)t[r+h]=o[i+h];else for(h=0;h<s;h++)t[r+h]=o.get(i+h);return s},a.stream_ops=h,a},createPreloadedFile:function(e,t,r,n,o,s,a,h,c,l){Browser.init();var u=t?Z.resolve(z.join2(e,t)):e;function d(r){function d(r){l&&l(),h||J.createDataFile(e,t,r,n,o,c),s&&s(),B()}var f=!1;i.preloadPlugins.forEach((function(e){f||e.canHandle(u)&&(e.handle(r,u,d,(function(){a&&a(),B()})),f=!0)})),f||d(r)}U(),"string"==typeof r?Browser.asyncLoad(r,(function(e){d(e)}),a):d(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=J.indexedDB();try{var i=n.open(J.DB_NAME(),J.DB_VERSION)}catch(e){return r(e)}i.onupgradeneeded=function(){p("creating db"),i.result.createObjectStore(J.DB_STORE_NAME)},i.onsuccess=function(){var n=i.result.transaction([J.DB_STORE_NAME],"readwrite"),o=n.objectStore(J.DB_STORE_NAME),s=0,a=0,h=e.length;function c(){0==a?t():r()}e.forEach((function(e){var t=o.put(J.analyzePath(e).object.contents,e);t.onsuccess=function(){++s+a==h&&c()},t.onerror=function(){a++,s+a==h&&c()}})),n.onerror=r},i.onerror=r},loadFilesFromDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=J.indexedDB();try{var i=n.open(J.DB_NAME(),J.DB_VERSION)}catch(e){return r(e)}i.onupgradeneeded=r,i.onsuccess=function(){var n=i.result;try{var o=n.transaction([J.DB_STORE_NAME],"readonly")}catch(e){return void r(e)}var s=o.objectStore(J.DB_STORE_NAME),a=0,h=0,c=e.length;function l(){0==h?t():r()}e.forEach((function(e){var t=s.get(e);t.onsuccess=function(){J.analyzePath(e).exists&&J.unlink(e),J.createDataFile(z.dirname(e),z.basename(e),t.result,!0,!0,!0),++a+h==c&&l()},t.onerror=function(){h++,a+h==c&&l()}})),o.onerror=r},i.onerror=r}},ee={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(e,t){if("/"!==t[0]){var r;if(-100===e)r=J.cwd();else{var n=J.getStream(e);if(!n)throw new J.ErrnoError(8);r=n.path}t=z.join2(r,t)}return t},doStat:function(e,t,r){try{var n=e(t)}catch(e){if(e&&e.node&&z.normalize(t)!==z.normalize(J.getPath(e.node)))return-54;throw e}return T[r>>2]=n.dev,T[r+4>>2]=0,T[r+8>>2]=n.ino,T[r+12>>2]=n.mode,T[r+16>>2]=n.nlink,T[r+20>>2]=n.uid,T[r+24>>2]=n.gid,T[r+28>>2]=n.rdev,T[r+32>>2]=0,Y=[n.size>>>0,(k=n.size,+Math.abs(k)>=1?k>0?(0|Math.min(+Math.floor(k/4294967296),4294967295))>>>0:~~+Math.ceil((k-+(~~k>>>0))/4294967296)>>>0:0)],T[r+40>>2]=Y[0],T[r+44>>2]=Y[1],T[r+48>>2]=4096,T[r+52>>2]=n.blocks,T[r+56>>2]=n.atime.getTime()/1e3|0,T[r+60>>2]=0,T[r+64>>2]=n.mtime.getTime()/1e3|0,T[r+68>>2]=0,T[r+72>>2]=n.ctime.getTime()/1e3|0,T[r+76>>2]=0,Y=[n.ino>>>0,(k=n.ino,+Math.abs(k)>=1?k>0?(0|Math.min(+Math.floor(k/4294967296),4294967295))>>>0:~~+Math.ceil((k-+(~~k>>>0))/4294967296)>>>0:0)],T[r+80>>2]=Y[0],T[r+84>>2]=Y[1],0},doMsync:function(e,t,r,n,i){var o=b.slice(e,e+r);J.msync(t,o,i,r,n)},doMkdir:function(e,t){return"/"===(e=z.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),J.mkdir(e,t,0),0},doMknod:function(e,t,r){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return J.mknod(e,t,r),0},doReadlink:function(e,t,r){if(r<=0)return-28;var n=J.readlink(e),i=Math.min(r,O(n)),o=g[t+i];return I(n,b,t,r+1),g[t+i]=o,i},doAccess:function(e,t){if(-8&t)return-28;var r;if(!(r=J.lookupPath(e,{follow:!0}).node))return-44;var n="";return 4&t&&(n+="r"),2&t&&(n+="w"),1&t&&(n+="x"),n&&J.nodePermissions(r,n)?-2:0},doDup:function(e,t,r){var n=J.getStream(r);return n&&J.close(n),J.open(e,t,0,r,r).fd},doReadv:function(e,t,r,n){for(var i=0,o=0;o<r;o++){var s=T[t+8*o>>2],a=T[t+(8*o+4)>>2],h=J.read(e,g,s,a,n);if(h<0)return-1;if(i+=h,h<a)break}return i},doWritev:function(e,t,r,n){for(var i=0,o=0;o<r;o++){var s=T[t+8*o>>2],a=T[t+(8*o+4)>>2],h=J.write(e,g,s,a,n);if(h<0)return-1;i+=h}return i},varargs:void 0,get:function(){return ee.varargs+=4,T[ee.varargs-4>>2]},getStr:function(e){return y(e)},getStreamFromFD:function(e){var t=J.getStream(e);if(!t)throw new J.ErrnoError(8);return t},get64:function(e,t){return e}};function te(e){try{return d.grow(e-E.byteLength+65535>>>16),R(d.buffer),1}catch(e){}}var re=function(e,t,r,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=J.nextInode++,this.name=t,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=n},ne=365,ie=146;function oe(e,t,r){var n=r>0?r:O(e)+1,i=new Array(n),o=I(e,i,0,i.length);return t&&(i.length=o),i}Object.defineProperties(re.prototype,{read:{get:function(){return(this.mode&ne)===ne},set:function(e){e?this.mode|=ne:this.mode&=-366}},write:{get:function(){return(this.mode&ie)===ie},set:function(e){e?this.mode|=ie:this.mode&=-147}},isFolder:{get:function(){return J.isDir(this.mode)}},isDevice:{get:function(){return J.isChrdev(this.mode)}}}),J.FSNode=re,J.staticInit(),i.FS_createPath=J.createPath,i.FS_createDataFile=J.createDataFile,i.FS_createPreloadedFile=J.createPreloadedFile,i.FS_createLazyFile=J.createLazyFile,i.FS_createDevice=J.createDevice,i.FS_unlink=J.unlink,L.push({func:function(){he()}});var se,ae={c:function(e,t,r){ee.varargs=r;try{var n=ee.getStreamFromFD(e);switch(t){case 0:return(i=ee.get())<0?-28:J.open(n.path,n.flags,0,i).fd;case 1:case 2:case 13:case 14:return 0;case 3:return n.flags;case 4:var i=ee.get();return n.flags|=i,0;case 12:return i=ee.get(),m[i+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return j(28),-1}}catch(e){return void 0!==J&&e instanceof J.ErrnoError||G(e),-e.errno}},i:function(e,t,r){ee.varargs=r;try{var n=ee.getStreamFromFD(e);switch(t){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return n.tty?0:-59;case 21519:if(!n.tty)return-59;var i=ee.get();return T[i>>2]=0,0;case 21520:return n.tty?-28:-59;case 21531:return i=ee.get(),J.ioctl(n,t,i);default:G("bad ioctl syscall "+t)}}catch(e){return void 0!==J&&e instanceof J.ErrnoError||G(e),-e.errno}},j:function(e,t,r){ee.varargs=r;try{var n=ee.getStr(e),i=ee.get();return J.open(n,t,i).fd}catch(e){return void 0!==J&&e instanceof J.ErrnoError||G(e),-e.errno}},f:function(e,t,r){b.copyWithin(e,t,t+r)},g:function(e){e>>>=0;var t=b.length,r=2147483648;if(e>r)return!1;for(var n,i,o=1;o<=4;o*=2){var s=t*(1+.2/o);if(s=Math.min(s,e+100663296),te(Math.min(r,((n=Math.max(16777216,e,s))%(i=65536)>0&&(n+=i-n%i),n))))return!0}return!1},d:function(e){try{var t=ee.getStreamFromFD(e);return J.close(t),0}catch(e){return void 0!==J&&e instanceof J.ErrnoError||G(e),e.errno}},h:function(e,t,r,n){try{var i=ee.getStreamFromFD(e),o=ee.doReadv(i,t,r);return T[n>>2]=o,0}catch(e){return void 0!==J&&e instanceof J.ErrnoError||G(e),e.errno}},e:function(e,t,r,n,i){try{var o=ee.getStreamFromFD(e),s=4294967296*r+(t>>>0),a=9007199254740992;return s<=-a||s>=a?-61:(J.llseek(o,s,n),Y=[o.position>>>0,(k=o.position,+Math.abs(k)>=1?k>0?(0|Math.min(+Math.floor(k/4294967296),4294967295))>>>0:~~+Math.ceil((k-+(~~k>>>0))/4294967296)>>>0:0)],T[i>>2]=Y[0],T[i+4>>2]=Y[1],o.getdents&&0===s&&0===n&&(o.getdents=null),0)}catch(e){return void 0!==J&&e instanceof J.ErrnoError||G(e),e.errno}},b:function(e,t,r,n){try{var i=ee.getStreamFromFD(e),o=ee.doWritev(i,t,r);return T[n>>2]=o,0}catch(e){return void 0!==J&&e instanceof J.ErrnoError||G(e),e.errno}},a:d},he=(function(){var e={a:ae};function t(e,t){var r=e.exports;i.asm=r,f=i.asm.k,B()}function r(e){t(e.instance)}function n(t){return(u||"function"!=typeof fetch?Promise.resolve().then(X):fetch(W,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+W+"'";return e.arrayBuffer()})).catch((function(){return X()}))).then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){_("failed to asynchronously prepare wasm: "+e),G(e)}))}if(U(),i.instantiateWasm)try{return i.instantiateWasm(e,t)}catch(e){return _("Module.instantiateWasm callback failed with error: "+e),!1}!function(){if(u||"function"!=typeof WebAssembly.instantiateStreaming||H(W)||"function"!=typeof fetch)return n(r);fetch(W,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){return _("wasm streaming compile failed: "+e),_("falling back to ArrayBuffer instantiation"),n(r)}))}))}()}(),i.___wasm_call_ctors=function(){return(he=i.___wasm_call_ctors=i.asm.l).apply(null,arguments)}),ce=i._malloc=function(){return(ce=i._malloc=i.asm.m).apply(null,arguments)},le=(i._free=function(){return(i._free=i.asm.n).apply(null,arguments)},i._mid_song_start=function(){return(i._mid_song_start=i.asm.o).apply(null,arguments)},i._mid_song_seek=function(){return(i._mid_song_seek=i.asm.p).apply(null,arguments)},i._mid_song_get_total_time=function(){return(i._mid_song_get_total_time=i.asm.q).apply(null,arguments)},i._mid_song_get_time=function(){return(i._mid_song_get_time=i.asm.r).apply(null,arguments)},i._mid_song_read_wave=function(){return(i._mid_song_read_wave=i.asm.s).apply(null,arguments)},i._mid_istream_open_mem=function(){return(i._mid_istream_open_mem=i.asm.t).apply(null,arguments)},i._mid_istream_close=function(){return(i._mid_istream_close=i.asm.u).apply(null,arguments)},i._mid_exit=function(){return(i._mid_exit=i.asm.v).apply(null,arguments)},i._mid_init=function(){return(i._mid_init=i.asm.w).apply(null,arguments)},i._mid_song_load=function(){return(i._mid_song_load=i.asm.x).apply(null,arguments)},i._mid_song_free=function(){return(i._mid_song_free=i.asm.y).apply(null,arguments)},i._mid_alloc_options=function(){return(i._mid_alloc_options=i.asm.z).apply(null,arguments)},i._mid_get_load_request_count=function(){return(i._mid_get_load_request_count=i.asm.A).apply(null,arguments)},i._mid_get_load_request=function(){return(i._mid_get_load_request=i.asm.B).apply(null,arguments)},i.___errno_location=function(){return(le=i.___errno_location=i.asm.C).apply(null,arguments)});function ue(e){function t(){se||(se=!0,i.calledRun=!0,A||(i.noFSInit||J.init.initialized||J.init(),$.init(),V(L),J.ignorePermissions=!1,V(N),r(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),function(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)e=i.postRun.shift(),P.unshift(e);var e;V(P)}()))}e=e||c,w>0||(function(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)e=i.preRun.shift(),C.unshift(e);var e;V(C)}(),w>0||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),t()}),1)):t()))}if(i.UTF8ToString=y,i.addRunDependency=U,i.removeRunDependency=B,i.FS_createPath=J.createPath,i.FS_createDataFile=J.createDataFile,i.FS_createPreloadedFile=J.createPreloadedFile,i.FS_createLazyFile=J.createLazyFile,i.FS_createDevice=J.createDevice,i.FS_unlink=J.unlink,i.FS=J,D=function e(){se||ue(),se||(D=e)},i.run=ue,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return ue(),e.ready});e.exports=r},6549:e=>{"use strict";e.exports=Object.getOwnPropertyDescriptor},6556:(e,t,r)=>{"use strict";var n=r(453),i=r(3126),o=i([n("%String.prototype.indexOf%")]);e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i([r]):r}},6570:e=>{"use strict";function t(e,t,n){n=n||2;var o,s,a,h,u,d,p,_=t&&t.length,E=_?t[0]*n:e.length,g=r(e,0,E,n,!0),b=[];if(!g||g.next===g.prev)return b;if(_&&(g=function(e,t,n,i){var o,s,a,h=[];for(o=0,s=t.length;o<s;o++)(a=r(e,t[o]*i,o<s-1?t[o+1]*i:e.length,i,!1))===a.next&&(a.steiner=!0),h.push(f(a));for(h.sort(c),o=0;o<h.length;o++)n=l(h[o],n);return n}(e,t,g,n)),e.length>80*n){o=a=e[0],s=h=e[1];for(var m=n;m<E;m+=n)(u=e[m])<o&&(o=u),(d=e[m+1])<s&&(s=d),u>a&&(a=u),d>h&&(h=d);p=0!==(p=Math.max(a-o,h-s))?32767/p:0}return i(g,b,n,o,s,p,0),b}function r(e,t,r,n,i){var o,s;if(i===O(e,t,r,n)>0)for(o=t;o<r;o+=n)s=S(o,e[o],e[o+1],s);else for(o=r-n;o>=t;o-=n)s=S(o,e[o],e[o+1],s);return s&&g(s,s.next)&&(y(s),s=s.next),s}function n(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!g(n,n.next)&&0!==E(n.prev,n,n.next))n=n.next;else{if(y(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function i(e,t,r,c,l,u,f){if(e){!f&&u&&function(e,t,r,n){var i=e;do{0===i.z&&(i.z=d(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,r,n,i,o,s,a,h,c=1;do{for(r=e,e=null,o=null,s=0;r;){for(s++,n=r,a=0,t=0;t<c&&(a++,n=n.nextZ);t++);for(h=c;a>0||h>0&&n;)0!==a&&(0===h||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,h--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,c*=2}while(s>1)}(i)}(e,c,l,u);for(var p,_,E=e;e.prev!==e.next;)if(p=e.prev,_=e.next,u?s(e,c,l,u):o(e))t.push(p.i/r|0),t.push(e.i/r|0),t.push(_.i/r|0),y(e),e=_.next,E=_.next;else if((e=_)===E){f?1===f?i(e=a(n(e),t,r),t,r,c,l,u,2):2===f&&h(e,t,r,c,l,u):i(n(e),t,r,c,l,u,1);break}}}function o(e){var t=e.prev,r=e,n=e.next;if(E(t,r,n)>=0)return!1;for(var i=t.x,o=r.x,s=n.x,a=t.y,h=r.y,c=n.y,l=i<o?i<s?i:s:o<s?o:s,u=a<h?a<c?a:c:h<c?h:c,d=i>o?i>s?i:s:o>s?o:s,f=a>h?a>c?a:c:h>c?h:c,_=n.next;_!==t;){if(_.x>=l&&_.x<=d&&_.y>=u&&_.y<=f&&p(i,a,o,h,s,c,_.x,_.y)&&E(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function s(e,t,r,n){var i=e.prev,o=e,s=e.next;if(E(i,o,s)>=0)return!1;for(var a=i.x,h=o.x,c=s.x,l=i.y,u=o.y,f=s.y,_=a<h?a<c?a:c:h<c?h:c,g=l<u?l<f?l:f:u<f?u:f,b=a>h?a>c?a:c:h>c?h:c,m=l>u?l>f?l:f:u>f?u:f,T=d(_,g,t,r,n),A=d(b,m,t,r,n),x=e.prevZ,S=e.nextZ;x&&x.z>=T&&S&&S.z<=A;){if(x.x>=_&&x.x<=b&&x.y>=g&&x.y<=m&&x!==i&&x!==s&&p(a,l,h,u,c,f,x.x,x.y)&&E(x.prev,x,x.next)>=0)return!1;if(x=x.prevZ,S.x>=_&&S.x<=b&&S.y>=g&&S.y<=m&&S!==i&&S!==s&&p(a,l,h,u,c,f,S.x,S.y)&&E(S.prev,S,S.next)>=0)return!1;S=S.nextZ}for(;x&&x.z>=T;){if(x.x>=_&&x.x<=b&&x.y>=g&&x.y<=m&&x!==i&&x!==s&&p(a,l,h,u,c,f,x.x,x.y)&&E(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;S&&S.z<=A;){if(S.x>=_&&S.x<=b&&S.y>=g&&S.y<=m&&S!==i&&S!==s&&p(a,l,h,u,c,f,S.x,S.y)&&E(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function a(e,t,r){var i=e;do{var o=i.prev,s=i.next.next;!g(o,s)&&b(o,i,i.next,s)&&A(o,s)&&A(s,o)&&(t.push(o.i/r|0),t.push(i.i/r|0),t.push(s.i/r|0),y(i),y(i.next),i=e=s),i=i.next}while(i!==e);return n(i)}function h(e,t,r,o,s,a){var h=e;do{for(var c=h.next.next;c!==h.prev;){if(h.i!==c.i&&_(h,c)){var l=x(h,c);return h=n(h,h.next),l=n(l,l.next),i(h,t,r,o,s,a,0),void i(l,t,r,o,s,a,0)}c=c.next}h=h.next}while(h!==e)}function c(e,t){return e.x-t.x}function l(e,t){var r=function(e,t){var r,n=t,i=e.x,o=e.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=i&&a>s&&(s=a,r=n.x<n.next.x?n:n.next,a===i))return r}n=n.next}while(n!==t);if(!r)return null;var h,c=r,l=r.x,d=r.y,f=1/0;n=r;do{i>=n.x&&n.x>=l&&i!==n.x&&p(o<d?i:s,o,l,d,o<d?s:i,o,n.x,n.y)&&(h=Math.abs(o-n.y)/(i-n.x),A(n,e)&&(h<f||h===f&&(n.x>r.x||n.x===r.x&&u(r,n)))&&(r=n,f=h)),n=n.next}while(n!==c);return r}(e,t);if(!r)return t;var i=x(r,e);return n(i,i.next),n(r,r.next)}function u(e,t){return E(e.prev,e,t.prev)<0&&E(t.next,e,e.next)<0}function d(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function f(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function p(e,t,r,n,i,o,s,a){return(i-s)*(t-a)>=(e-s)*(o-a)&&(e-s)*(n-a)>=(r-s)*(t-a)&&(r-s)*(o-a)>=(i-s)*(n-a)}function _(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&b(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(A(e,t)&&A(t,e)&&function(e,t){var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(E(e.prev,e,t.prev)||E(e,t.prev,t))||g(e,t)&&E(e.prev,e,e.next)>0&&E(t.prev,t,t.next)>0)}function E(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function g(e,t){return e.x===t.x&&e.y===t.y}function b(e,t,r,n){var i=T(E(e,t,r)),o=T(E(e,t,n)),s=T(E(r,n,e)),a=T(E(r,n,t));return i!==o&&s!==a||(!(0!==i||!m(e,r,t))||(!(0!==o||!m(e,n,t))||(!(0!==s||!m(r,e,n))||!(0!==a||!m(r,t,n)))))}function m(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function T(e){return e>0?1:e<0?-1:0}function A(e,t){return E(e.prev,e,e.next)<0?E(e,t,e.next)>=0&&E(e,e.prev,t)>=0:E(e,t,e.prev)<0||E(e,e.next,t)<0}function x(e,t){var r=new I(e.i,e.x,e.y),n=new I(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function S(e,t,r,n){var i=new I(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function y(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function I(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(e,t,r,n){for(var i=0,o=t,s=r-n;o<r;o+=n)i+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return i}e.exports=t,e.exports.default=t,t.deviation=function(e,t,r,n){var i=t&&t.length,o=i?t[0]*r:e.length,s=Math.abs(O(e,0,o,r));if(i)for(var a=0,h=t.length;a<h;a++){var c=t[a]*r,l=a<h-1?t[a+1]*r:e.length;s-=Math.abs(O(e,c,l,r))}var u=0;for(a=0;a<n.length;a+=3){var d=n[a]*r,f=n[a+1]*r,p=n[a+2]*r;u+=Math.abs((e[d]-e[p])*(e[f+1]-e[d+1])-(e[d]-e[f])*(e[p+1]-e[d+1]))}return 0===s&&0===u?0:Math.abs((u-s)/s)},t.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var s=0;s<t;s++)r.vertices.push(e[i][o][s]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r}},6574:(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var n=r(1601),i=r.n(n),o=r(6314),s=r.n(o),a=r(4417),h=r.n(a),c=new URL(r(7724),r.b),l=new URL(r(2299),r.b),u=s()(i()),d=h()(c),f=h()(l);u.push([e.id,`@font-face {\n\tfont-family: "Roboto Mono";\n\tsrc: url(${d});\n}\n\n@font-face {\n\tfont-family: "DOS";\n\tsrc: url(${f});\n}\n`,""]);const p=u},6585:e=>{var t=1e3,r=60*t,n=60*r,i=24*n,o=7*i,s=365.25*i;function a(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,h){h=h||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!a)return;var h=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return h*s;case"weeks":case"week":case"w":return h*o;case"days":case"day":case"d":return h*i;case"hours":case"hour":case"hrs":case"hr":case"h":return h*n;case"minutes":case"minute":case"mins":case"min":case"m":return h*r;case"seconds":case"second":case"secs":case"sec":case"s":return h*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}(e);if("number"===c&&isFinite(e))return h.long?function(e){var o=Math.abs(e);if(o>=i)return a(e,o,i,"day");if(o>=n)return a(e,o,n,"hour");if(o>=r)return a(e,o,r,"minute");if(o>=t)return a(e,o,t,"second");return e+" ms"}(e):function(e){var o=Math.abs(e);if(o>=i)return Math.round(e/i)+"d";if(o>=n)return Math.round(e/n)+"h";if(o>=r)return Math.round(e/r)+"m";if(o>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},6721:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1601),i=r.n(n),o=r(6314),s=r.n(o)()(i());s.push([e.id,"#header-window-container > p > span:first-of-type {\n\tdisplay: inline-block;\n\tfont-weight: bold;\n\twidth: 140px;\n}\n",""]);const a=s},6743:(e,t,r)=>{"use strict";var n=r(9353);e.exports=Function.prototype.bind||n},6746:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readPitchBend=void 0;var n=r(541),i=r(2660);t.readPitchBend=function(e){var t=n.readEventByte(e),r=e.file.readUInt8(e.offset++);return{delay:i.readDelay(e,t.last),type:t.type,channel:t.channel,amount:r}}},6801:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1601),i=r.n(n),o=r(6314),s=r.n(o)()(i());s.push([e.id,".dir-container {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n}\n.dir-container > div {\n\twidth: 510px;\n\tborder: 1px solid black;\n\tmargin: 8px;\n}\n.dir-container > div > div {\n\tdisplay: flex;\n\tflex-wrap: nowrap;\n\tpadding-left: 2px;\n\tborder-bottom: 1px solid grey;\n\tpadding-top: 1px;\n\tpadding-bottom: 1px;\n}\n\n.dir-container > div > div:last-of-type {\n\tborder-bottom: none;\n}\n\n.dir-container > div > div > div:nth-of-type(1) {\n\twidth: 50px;\n}\n.dir-container > div > div > div:nth-of-type(2) {\n\twidth: 90px;\n}\n.dir-container > div > div > div:nth-of-type(3) {\n\twidth: 75px;\n}\n.dir-container > div > div > div:nth-of-type(4) {\n\twidth: 60px;\n}\n.dir-container > div > div > div:nth-of-type(5) {\n\twidth: 110px;\n}\n.dir-container > div > div > div:nth-of-type(6) {\n\twidth: 75px;\n}\n\n@media only screen and (max-width: 1080px) {\n\t.dir-container > div {\n\t\twidth: 100%;\n\t\tmargin: 0;\n\t\tmargin-bottom: 8px;\n\t}\n\t.dir-container > div > div > div:nth-of-type(6) {\n\t\tdisplay: none;\n\t}\n}\n",""]);const a=s},7119:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},7131:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1601),i=r.n(n),o=r(6314),s=r.n(o)()(i());s.push([e.id,'#dehacked-window-textarea {\n\tfont-family: "Courier New", Courier, monospace;\n\twidth: 600px;\n\theight: calc(100vh - 55px);\n}\n\n@media only screen and (max-width: 1080px) {\n\t#dehacked-window-textarea {\n\t\twidth: 100%;\n\t}\n}\n',""]);const a=s},7134:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.writeMidPitchBend=void 0;var n,i=r(8881);!function(e){e[e.PitchBend=224]="PitchBend"}(n||(n={}));t.writeMidPitchBend=function(e,t){var r=t.amount>>1,o=t.amount<<7&128;i.write8(e,n.PitchBend|t.channel),i.write8(e,o),i.write8(e,r)}},7166:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readMusEvent=void 0;var n=r(8815),i=r(2326),o=r(4978),s=r(3097),a=r(6746),h=r(864),c=r(5892),l=r(823);t.readMusEvent=function(e){switch(o.peekEventType(e)){case n.MusEventType.ReleaseNote:return i.readReleaseNote(e);case n.MusEventType.PlayNote:return s.readPlayNote(e);case n.MusEventType.PitchBend:return a.readPitchBend(e);case n.MusEventType.SystemEvent:return h.readSystemEvent(e);case n.MusEventType.Controller:return l.readController(e);default:return c.readGenericEvent(e)}}},7176:(e,t,r)=>{"use strict";var n,i=r(3126),o=r(5795);try{n=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var s=!!n&&o&&o(Object.prototype,"__proto__"),a=Object,h=a.getPrototypeOf;e.exports=s&&"function"==typeof s.get?i([s.get]):"function"==typeof h&&function(e){return h(null==e?e:a(e))}},7526:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=a(e),s=o[0],h=o[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,s,h)),l=0,u=h>0?s-4:s;for(r=0;r<u;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===h&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[l++]=255&t);1===h&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=16383,a=0,c=n-i;a<c;a+=s)o.push(h(e,a,a+s>c?c:a+s));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function h(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},7659:e=>{"use strict";var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},7720:(e,t,r)=>{"use strict";var n=r(4765),i=Object.prototype.hasOwnProperty,o=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e,t){for(var r=t&&t.plainObjects?{__proto__:null}:{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},h=1024;e.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],s=i.obj[i.prop],a=Object.keys(s),h=0;h<a.length;++h){var c=a[h],l=s[c];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(t.push({obj:s,prop:c}),r.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(o(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r,i,o){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var c="",l=0;l<a.length;l+=h){for(var u=a.length>=h?a.slice(l,l+h):a,d=[],f=0;f<u.length;++f){var p=u.charCodeAt(f);45===p||46===p||95===p||126===p||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||o===n.RFC1738&&(40===p||41===p)?d[d.length]=u.charAt(f):p<128?d[d.length]=s[p]:p<2048?d[d.length]=s[192|p>>6]+s[128|63&p]:p<55296||p>=57344?d[d.length]=s[224|p>>12]+s[128|p>>6&63]+s[128|63&p]:(f+=1,p=65536+((1023&p)<<10|1023&u.charCodeAt(f)),d[d.length]=s[240|p>>18]+s[128|p>>12&63]+s[128|p>>6&63]+s[128|63&p])}c+=d.join("")}return c},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,n){if(!r)return t;if("object"!=typeof r&&"function"!=typeof r){if(o(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!i.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var s=t;return o(t)&&!o(r)&&(s=a(t,n)),o(t)&&o(r)?(r.forEach((function(r,o){if(i.call(t,o)){var s=t[o];s&&"object"==typeof s&&r&&"object"==typeof r?t[o]=e(s,r,n):t.push(r)}else t[o]=r})),t):Object.keys(r).reduce((function(t,o){var s=r[o];return i.call(t,o)?t[o]=e(t[o],s,n):t[o]=s,t}),s)}}},7724:(e,t,r)=>{"use strict";e.exports=r.p+"34e46962590bff8eefe5.ttf"},7825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var i=void 0!==r.layer;i&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,i&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var o=r.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},7833:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0)}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(736)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},8002:e=>{"use strict";e.exports=Math.min},8068:e=>{"use strict";e.exports=SyntaxError},8078:(e,t,r)=>{"use strict";function n(e){return e.arrayBuffer?e.arrayBuffer():new Promise(((t,r)=>{const n=new FileReader;n.addEventListener("loadend",(()=>{t(n.result)})),n.addEventListener("error",r),n.readAsArrayBuffer(e)}))}async function i(e){const t=await n(e);return new Uint8Array(t)}function o(e){return"undefined"!=typeof Blob&&e instanceof Blob}function s(e){return"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer}r.d(t,{$1:()=>ie}),e=r.hmd(e);const a="undefined"!=typeof process&&process.versions&&void 0!==process.versions.node&&void 0===process.versions.electron;class h{constructor(e){this.typedArray=e instanceof ArrayBuffer||s(e)?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}async getLength(){return this.typedArray.byteLength}async read(e,t){return new Uint8Array(this.typedArray.buffer,this.typedArray.byteOffset+e,t)}}class c{constructor(e){this.blob=e}async getLength(){return this.blob.size}async read(e,t){const r=this.blob.slice(e,e+t),i=await n(r);return new Uint8Array(i)}async sliceAsBlob(e,t,r=""){return this.blob.slice(e,e+t,r)}}function l(e,t){var r=e.length;if(t<=r)return e;var n=new Uint8Array(Math.max(r<<1,t));return n.set(e,0),n}function u(e,t,r,n,i,o){for(var s=E,a=b,h=0;h<r;){var c=e[a(n,i)&t];i+=15&c;var l=c>>>4;if(l<=15)o[h]=l,h++;else{var u=0,d=0;16==l?(d=3+s(n,i,2),i+=2,u=o[h-1]):17==l?(d=3+s(n,i,3),i+=3):18==l&&(d=11+s(n,i,7),i+=7);for(var f=h+d;h<f;)o[h]=u,h++}}return i}function d(e,t,r,n){for(var i=0,o=0,s=n.length>>>1;o<r;){var a=e[o+t];n[o<<1]=0,n[1+(o<<1)]=a,a>i&&(i=a),o++}for(;o<s;)n[o<<1]=0,n[1+(o<<1)]=0,o++;return i}function f(e,t){for(var r,n,i,o,s=e.length,a=m.bl_count,h=0;h<=t;h++)a[h]=0;for(h=1;h<s;h+=2)a[e[h]]++;var c=m.next_code;for(r=0,a[0]=0,n=1;n<=t;n++)r=r+a[n-1]<<1,c[n]=r;for(i=0;i<s;i+=2)0!=(o=e[i+1])&&(e[i]=c[o],c[o]++)}function p(e,t,r){for(var n=e.length,i=m.rev15,o=0;o<n;o+=2)if(0!=e[o+1])for(var s=o>>1,a=e[o+1],h=s<<4|a,c=t-a,l=e[o]<<c,u=l+(1<<c);l!=u;){r[i[l]>>>15-t]=h,l++}}function _(e,t){for(var r=m.rev15,n=15-t,i=0;i<e.length;i+=2){var o=e[i]<<t-e[i+1];e[i]=r[o]>>>n}}function E(e,t,r){return(e[t>>>3]|e[(t>>>3)+1]<<8)>>>(7&t)&(1<<r)-1}function g(e,t,r){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(7&t)&(1<<r)-1}function b(e,t){return(e[t>>>3]|e[(t>>>3)+1]<<8|e[(t>>>3)+2]<<16)>>>(7&t)}const m=(T=Uint16Array,A=Uint32Array,{next_code:new T(16),bl_count:new T(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new T(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new A(32),flmap:new T(512),fltree:[],fdmap:new T(32),fdtree:[],lmap:new T(32768),ltree:[],ttree:[],dmap:new T(32768),dtree:[],imap:new T(512),itree:[],rev15:new T(32768),lhst:new A(286),dhst:new A(30),ihst:new A(19),lits:new A(15e3),strt:new T(65536),prev:new T(32768)});var T,A;!function(){for(var e=0;e<32768;e++){var t=e;t=(4278255360&(t=(4042322160&(t=(3435973836&(t=(2863311530&t)>>>1|(1431655765&t)<<1))>>>2|(858993459&t)<<2))>>>4|(252645135&t)<<4))>>>8|(16711935&t)<<8,m.rev15[e]=(t>>>16|t<<16)>>>17}function r(e,t,r){for(;0!=t--;)e.push(0,r)}for(e=0;e<32;e++)m.ldef[e]=m.of0[e]<<3|m.exb[e],m.ddef[e]=m.df0[e]<<4|m.dxb[e];r(m.fltree,144,8),r(m.fltree,112,9),r(m.fltree,24,7),r(m.fltree,8,8),f(m.fltree,9),p(m.fltree,9,m.flmap),_(m.fltree,9),r(m.fdtree,32,5),f(m.fdtree,5),p(m.fdtree,5,m.fdmap),_(m.fdtree,5),r(m.itree,19,0),r(m.ltree,286,0),r(m.dtree,30,0),r(m.ttree,320,0)}();const x={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var r=t,n=0;n<8;n++)1&r?r=3988292384^r>>>1:r>>>=1;e[t]=r}return e}(),update:function(e,t,r,n){for(var i=0;i<n;i++)e=x.table[255&(e^t[r+i])]^e>>>8;return e},crc:function(e,t,r){return 4294967295^x.update(4294967295,e,t,r)}};function S(e,t){return function(e,t){var r=Uint8Array;if(3==e[0]&&0==e[1])return t||new r(0);var n=g,i=E,o=u,s=b,a=null==t;a&&(t=new r(e.length>>>2<<3));for(var h,c,_=0,T=0,A=0,x=0,S=0,y=0,I=0,O=0,R=0;0==_;)if(_=n(e,R,1),T=n(e,R+1,2),R+=3,0!=T){if(a&&(t=l(t,O+(1<<17))),1==T&&(h=m.flmap,c=m.fdmap,y=511,I=31),2==T){A=i(e,R,5)+257,x=i(e,R+5,5)+1,S=i(e,R+10,4)+4,R+=14;for(var v=0;v<38;v+=2)m.itree[v]=0,m.itree[v+1]=0;var C=1;for(v=0;v<S;v++){var L=i(e,R+3*v,3);m.itree[1+(m.ordr[v]<<1)]=L,L>C&&(C=L)}R+=3*S,f(m.itree,C),p(m.itree,C,m.imap),h=m.lmap,c=m.dmap,R=o(m.imap,(1<<C)-1,A+x,e,R,m.ttree);var N=d(m.ttree,0,A,m.ltree);y=(1<<N)-1;var P=d(m.ttree,A,x,m.dtree);I=(1<<P)-1,f(m.ltree,N),p(m.ltree,N,h),f(m.dtree,P),p(m.dtree,P,c)}for(;;){var w=h[s(e,R)&y];R+=15&w;var M=w>>>4;if(M>>>8==0)t[O++]=M;else{if(256==M)break;var D=O+M-254;if(M>264){var U=m.ldef[M-257];D=O+(U>>>3)+i(e,R,7&U),R+=7&U}var B=c[s(e,R)&I];R+=15&B;var G=B>>>4,H=m.ddef[G],F=(H>>>4)+n(e,R,15&H);for(R+=15&H,a&&(t=l(t,O+(1<<17)));O<D;)t[O]=t[O++-F],t[O]=t[O++-F],t[O]=t[O++-F],t[O]=t[O++-F];O=D}}}else{7&R&&(R+=8-(7&R));var k=(R>>>3)+4,Y=e[k-4]|e[k-3]<<8;a&&(t=l(t,O+Y)),t.set(new r(e.buffer,e.byteOffset+k,Y),O),R=k+Y<<3,O+=Y}return t.length==O?t:t.slice(0,O)}(e,t)}const y={numWorkers:1,workerURL:"",useWorkers:!1};let I=0,O=0,R=!0;const v=[],C=[],L=[],N=new Map;function P(e){D(e.target);const{id:t,error:r,data:n}=e.data,i=N.get(t);N.delete(t),r?i.reject(r):i.resolve(n)}function w(e){return new Promise(((t,r)=>{const n=new Worker(e);n.onmessage=e=>{"start"===e.data?(n.onerror=void 0,n.onmessage=void 0,t(n)):r(new Error(`unexpected message: ${e.data}`))},n.onerror=r}))}const M=function(){if(a){const{Worker:n}=(r="worker_threads",(t=e).require?t.require(r):{});return{createWorker:async e=>new n(e),addEventListener(e,t){e.on("message",(r=>{t({target:e,data:r})}))},async terminate(e){await e.terminate()}}}return{async createWorker(e){try{return await w(e)}catch(e){}let t;try{const r=await fetch(e,{mode:"cors"});if(!r.ok)throw new Error(`could not load: ${e}`);t=await r.text(),e=URL.createObjectURL(new Blob([t],{type:"application/javascript"}));const n=await w(e);return y.workerURL=e,n}catch(e){}if(void 0!==t)try{e=`data:application/javascript;base64,${btoa(t)}`;const r=await w(e);return y.workerURL=e,r}catch(e){}throw new Error("can not start workers")},addEventListener(e,t){e.addEventListener("message",t)},async terminate(e){e.terminate()}};var t,r}();function D(e){C.push(e),B()}function U(e,t,r,n){const i=new Uint8Array(t);S(e,i),n(r?new Blob([i],{type:r}):i.buffer)}async function B(){if(0!==L.length){if(y.useWorkers&&R){const e=await async function(){if(0===C.length&&O<y.numWorkers){++O;try{const e=await M.createWorker(y.workerURL);v.push(e),C.push(e),M.addEventListener(e,P)}catch(e){R=!1}}return C.pop()}();if(R){if(e){if(0===L.length)return void D(e);const{id:t,src:r,uncompressedSize:n,type:i,resolve:o,reject:s}=L.shift();N.set(t,{id:t,resolve:o,reject:s});const a=[];e.postMessage({type:"inflate",data:{id:t,type:i,src:r,uncompressedSize:n}},a)}return}}for(;L.length;){const{src:e,uncompressedSize:t,type:r,resolve:n}=L.shift();let s=e;o(e)&&(s=await i(e)),U(s,t,r,n)}}}function G(e,t,r){return new Promise(((n,i)=>{L.push({src:e,uncompressedSize:t,type:r,resolve:n,reject:i,id:I++}),B()}))}class H{constructor(e,t){var r,n;this._reader=e,this._rawEntry=t,this.name=t.name,this.nameBytes=t.nameBytes,this.size=t.uncompressedSize,this.compressedSize=t.compressedSize,this.comment=t.comment,this.commentBytes=t.commentBytes,this.compressionMethod=t.compressionMethod,this.lastModDate=(r=t.lastModFileDate,n=t.lastModFileTime,new Date(1980+(r>>9&127),(r>>5&15)-1,31&r,n>>11&31,n>>5&63,2*(31&n),0)),this.isDirectory=0===t.uncompressedSize&&t.name.endsWith("/"),this.encrypted=!!(1&t.generalPurposeBitFlag),this.externalFileAttributes=t.externalFileAttributes,this.versionMadeBy=t.versionMadeBy}async blob(e="application/octet-stream"){return await async function(e,t,r){const{decompress:n,fileDataStart:i}=await re(e,t);if(!n){const n=await V(e,i,t.compressedSize,r);return o(n)?n:new Blob([s(n.buffer)?new Uint8Array(n):n],{type:r})}const a=await V(e,i,t.compressedSize),h=await G(a,t.uncompressedSize,r);return h}(this._reader,this._rawEntry,e)}async arrayBuffer(){return await async function(e,t){const{decompress:r,fileDataStart:n}=await re(e,t);if(!r){const r=await X(e,n,t.compressedSize);return 0===(i=r).byteOffset&&i.byteLength===i.buffer.byteLength?r.buffer:r.slice().buffer}var i;const o=await V(e,n,t.compressedSize);return await G(o,t.uncompressedSize)}(this._reader,this._rawEntry)}async text(){const e=await this.arrayBuffer();return q(new Uint8Array(e))}async json(){const e=await this.text();return JSON.parse(e)}}const F=22,k=65535,Y=101010256,W=101075792;async function X(e,t,r){return await e.read(t,r)}async function V(e,t,r,n){return e.sliceAsBlob?await e.sliceAsBlob(t,r,n):await e.read(t,r)}const K={unsigned:()=>0};function j(e,t){return e[t]+256*e[t+1]}function z(e,t){return e[t]+256*e[t+1]+65536*e[t+2]+16777216*e[t+3]}function Z(e,t){return z(e,t)+4294967296*z(e,t+4)}const $=new TextDecoder;function q(e,t){return s(e.buffer)&&(e=new Uint8Array(e)),$.decode(e)}const Q=117853008;async function J(e,t,r,n){const i=t-20,o=await X(e,i,20);if(z(o,0)!==Q)throw new Error("invalid zip64 end of central directory locator signature");const s=Z(o,8),a=await X(e,s,56);if(z(a,0)!==W)throw new Error("invalid zip64 end of central directory record signature");const h=Z(a,32),c=Z(a,40);return te(e,Z(a,48),c,h,r,n)}const ee=33639248;async function te(e,t,r,n,i,o){let s=0;const a=await X(e,t,r),h=[];for(let e=0;e<n;++e){const e=a.subarray(s,s+46),t=z(e,0);if(t!==ee)throw new Error(`invalid central directory file header signature: 0x${t.toString(16)}`);const r={versionMadeBy:j(e,4),versionNeededToExtract:j(e,6),generalPurposeBitFlag:j(e,8),compressionMethod:j(e,10),lastModFileTime:j(e,12),lastModFileDate:j(e,14),crc32:z(e,16),compressedSize:z(e,20),uncompressedSize:z(e,24),fileNameLength:j(e,28),extraFieldLength:j(e,30),fileCommentLength:j(e,32),internalFileAttributes:j(e,36),externalFileAttributes:z(e,38),relativeOffsetOfLocalHeader:z(e,42)};if(64&r.generalPurposeBitFlag)throw new Error("strong encryption is not supported");s+=46;const n=a.subarray(s,s+r.fileNameLength+r.extraFieldLength+r.fileCommentLength);r.nameBytes=n.slice(0,r.fileNameLength),r.name=q(r.nameBytes);const i=r.fileNameLength+r.extraFieldLength,o=n.slice(r.fileNameLength,i);r.extraFields=[];let c=0;for(;c<o.length-3;){const e=j(o,c+0),t=c+4,n=t+j(o,c+2);if(n>o.length)throw new Error("extra field length exceeds extra field buffer size");r.extraFields.push({id:e,data:o.slice(t,n)}),c=n}if(r.commentBytes=n.slice(i,i+r.fileCommentLength),r.comment=q(r.commentBytes),s+=n.length,4294967295===r.uncompressedSize||4294967295===r.compressedSize||4294967295===r.relativeOffsetOfLocalHeader){const e=r.extraFields.find((e=>1===e.id));if(!e)throw new Error("expected zip64 extended information extra field");const t=e.data;let n=0;if(4294967295===r.uncompressedSize){if(n+8>t.length)throw new Error("zip64 extended information extra field does not include uncompressed size");r.uncompressedSize=Z(t,n),n+=8}if(4294967295===r.compressedSize){if(n+8>t.length)throw new Error("zip64 extended information extra field does not include compressed size");r.compressedSize=Z(t,n),n+=8}if(4294967295===r.relativeOffsetOfLocalHeader){if(n+8>t.length)throw new Error("zip64 extended information extra field does not include relative header offset");r.relativeOffsetOfLocalHeader=Z(t,n),n+=8}}const l=r.extraFields.find((e=>28789===e.id&&e.data.length>=6&&1===e.data[0]&&z(e.data,1)),K.unsigned(r.nameBytes));if(l&&(r.fileName=q(l.data.slice(5))),0===r.compressionMethod){let e=r.uncompressedSize;if(1&r.generalPurposeBitFlag&&(e+=12),r.compressedSize!==e)throw new Error(`compressed size mismatch for stored file: ${r.compressedSize} != ${e}`)}h.push(r)}return{zip:{comment:i,commentBytes:o},entries:h.map((t=>new H(e,t)))}}async function re(e,t){if(1&t.generalPurposeBitFlag)throw new Error("encrypted entries not supported");const r=await X(e,t.relativeOffsetOfLocalHeader,30),n=await e.getLength(),i=z(r,0);if(67324752!==i)throw new Error(`invalid local file header signature: 0x${i.toString(16)}`);const o=j(r,26),s=j(r,28),a=t.relativeOffsetOfLocalHeader+r.length+o+s;let h;if(0===t.compressionMethod)h=!1;else{if(8!==t.compressionMethod)throw new Error(`unsupported compression method: ${t.compressionMethod}`);h=!0}const c=a,l=c+t.compressedSize;if(0!==t.compressedSize&&l>n)throw new Error(`file data overflows file bounds: ${c} +  ${t.compressedSize}  > ${n}`);return{decompress:h,fileDataStart:c}}async function ne(e){let t;if("undefined"!=typeof Blob&&e instanceof Blob)t=new c(e);else if(e instanceof ArrayBuffer||e&&e.buffer&&e.buffer instanceof ArrayBuffer)t=new h(e);else if(s(e)||s(e.buffer))t=new h(e);else if("string"==typeof e){const r=await fetch(e);if(!r.ok)throw new Error(`failed http request ${e}, status: ${r.status}: ${r.statusText}`);const n=await r.blob();t=new c(n)}else{if("function"!=typeof e.getLength||"function"!=typeof e.read)throw new Error("unsupported source type");t=e}const r=await t.getLength();if(r>Number.MAX_SAFE_INTEGER)throw new Error(`file too large. size: ${r}. Only file sizes up 4503599627370496 bytes are supported`);return await async function(e,t){const r=Math.min(F+k,t),n=t-r,i=await X(e,n,r);for(let t=r-F;t>=0;--t){if(z(i,t)!==Y)continue;const r=new Uint8Array(i.buffer,i.byteOffset+t,i.byteLength-t),o=j(r,4);if(0!==o)throw new Error(`multi-volume zip files are not supported. This is volume: ${o}`);const s=j(r,10),a=z(r,12),h=z(r,16),c=j(r,20),l=r.length-F;if(c!==l)throw new Error(`invalid comment length. expected: ${l}, actual: ${c}`);const u=new Uint8Array(r.buffer,r.byteOffset+22,c),d=q(u);return 65535===s||4294967295===h?await J(e,n+t,d,u):await te(e,h,a,s,d,u)}throw new Error("could not find end of central directory. maybe not zip file")}(t,r)}async function ie(e){const{zip:t,entries:r}=await ne(e);return{zip:t,entries:Object.fromEntries(r.map((e=>[e.name,e])))}}},8287:(e,t,r)=>{"use strict";const n=r(7526),i=r(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=h,t.IS=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,h.prototype),t}function h(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return c(e,t,r)}function c(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!h.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|_(e,t);let n=a(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Z(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer))return f(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Z(e,SharedArrayBuffer)||e&&Z(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return h.from(n,t,r);const i=function(e){if(h.isBuffer(e)){const t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||$(e.length)?a(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return h.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return l(e),a(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,h.prototype),n}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function _(e,t){if(h.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(e).length;default:if(i)return n?-1:K(e).length;t=(""+t).toLowerCase(),i=!0}}function E(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return L(this,t,r);case"utf8":case"utf-8":return O(this,t,r);case"ascii":return v(this,t,r);case"latin1":case"binary":return C(this,t,r);case"base64":return I(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),$(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=h.from(t,n)),h.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){let o,s=1,a=e.length,h=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,h/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===h)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+h>a&&(r=a-h),o=r;o>=0;o--){let r=!0;for(let n=0;n<h;n++)if(c(e,o+n)!==c(t,n)){r=!1;break}if(r)return o}return-1}function T(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if($(n))return s;e[r+s]=n}return s}function A(e,t,r,n){return z(K(t,e.length-r),e,r,n)}function x(e,t,r,n){return z(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function S(e,t,r,n){return z(j(t),e,r,n)}function y(e,t,r,n){return z(function(e,t){let r,n,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function I(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function O(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,h;switch(s){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(h=(31&t)<<6|63&r,h>127&&(o=h));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(h=(15&t)<<12|(63&r)<<6|63&n,h>2047&&(h<55296||h>57343)&&(o=h));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(h=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,h>65535&&h<1114112&&(o=h))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){const t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=R));return r}(n)}h.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!h.TYPED_ARRAY_SUPPORT&&"undefined"!=typeof console&&console.error,Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},h.allocUnsafe=function(e){return u(e)},h.allocUnsafeSlow=function(e){return u(e)},h.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==h.prototype},h.compare=function(e,t){if(Z(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),Z(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(e)||!h.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},h.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return h.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=h.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Z(t,Uint8Array))i+t.length>n.length?(h.isBuffer(t)||(t=h.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!h.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},h.byteLength=_,h.prototype._isBuffer=!0,h.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},h.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},h.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},h.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?O(this,0,e):E.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(e){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===h.compare(this,e)},h.prototype.inspect=function(){let e="";const r=t.IS;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(h.prototype[o]=h.prototype.inspect),h.prototype.compare=function(e,t,r,n,i){if(Z(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const a=Math.min(o,s),c=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<a;++e)if(c[e]!==l[e]){o=c[e],s=l[e];break}return o<s?-1:s<o?1:0},h.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},h.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},h.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},h.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return T(this,e,t,r);case"utf8":case"utf-8":return A(this,e,t,r);case"ascii":case"latin1":case"binary":return x(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const R=4096;function v(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function C(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function L(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=q[e[n]];return i}function N(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function P(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function w(e,t,r,n,i,o){if(!h.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function M(e,t,r,n,i){Y(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function D(e,t,r,n,i){Y(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function U(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,r,n,o){return t=+t,r>>>=0,o||U(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function G(e,t,r,n,o){return t=+t,r>>>=0,o||U(e,0,r,8),i.write(e,t,r,n,52,8),r+8}h.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,h.prototype),n},h.prototype.readUintLE=h.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},h.prototype.readUintBE=h.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},h.prototype.readUint8=h.prototype.readUInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),this[e]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]|this[e+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]<<8|this[e+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},h.prototype.readBigUInt64LE=Q((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||X(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),h.prototype.readBigUInt64BE=Q((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||X(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),h.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},h.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},h.prototype.readInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},h.prototype.readInt16LE=function(e,t){e>>>=0,t||P(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt16BE=function(e,t){e>>>=0,t||P(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},h.prototype.readInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},h.prototype.readBigInt64LE=Q((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||X(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),h.prototype.readBigInt64BE=Q((function(e){W(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||X(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),h.prototype.readFloatLE=function(e,t){return e>>>=0,t||P(e,4,this.length),i.read(this,e,!0,23,4)},h.prototype.readFloatBE=function(e,t){return e>>>=0,t||P(e,4,this.length),i.read(this,e,!1,23,4)},h.prototype.readDoubleLE=function(e,t){return e>>>=0,t||P(e,8,this.length),i.read(this,e,!0,52,8)},h.prototype.readDoubleBE=function(e,t){return e>>>=0,t||P(e,8,this.length),i.read(this,e,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){w(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){w(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},h.prototype.writeUint8=h.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,1,255,0),this[t]=255&e,t+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeBigUInt64LE=Q((function(e,t=0){return M(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),h.prototype.writeBigUInt64BE=Q((function(e,t=0){return D(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),h.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);w(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},h.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);w(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},h.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},h.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},h.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeBigInt64LE=Q((function(e,t=0){return M(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),h.prototype.writeBigInt64BE=Q((function(e,t=0){return D(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),h.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},h.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},h.prototype.writeDoubleLE=function(e,t,r){return G(this,e,t,!0,r)},h.prototype.writeDoubleBE=function(e,t,r){return G(this,e,t,!1,r)},h.prototype.copy=function(e,t,r,n){if(!h.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},h.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!h.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=h.isBuffer(e)?e:h.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};const H={};function F(e,t,r){H[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function k(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function Y(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new H.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){W(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||X(t,e.length-(r+1))}(n,i,o)}function W(e,t){if("number"!=typeof e)throw new H.ERR_INVALID_ARG_TYPE(t,"number",e)}function X(e,t,r){if(Math.floor(e)!==e)throw W(e,r),new H.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new H.ERR_BUFFER_OUT_OF_BOUNDS;throw new H.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=k(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=k(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const V=/[^+/0-9A-Za-z-_]/g;function K(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function j(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function $(e){return e!=e}const q=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Q(e){return"undefined"==typeof BigInt?J:e}function J(){throw new Error("BigInt not supported")}},8301:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1601),i=r.n(n),o=r(6314),s=r.n(o)()(i());s.push([e.id,"#music-window-container {\n\tdisplay: flex;\n\tgap: 8px;\n}\n\n@media only screen and (max-width: 1080px) {\n\t#music-window-container {\n\t\tflex-direction: column-reverse;\n\t}\n}\n\n#music-window-container.minimized {\n\tposition: fixed;\n\tbottom: 0;\n\tborder-top: 2px solid black;\n\tbackground-color: white;\n\theight: 50px;\n\twidth: calc(100% - 200px);\n\tmargin-left: -8px;\n\tpadding-left: 8px;\n\tpadding-right: 8px;\n\tz-index: 1;\n}\n\n@media only screen and (max-width: 1080px) {\n\t#music-window-container.minimized {\n\t\theight: 110px;\n\t\twidth: 100vw;\n\t}\n}\n\n.music-window-music-list-container {\n\tmax-height: calc(100vh - 80px);\n\tborder: 1px solid black;\n\toverflow-y: auto;\n\tuser-select: none;\n\tflex-grow: 0.25;\n\tmax-width: 500px;\n}\n\n@media only screen and (max-width: 1080px) {\n\t.music-window-music-list-container {\n\t\tmax-height: calc(100vh - 180px);\n\t\tmax-width: initial;\n\t}\n}\n\n#music-window-container.minimized .music-window-music-list-container {\n\tdisplay: none;\n}\n\n.music-window-music-list-row-container {\n\tpadding: 8px;\n\tborder-bottom: 1px dashed gray;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.music-window-music-list-row-container > div:first-of-type {\n\tflex-grow: 1;\n}\n\n.music-window-music-list-row-container.selected {\n\tbackground-color: rgba(0, 0, 0, 0.125);\n}\n\n.music-window-music-list-row-container:hover {\n\tcursor: pointer;\n\tbackground-color: rgba(0, 0, 0, 0.1);\n}\n\n.music-window-music-list-row-container:last-of-type {\n\tborder-bottom: none;\n}\n\n.music-window-music-list-row-container .music-window-music-list-row-name {\n\tfont-weight: bold;\n}\n\n.music-window-music-list-row-container .music-window-music-list-row-info {\n\tfont-size: 90%;\n\tpadding-top: 2px;\n\tdisplay: flex;\n\tflex-direction: row;\n\tgap: 8px;\n}\n\n.music-window-music-list-row-container .music-window-music-list-row-playing {\n\tvisibility: hidden;\n\tflex-shrink: 1;\n}\n\n.music-window-music-list-row-container.playing\n\t.music-window-music-list-row-playing {\n\tvisibility: initial;\n}\n\n.music-window-music-list-row-container\n\t.music-window-music-list-row-info\n\t> p\n\t> span:first-of-type {\n\tfont-weight: bold;\n}\n\n.music-window-player-controls {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tgap: 16px;\n\tflex-grow: 0.75;\n}\n\n#music-window-container.minimized .music-window-player-controls {\n\tflex-direction: row;\n\twidth: 100%;\n}\n\n@media only screen and (max-width: 1080px) {\n\t#music-window-container.minimized .music-window-player-controls {\n\t\tflex-direction: column;\n\t\twidth: 100%;\n\t\tgap: 4px;\n\t\talign-items: start;\n\t}\n}\n#music-window-playing-text {\n\twidth: 175px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n}\n\n@media only screen and (max-width: 1080px) {\n\t#music-window-playing-text {\n\t\twidth: 100%;\n\t}\n}\n\n#music-window-playing-text > span:first-of-type {\n\tfont-weight: bold;\n\tdisplay: inline-block;\n}\n\n#music-window-playing-text > span:nth-of-type(2) {\n\tfont-family: monospace;\n\tfont-weight: initial;\n\tdisplay: inline-block;\n\tmax-width: 175px;\n\tword-break: break-all;\n}\n\n@media only screen and (max-width: 1080px) {\n\t#music-window-playing-text > span:nth-of-type(2) {\n\t\tmax-width: initial;\n\t}\n}\n\n.music-window-player-controls > div:nth-of-type(2) {\n\tdisplay: flex;\n\tgap: 8px;\n\tfont-weight: bold;\n}\n\n.music-window-player-controls > div:nth-of-type(2) > button {\n\tfont-size: 200%;\n\twidth: 40px;\n\tpadding: 0;\n}\n\n.music-window-player-controls .music-window-player-controls-sliders {\n\tdisplay: flex;\n\tflex-direction: row;\n\tgap: 100px;\n}\n\n@media only screen and (max-width: 1080px) {\n\t.music-window-player-controls .music-window-player-controls-sliders {\n\t\tgap: 8px;\n\t}\n}\n\n#music-window-container.minimized\n\t.music-window-player-controls\n\t.music-window-player-controls-sliders {\n\tgap: 40px;\n}\n\n@media only screen and (max-width: 1080px) {\n\t#music-window-container.minimized\n\t\t.music-window-player-controls\n\t\t.music-window-player-controls-sliders {\n\t\tgap: 8px;\n\t}\n}\n\n.music-slider-container {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 8px;\n}\n.music-slider-container.volume > span {\n\twidth: 30px;\n}\n\n.music-slider-container.volume > input {\n\twidth: 70px;\n}\n\n.music-slider-container.seeker > span {\n\tmin-width: 100px;\n\ttext-align: right;\n}\n\n@media only screen and (max-width: 1080px) {\n\t.music-slider-container.seeker > input {\n\t\twidth: 120px;\n\t}\n}\n\n.music-window-player-controls-maximize {\n\tdisplay: none;\n\tfont-size: 200%;\n\tmargin-left: auto;\n\tbackground-color: transparent;\n\tborder: 1px solid grey;\n\tpadding: 0;\n\tbottom: 42px;\n\twidth: 40px;\n}\n\n#music-window-container.minimized .music-window-player-controls-maximize {\n\tdisplay: initial;\n}\n\n@media only screen and (max-width: 1080px) {\n\t#music-window-container.minimized .music-window-player-controls-maximize {\n\t\tposition: fixed;\n\t\tright: 8px;\n\t}\n}\n",""]);const a=s},8422:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readMusHead=void 0;t.readMusHead=function(e){var t=0,r=e.file,n=[r.readUInt8(t++),r.readUInt8(t++),r.readUInt8(t++),r.readUInt8(t++)],i=r.readUInt16LE(t);t+=2;var o=r.readUInt16LE(t);t+=2;var s=r.readUInt16LE(t);t+=2;var a=r.readUInt16LE(t);t+=2;var h=r.readUInt16LE(t);t+=2;var c=r.readUInt16LE(t);t+=2;for(var l=[],u=0;u<h;u++)l.push(r.readUInt16LE(t)),t+=2;return e.offset=t,{signature:n,lenSong:i,offSong:o,primaryChannels:s,secondaryChannels:a,numInstruments:h,reserved:c,instruments:l}}},8558:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1601),i=r.n(n),o=r(6314),s=r.n(o)()(i());s.push([e.id,".sprites-container {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n}\n\n.sprites-container .sprites-split-container {\n\tmargin: 8px;\n\tborder: 1px solid black;\n\twidth: 384px;\n}\n\n.sprites-container .sprites-split-container > div:nth-child(1) {\n\tborder-bottom: 1px solid black;\n}\n\n.sprites-container .sprites-data-container {\n\tdisplay: flex;\n\tpadding: 8px;\n}\n\n.sprites-container .sprites-checkbox-container {\n\tpadding-right: 8px;\n}\n\n.sprites-container .sprites-checkbox-label {\n\tuser-select: none;\n\tpadding-left: 2px;\n}\n\n.sprites-container .sprites-canvas-container {\n\theight: 256px;\n\twidth: 256px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: end;\n}\n\n.sprites-container .sprites-canvas-container > div {\n\talign-self: center;\n}\n\n.sprites-container .sprites-canvas-container > div > canvas {\n\tmargin-left: auto;\n\tmargin-right: auto;\n}\n\n.sprites-container .sprites-slider-container {\n\tdisplay: flex;\n\tjustify-content: center;\n}\n",""]);const a=s},8636:(e,t,r)=>{"use strict";var n=r(920),i=r(7720),o=r(4765),s=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},h=Array.isArray,c=Array.prototype.push,l=function(e,t){c.apply(e,h(t)?t:[t])},u=Date.prototype.toISOString,d=o.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:i.encode,encodeValuesOnly:!1,filter:void 0,format:d,formatter:o.formatters[d],indices:!1,serializeDate:function(e){return u.call(e)},skipNulls:!1,strictNullHandling:!1},p={},_=function e(t,r,o,s,a,c,u,d,_,E,g,b,m,T,A,x,S,y){for(var I,O=t,R=y,v=0,C=!1;void 0!==(R=R.get(p))&&!C;){var L=R.get(t);if(v+=1,void 0!==L){if(L===v)throw new RangeError("Cyclic object value");C=!0}void 0===R.get(p)&&(v=0)}if("function"==typeof E?O=E(r,O):O instanceof Date?O=m(O):"comma"===o&&h(O)&&(O=i.maybeMap(O,(function(e){return e instanceof Date?m(e):e}))),null===O){if(c)return _&&!x?_(r,f.encoder,S,"key",T):r;O=""}if("string"==typeof(I=O)||"number"==typeof I||"boolean"==typeof I||"symbol"==typeof I||"bigint"==typeof I||i.isBuffer(O))return _?[A(x?r:_(r,f.encoder,S,"key",T))+"="+A(_(O,f.encoder,S,"value",T))]:[A(r)+"="+A(String(O))];var N,P=[];if(void 0===O)return P;if("comma"===o&&h(O))x&&_&&(O=i.maybeMap(O,_)),N=[{value:O.length>0?O.join(",")||null:void 0}];else if(h(E))N=E;else{var w=Object.keys(O);N=g?w.sort(g):w}var M=d?String(r).replace(/\./g,"%2E"):String(r),D=s&&h(O)&&1===O.length?M+"[]":M;if(a&&h(O)&&0===O.length)return D+"[]";for(var U=0;U<N.length;++U){var B=N[U],G="object"==typeof B&&B&&void 0!==B.value?B.value:O[B];if(!u||null!==G){var H=b&&d?String(B).replace(/\./g,"%2E"):String(B),F=h(O)?"function"==typeof o?o(D,H):D:D+(b?"."+H:"["+H+"]");y.set(t,v);var k=n();k.set(p,y),l(P,e(G,F,o,s,a,c,u,d,"comma"===o&&x&&h(O)?null:_,E,g,b,m,T,A,x,S,k))}}return P};e.exports=function(e,t){var r,i=e,c=function(e){if(!e)return f;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||f.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=o.default;if(void 0!==e.format){if(!s.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n,i=o.formatters[r],c=f.filter;if(("function"==typeof e.filter||h(e.filter))&&(c=e.filter),n=e.arrayFormat in a?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":f.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=void 0===e.allowDots?!0===e.encodeDotInKeys||f.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:l,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:n,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?f.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:f.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:f.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:c,format:r,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}}(t);"function"==typeof c.filter?i=(0,c.filter)("",i):h(c.filter)&&(r=c.filter);var u=[];if("object"!=typeof i||null===i)return"";var d=a[c.arrayFormat],p="comma"===d&&c.commaRoundTrip;r||(r=Object.keys(i)),c.sort&&r.sort(c.sort);for(var E=n(),g=0;g<r.length;++g){var b=r[g],m=i[b];c.skipNulls&&null===m||l(u,_(m,b,d,p,c.allowEmptyArrays,c.strictNullHandling,c.skipNulls,c.encodeDotInKeys,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,E))}var T=u.join(c.delimiter),A=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?A+="utf8=%26%2310003%3B&":A+="utf8=%E2%9C%93&"),T.length>0?A+T:""}},8638:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1601),i=r.n(n),o=r(6314),s=r.n(o)()(i());s.push([e.id,"#log-window {\n\tmax-width: 600px;\n\tmax-height: 600px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n}\n\n#log-window-messages {\n\tborder: 1px solid black;\n\tfont-family: monospace;\n\tfont-size: 12px;\n\tmax-height: 572px;\n\theight: 85vh;\n\tmargin-bottom: 8px;\n\toverflow-y: scroll;\n}\n\n#log-window-messages p {\n\tmargin: 2px 0 0 2px;\n\tpadding: 0;\n}\n",""]);const a=s},8648:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},8815:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MusEventType=void 0,function(e){e[e.ReleaseNote=0]="ReleaseNote",e[e.PlayNote=1]="PlayNote",e[e.PitchBend=2]="PitchBend",e[e.SystemEvent=3]="SystemEvent",e[e.Controller=4]="Controller",e[e.EndOfMeasure=5]="EndOfMeasure",e[e.Finish=6]="Finish",e[e.Unused=7]="Unused"}(t.MusEventType||(t.MusEventType={}))},8835:(e,t,r)=>{"use strict";var n=r(1270);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,h=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(h),l=["%","/","?",";","#"].concat(c),u=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=r(5373);function b(e,t,r){if(e&&"object"==typeof e&&e instanceof i)return e;var n=new i;return n.parse(e,t,r),n}i.prototype.parse=function(e,t,r){if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",h=e.split(s);h[0]=h[0].replace(/\\/g,"/");var b=e=h.join(s);if(b=b.trim(),!r&&1===e.split("#").length){var m=a.exec(b);if(m)return this.path=b,this.href=b,this.pathname=m[1],m[2]?(this.search=m[2],this.query=t?g.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var T=o.exec(b);if(T){var A=(T=T[0]).toLowerCase();this.protocol=A,b=b.substr(T.length)}if(r||T||b.match(/^\/\/[^@/]+@[^@/]+/)){var x="//"===b.substr(0,2);!x||T&&_[T]||(b=b.substr(2),this.slashes=!0)}if(!_[T]&&(x||T&&!E[T])){for(var S,y,I=-1,O=0;O<u.length;O++){-1!==(R=b.indexOf(u[O]))&&(-1===I||R<I)&&(I=R)}-1!==(y=-1===I?b.lastIndexOf("@"):b.lastIndexOf("@",I))&&(S=b.slice(0,y),b=b.slice(y+1),this.auth=decodeURIComponent(S)),I=-1;for(O=0;O<l.length;O++){var R;-1!==(R=b.indexOf(l[O]))&&(-1===I||R<I)&&(I=R)}-1===I&&(I=b.length),this.host=b.slice(0,I),b=b.slice(I),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var C=this.hostname.split(/\./),L=(O=0,C.length);O<L;O++){var N=C[O];if(N&&!N.match(d)){for(var P="",w=0,M=N.length;w<M;w++)N.charCodeAt(w)>127?P+="x":P+=N[w];if(!P.match(d)){var D=C.slice(0,O),U=C.slice(O+1),B=N.match(f);B&&(D.push(B[1]),U.unshift(B[2])),U.length&&(b="/"+U.join(".")+b),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=n.toASCII(this.hostname));var G=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+G,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!p[A])for(O=0,L=c.length;O<L;O++){var F=c[O];if(-1!==b.indexOf(F)){var k=encodeURIComponent(F);k===F&&(k=escape(F)),b=b.split(F).join(k)}}var Y=b.indexOf("#");-1!==Y&&(this.hash=b.substr(Y),b=b.slice(0,Y));var W=b.indexOf("?");if(-1!==W?(this.search=b.substr(W),this.query=b.substr(W+1),t&&(this.query=g.parse(this.query)),b=b.slice(0,W)):t&&(this.search="",this.query={}),b&&(this.pathname=b),E[A]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){G=this.pathname||"";var X=this.search||"";this.path=G+X}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(o=g.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||E[t])&&!1!==i?(i="//"+(i||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):i||(i=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},i.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if("string"==typeof e){var t=new i;t.parse(e,!1,!0),e=t}for(var r=new i,n=Object.keys(this),o=0;o<n.length;o++){var s=n[o];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),h=0;h<a.length;h++){var c=a[h];"protocol"!==c&&(r[c]=e[c])}return E[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!E[e.protocol]){for(var l=Object.keys(e),u=0;u<l.length;u++){var d=l[u];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||_[e.protocol])r.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var p=r.pathname||"",g=r.search||"";r.path=p+g}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),m=e.host||e.pathname&&"/"===e.pathname.charAt(0),T=m||b||r.host&&e.pathname,A=T,x=r.pathname&&r.pathname.split("/")||[],S=(f=e.pathname&&e.pathname.split("/")||[],r.protocol&&!E[r.protocol]);if(S&&(r.hostname="",r.port=null,r.host&&(""===x[0]?x[0]=r.host:x.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),T=T&&(""===f[0]||""===x[0])),m)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,x=f;else if(f.length)x||(x=[]),x.pop(),x=x.concat(f),r.search=e.search,r.query=e.query;else if(null!=e.search){if(S)r.host=x.shift(),r.hostname=r.host,(v=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=v.shift(),r.hostname=v.shift(),r.host=r.hostname);return r.search=e.search,r.query=e.query,null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!x.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var y=x.slice(-1)[0],I=(r.host||e.host||x.length>1)&&("."===y||".."===y)||""===y,O=0,R=x.length;R>=0;R--)"."===(y=x[R])?x.splice(R,1):".."===y?(x.splice(R,1),O++):O&&(x.splice(R,1),O--);if(!T&&!A)for(;O--;O)x.unshift("..");!T||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),I&&"/"!==x.join("/").substr(-1)&&x.push("");var v,C=""===x[0]||x[0]&&"/"===x[0].charAt(0);S&&(r.hostname=C?"":x.length?x.shift():"",r.host=r.hostname,(v=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=v.shift(),r.hostname=v.shift(),r.host=r.hostname));return(T=T||r.host&&x.length)&&!C&&x.unshift(""),x.length>0?r.pathname=x.join("/"):(r.pathname=null,r.path=null),null===r.pathname&&null===r.search||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},t.qg=b,t.hd=function(e,t){return b(e,!1,!0).resolve(t)},t.GP=function(e){return"string"==typeof e&&(e=b(e)),e instanceof i?e.format():i.prototype.format.call(e)}},8859:(e,t,r)=>{var n="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=n&&i&&"function"==typeof i.get?i.get:null,s=n&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,h=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=a&&h&&"function"==typeof h.get?h.get:null,l=a&&Set.prototype.forEach,u="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,_=Object.prototype.toString,E=Function.prototype.toString,g=String.prototype.match,b=String.prototype.slice,m=String.prototype.replace,T=String.prototype.toUpperCase,A=String.prototype.toLowerCase,x=RegExp.prototype.test,S=Array.prototype.concat,y=Array.prototype.join,I=Array.prototype.slice,O=Math.floor,R="function"==typeof BigInt?BigInt.prototype.valueOf:null,v=Object.getOwnPropertySymbols,C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,L="function"==typeof Symbol&&"object"==typeof Symbol.iterator,N="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===L||"symbol")?Symbol.toStringTag:null,P=Object.prototype.propertyIsEnumerable,w=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function M(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||x.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-O(-e):O(e);if(n!==e){var i=String(n),o=b.call(t,i.length+1);return m.call(i,r,"$&_")+"."+m.call(m.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return m.call(t,r,"$&_")}var D=r(2634),U=D.custom,B=V(U)?U:null,G={__proto__:null,double:'"',single:"'"},H={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function F(e,t,r){var n=r.quoteStyle||t,i=G[n];return i+e+i}function k(e){return m.call(String(e),/"/g,"&quot;")}function Y(e){return!N||!("object"==typeof e&&(N in e||void 0!==e[N]))}function W(e){return"[object Array]"===z(e)&&Y(e)}function X(e){return"[object RegExp]"===z(e)&&Y(e)}function V(e){if(L)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!C)return!1;try{return C.call(e),!0}catch(e){}return!1}e.exports=function e(t,n,i,a){var h=n||{};if(j(h,"quoteStyle")&&!j(G,h.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(j(h,"maxStringLength")&&("number"==typeof h.maxStringLength?h.maxStringLength<0&&h.maxStringLength!==1/0:null!==h.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var _=!j(h,"customInspect")||h.customInspect;if("boolean"!=typeof _&&"symbol"!==_)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(j(h,"indent")&&null!==h.indent&&"\t"!==h.indent&&!(parseInt(h.indent,10)===h.indent&&h.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(j(h,"numericSeparator")&&"boolean"!=typeof h.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var T=h.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return $(t,h);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var x=String(t);return T?M(t,x):x}if("bigint"==typeof t){var O=String(t)+"n";return T?M(t,O):O}var v=void 0===h.depth?5:h.depth;if(void 0===i&&(i=0),i>=v&&v>0&&"object"==typeof t)return W(t)?"[Array]":"[Object]";var U=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=y.call(Array(e.indent+1)," ")}return{base:r,prev:y.call(Array(t+1),r)}}(h,i);if(void 0===a)a=[];else if(Z(a,t)>=0)return"[Circular]";function H(t,r,n){if(r&&(a=I.call(a)).push(r),n){var o={depth:h.depth};return j(h,"quoteStyle")&&(o.quoteStyle=h.quoteStyle),e(t,o,i+1,a)}return e(t,h,i+1,a)}if("function"==typeof t&&!X(t)){var K=function(e){if(e.name)return e.name;var t=g.call(E.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),q=re(t,H);return"[Function"+(K?": "+K:" (anonymous)")+"]"+(q.length>0?" { "+y.call(q,", ")+" }":"")}if(V(t)){var ne=L?m.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):C.call(t);return"object"!=typeof t||L?ne:Q(ne)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var ie="<"+A.call(String(t.nodeName)),oe=t.attributes||[],se=0;se<oe.length;se++)ie+=" "+oe[se].name+"="+F(k(oe[se].value),"double",h);return ie+=">",t.childNodes&&t.childNodes.length&&(ie+="..."),ie+="</"+A.call(String(t.nodeName))+">"}if(W(t)){if(0===t.length)return"[]";var ae=re(t,H);return U&&!function(e){for(var t=0;t<e.length;t++)if(Z(e[t],"\n")>=0)return!1;return!0}(ae)?"["+te(ae,U)+"]":"[ "+y.call(ae,", ")+" ]"}if(function(e){return"[object Error]"===z(e)&&Y(e)}(t)){var he=re(t,H);return"cause"in Error.prototype||!("cause"in t)||P.call(t,"cause")?0===he.length?"["+String(t)+"]":"{ ["+String(t)+"] "+y.call(he,", ")+" }":"{ ["+String(t)+"] "+y.call(S.call("[cause]: "+H(t.cause),he),", ")+" }"}if("object"==typeof t&&_){if(B&&"function"==typeof t[B]&&D)return D(t,{depth:v-i});if("symbol"!==_&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ce=[];return s&&s.call(t,(function(e,r){ce.push(H(r,t,!0)+" => "+H(e,t))})),ee("Map",o.call(t),ce,U)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var le=[];return l&&l.call(t,(function(e){le.push(H(e,t))})),ee("Set",c.call(t),le,U)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e,u);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return J("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{u.call(e,u)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return J("WeakSet");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{return f.call(e),!0}catch(e){}return!1}(t))return J("WeakRef");if(function(e){return"[object Number]"===z(e)&&Y(e)}(t))return Q(H(Number(t)));if(function(e){if(!e||"object"!=typeof e||!R)return!1;try{return R.call(e),!0}catch(e){}return!1}(t))return Q(H(R.call(t)));if(function(e){return"[object Boolean]"===z(e)&&Y(e)}(t))return Q(p.call(t));if(function(e){return"[object String]"===z(e)&&Y(e)}(t))return Q(H(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||void 0!==r.g&&t===r.g)return"{ [object globalThis] }";if(!function(e){return"[object Date]"===z(e)&&Y(e)}(t)&&!X(t)){var ue=re(t,H),de=w?w(t)===Object.prototype:t instanceof Object||t.constructor===Object,fe=t instanceof Object?"":"null prototype",pe=!de&&N&&Object(t)===t&&N in t?b.call(z(t),8,-1):fe?"Object":"",_e=(de||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(pe||fe?"["+y.call(S.call([],pe||[],fe||[]),": ")+"] ":"");return 0===ue.length?_e+"{}":U?_e+"{"+te(ue,U)+"}":_e+"{ "+y.call(ue,", ")+" }"}return String(t)};var K=Object.prototype.hasOwnProperty||function(e){return e in this};function j(e,t){return K.call(e,t)}function z(e){return _.call(e)}function Z(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function $(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return $(b.call(e,0,t.maxStringLength),t)+n}var i=H[t.quoteStyle||"single"];return i.lastIndex=0,F(m.call(m.call(e,i,"\\$1"),/[\x00-\x1f]/g,q),"single",t)}function q(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+T.call(t.toString(16))}function Q(e){return"Object("+e+")"}function J(e){return e+" { ? }"}function ee(e,t,r,n){return e+" ("+t+") {"+(n?te(r,n):y.call(r,", "))+"}"}function te(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+y.call(e,","+r)+"\n"+t.prev}function re(e,t){var r=W(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=j(e,i)?t(e[i],e):""}var o,s="function"==typeof v?v(e):[];if(L){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var h in e)j(e,h)&&(r&&String(Number(h))===h&&h<e.length||L&&o["$"+h]instanceof Symbol||(x.call(/[^\w$]/,h)?n.push(t(h,e)+": "+t(e[h],e)):n.push(h+": "+t(e[h],e))));if("function"==typeof v)for(var c=0;c<s.length;c++)P.call(e,s[c])&&n.push("["+t(s[c])+"]: "+t(e[s[c]],e));return n}},8881:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.write8=t.write16=t.write32=void 0;var n=r(8287).hp,i=r(1609);t.write32=function(e,t){var r=n.alloc(i.Uint32Size);r.writeUInt32BE(t),e.file.write(r),e.offset+=i.Uint32Size};t.write16=function(e,t){var r=n.alloc(i.Uint16Size);r.writeUInt16BE(t),e.file.write(r),e.offset+=i.Uint16Size};t.write8=function(e,t){var r=n.alloc(i.Uint8Size);r.writeUInt8(t),e.file.write(r),e.offset+=i.Uint8Size}},8896:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.writeMidDelay=void 0;var n=r(8881),i=function(e,t,r){r||(t|=128),n.write8(e,t)};t.writeMidDelay=function(e,t){(t*=4)>=2097152&&i(e,(266338304&t)>>21,!1),t>=16384&&i(e,(2080768&t)>>14,!1),t>=128&&i(e,(16256&t)>>7,!1),i(e,127&t,!0)}},8968:e=>{"use strict";e.exports=Math.floor},8993:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1601),i=r.n(n),o=r(6314),s=r.n(o)()(i());s.push([e.id,'/*\n  Josh\'s Custom CSS Reset\n  https://www.joshwcomeau.com/css/custom-css-reset/\n*/\n*,\n*::before,\n*::after {\n\tbox-sizing: border-box;\n}\n\n* {\n\tmargin: 0;\n}\n\nhtml,\nbody {\n\theight: 100%;\n}\n\nimg,\npicture,\nvideo,\ncanvas,\nsvg {\n\tdisplay: block;\n\tmax-width: 100%;\n}\n\ninput,\nbutton,\ntextarea,\nselect {\n\tfont: inherit;\n}\n\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n\toverflow-wrap: break-word;\n}\n\n/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml,\nbody,\ndiv,\nspan,\napplet,\nobject,\niframe,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np,\nblockquote,\npre,\na,\nabbr,\nacronym,\naddress,\nbig,\ncite,\ncode,\ndel,\ndfn,\nem,\nimg,\nins,\nkbd,\nq,\ns,\nsamp,\nsmall,\nstrike,\nstrong,\nsub,\nsup,\ntt,\nvar,\nb,\nu,\ni,\ncenter,\ndl,\ndt,\ndd,\nol,\nul,\nli,\nfieldset,\nform,\nlabel,\nlegend,\ntable,\ncaption,\ntbody,\ntfoot,\nthead,\ntr,\nth,\ntd,\narticle,\naside,\ncanvas,\ndetails,\nembed,\nfigure,\nfigcaption,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\noutput,\nruby,\nsection,\nsummary,\ntime,\nmark,\naudio,\nvideo {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont: inherit;\n\tfont-size: 100%;\n\tvertical-align: baseline;\n}\n\n/* HTML5 display-role reset for older browsers */\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nmenu,\nnav,\nsection {\n\tdisplay: block;\n}\n\nbody {\n\tline-height: 1;\n}\n\nol,\nul {\n\tlist-style: none;\n}\n\nblockquote,\nq {\n\tquotes: none;\n}\n\nblockquote:before,\nblockquote:after,\nq:before,\nq:after {\n\tcontent: "";\n\tcontent: none;\n}\n\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n',""]);const a=s},9108:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.writeMidTempo=void 0;var n=r(8881);t.writeMidTempo=function(e){n.write8(e,0),n.write8(e,255),n.write8(e,81),n.write8(e,3),n.write8(e,15),n.write8(e,66),n.write8(e,64)}},9281:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1601),i=r.n(n),o=r(6314),s=r.n(o)()(i());s.push([e.id,"#ex-search-window > div:first-of-type {\n\tdisplay: flex;\n\tgap: 12px;\n}\n\n@media only screen and (max-width: 1080px) {\n\t#ex-search-window > div:first-of-type {\n\t\tflex-direction: column;\n\t}\n}\n\n#ex-search-window > div > div:first-of-type {\n\tborder-right: 1px solid black;\n}\n\n#ex-search-window > div > div > p:first-of-type {\n\tfont-weight: bold;\n\tfont-size: 12px;\n\tmargin-bottom: 8px;\n}\n\n.ex-search-window-searchdiv {\n\tmargin-right: 12px;\n\tdisplay: flex;\n\tgap: 8px;\n}\n\n#ex-search-window-results {\n\tmargin-top: 8px;\n}\n\n#ex-search-window-results > div {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n}\n\n#ex-search-window-results > div > div {\n\tborder: 1px solid black;\n\tmargin: 8px;\n\tpadding: 8px;\n}\n\n#ex-search-window-results > div > div > p {\n\tfont-weight: bold;\n\tmargin-top: 2px;\n\tmargin-bottom: 2px;\n}\n\n#ex-search-window-results > div > div > p > span {\n\tfont-weight: normal;\n}\n\n#ex-search-window-results > div > div > div > a {\n\tdisplay: block;\n\tmargin-bottom: 8px;\n}\n",""]);const a=s},9290:e=>{"use strict";e.exports=RangeError},9307:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1601),i=r.n(n),o=r(6314),s=r.n(o)()(i());s.push([e.id,".spinner-loader {\n\twidth: 40px;\n\theight: 40px;\n\tanimation-name: spin;\n\tanimation-duration: 1500ms;\n\tanimation-direction: reverse;\n\tanimation-iteration-count: infinite;\n\tanimation-timing-function: linear;\n\tposition: relative;\n\tmargin: 8px;\n}\n\n.spinner-loader > div {\n\twidth: 5px;\n\theight: 5px;\n\tbackground-color: black;\n\tborder-radius: 100vh;\n\tposition: absolute;\n}\n\n.spinner-loader > div:nth-child(1) {\n\tleft: 17px;\n\ttop: 2.5px;\n}\n\n.spinner-loader > div:nth-child(2) {\n\tright: 7px;\n\ttop: 7px;\n\topacity: 0.875;\n}\n\n.spinner-loader > div:nth-child(3) {\n\tright: 2.5px;\n\ttop: 17px;\n\topacity: 0.75;\n}\n\n.spinner-loader > div:nth-child(4) {\n\tright: 7px;\n\tbottom: 7px;\n\topacity: 0.625;\n}\n\n.spinner-loader > div:nth-child(5) {\n\tleft: 17px;\n\tbottom: 2.5px;\n\topacity: 0.5;\n}\n\n.spinner-loader > div:nth-child(6) {\n\tleft: 7.5px;\n\tbottom: 7px;\n\topacity: 0.375;\n}\n\n.spinner-loader > div:nth-child(7) {\n\tleft: 2.5px;\n\ttop: 17px;\n\topacity: 0.25;\n}\n\n.spinner-loader > div:nth-child(8) {\n\tleft: 7px;\n\ttop: 7px;\n\topacity: 0.125;\n}\n\n@keyframes spin {\n\tfrom {\n\t\ttransform: rotate(0deg);\n\t}\n\n\tto {\n\t\ttransform: rotate(360deg);\n\t}\n}\n",""]);const a=s},9353:e=>{"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r};e.exports=function(e){var i=this;if("function"!=typeof i||"[object Function]"!==t.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,s=function(e,t){for(var r=[],n=t||0,i=0;n<e.length;n+=1,i+=1)r[i]=e[n];return r}(arguments,1),a=r(0,i.length-s.length),h=[],c=0;c<a;c++)h[c]="$"+c;if(o=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r}(h,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=i.apply(this,n(s,arguments));return Object(t)===t?t:this}return i.apply(e,n(s,arguments))})),i.prototype){var l=function(){};l.prototype=i.prototype,o.prototype=new l,l.prototype=null}return o}},9383:e=>{"use strict";e.exports=Error},9538:e=>{"use strict";e.exports=ReferenceError},9612:e=>{"use strict";e.exports=Object},9675:e=>{"use strict";e.exports=TypeError},9822:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.writeMidInstrumentChange=void 0;var n,i=r(8881);!function(e){e[e.InstrumentChange=192]="InstrumentChange"}(n||(n={}));t.writeMidInstrumentChange=function(e,t){i.write8(e,n.InstrumentChange|t.channel),i.write8(e,t.value)}},9957:(e,t,r)=>{"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=r(6743);e.exports=o.call(n,i)}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=n[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),r.b=document.baseURI||self.location.href,r.nc=void 0;var n={};(()=>{"use strict";r.d(n,{t8:()=>WE,gP:()=>VE,e1:()=>HE,wO:()=>XE,Dn:()=>zE,dJ:()=>GE,lN:()=>FE,OI:()=>kE,BU:()=>$E,g8:()=>QE,nM:()=>jE,JH:()=>YE,TK:()=>ZE,EZ:()=>qE,bk:()=>KE});var e=r(8287);const t="PLAYPAL",i="COLORMAP",o="ENDOOM",s="DEHACKED",a=/^[A-Za-z]?MAPINFO$/,h=/^P+\d*_START$/,c=/^P+\d*_END$/,l=/^F+\d*_START$/,u=/^F+\d*_END$/,d=/^S+\d*_START$/,f=/^S+\d*_END$/,p=/^([A-Za-z0-9]{4})([A-Za-z\\\[\]])([0-9A-G])$/,_=/^([A-Za-z0-9]{4})([A-Z])([0-9A-G])[A-Z]([0-9A-G])$/,E=/^(E[1-9]M[1-9]|MAP[0-9]{1,2}|Map[0-9]{1,2})$/i,g=/(E[1-9]M[0-9]{1,2}|MAP[0-9]{1,2}|Map[0-9]{1,2})/,b=/^DEMO[0-9]$/,m=[/STBAR/,/STGNUM[0-9]/,/STTNUM[0-9]/,/STTMINUS/,/STTPRCNT/,/STYSNUM[0-9]/,/STKEYS[0-9]/,/AMMNUM[0-9]/,/STDISK/,/STCDROM/,/STARMS/,/STF.*/,/STP.*/,/STCFN.*/,/BRDR.*/,/LTFACE/,/LTFCTOP/,/RTFACE/,/RTFCTOP/,/BARBACK/,/CHAINBAC/,/CHAIN/,/LIFEGEM[0-3]/,/ARTIBOX/,/SELECTBO/,/USEARTI[A-E]/,/INVGEMR[1-2]/,/STATBAR/,/INVBAR/,/[A-Z0-9]KEYICON/,/BLACKSQ/,/ARMCLEAR/,/IN[0-9]/,/NEGNUM/,/LAME/,/SMALLIN[0-9]/,/INAM.*/,/LIFEBAR/,/SPINBK.*/,/SPFLY.*/,/GOD[1-2]/,/INVGEML[1-2]/,/INRED[0-9]/,/SPSHLD.*/,/SPBOOT.*/,/SPMINO.*/,/H2BAR/,/H2TOP/,/LFEDGE/,/RTEDGE/,/ARMCLS/,/MANAVL[1-2]/,/MANABRT[1-2]/,/MANAVL[1-2]D/,/MANADIM[1-2]/,/KILLS/,/WPSLOT[0-2]/,/WPFULL[0-2]/,/WPIECEC[1-3]/,/WPIECEM[1-3]/,/KEYBAR/,/ARMSLOT[1-4]/,/CHAIN2/,/CHAIN3/,/LIFEGEMC[1-8]/,/LIFEGEMM[1-8]/,/LIFEGEMF[2-8]/,/INVBACK/,/INVTOP/,/INVCURS/,/INVPOP/,/INVBAK/,/INVPOP2/,/INVBAK2/,/INVFONG[0-9%]/,/INVONY[0-9%]/,/I_SIG[1-5]/,/I_.*/,/CBOWA0/,/GRNDA0/,/RIFLA0/,/FLAMA0/,/MMSLA0/,/TRPDA0/],T=["D_INTRO","D_INTROA","D_INTER","D_VICTOR","D_BUNNY","D_E1M1","D_E1M2","D_E1M3","D_E1M4","D_E1M5","D_E1M6","D_E1M7","D_E1M8","D_E1M9","D_E2M1","D_E2M2","D_E2M3","D_E2M4","D_E2M5","D_E2M6","D_E2M7","D_E2M8","D_E2M9","D_E3M1","D_E3M2","D_E3M3","D_E3M4","D_E3M5","D_E3M6","D_E3M7","D_E3M8","D_E3M9","D_DM2TTL","D_DM2INT","D_READ_M","D_RUNNIN","D_STALKS","D_COUNTD","D_BETWEE","D_DOOM","D_THE_DA","D_SHAWN","D_DDTBLU","D_IN_CIT","D_DEAD","D_STLKS2","D_THEDA2","D_DOOM2","D_DDTBL2","D_RUNNI2","D_DEAD2","D_STLKS3","D_ROMERO","D_SHAWN2","D_MESSAG","D_COUNT2","D_DDTBL3","D_AMPIE","D_THEDA3","D_ADRIAN","D_MESSG2","D_ROMER2","D_TENSE","D_SHAWN3","D_OPENIN","D_EVIL","D_ULTIMA","MUS_E1M1","MUS_E1M2","MUS_E1M3","MUS_E1M4","MUS_E1M5","MUS_E1M6","MUS_E1M7","MUS_E1M8","MUS_E1M9","MUS_E2M1","MUS_E2M2","MUS_E2M3","MUS_E2M4","MUS_E2M6","MUS_E2M7","MUS_E2M8","MUS_E2M9","MUS_E3M2","MUS_E3M3","MUS_TITL","MUS_INTR","MUS_CPTD","MUS_HUB1","MUS_HUB2","MUS_HUB3","MUS_HUB4"],A=[/HELP[1-2]/,/^HELP$/,/^BOSSBACK$/,/CREDIT$/,/TITLEPIC/,/INTERPIC/,/M_.*/,/WIMAP[0-9]/,/WIA00.*/,/WIURH.*/,/WISPLAT/,/WIOST.*/,/WIF$/,/WIMSTT$/,/WIOST.*/,/WITIME$/,/WIPAR$/,/WIMSTAR$/,/WIMINUS$/,/WIPCNT$/,/WINUM[0-9]/,/WICOLON$/,/WISUCKS$/,/WIFRGS$/,/WILV[0-9]{2}}/,/WIP[0-9]/,/WIBP[0-9]/,/WIKILRS$/,/WIVCTMS$/,/WISCRT2$/,/WIENTER$/];var x,S;!function(e){e.OTHER="OTHER",e.MONSTER="MONSTER",e.POWERUP="POWERUP",e.ARTIFACT="ARTIFACT",e.KEY="KEY",e.WEAPON="WEAPON",e.AMMO="AMMO",e.DECORATION="DECORATION",e.OBSTACLE="OBSTACLE",e.SPECIAL="SPECIAL",e.UNKNOWN="UNKNOWN"}(x||(x={})),function(e){e[e.PLAYER_START_1=1]="PLAYER_START_1",e[e.PLAYER_START_2=2]="PLAYER_START_2",e[e.PLAYER_START_3=3]="PLAYER_START_3",e[e.PLAYER_START_4=4]="PLAYER_START_4",e[e.BLUE_CARD=5]="BLUE_CARD",e[e.YELLOW_CARD=6]="YELLOW_CARD",e[e.SPIDER_MASTERMIND=7]="SPIDER_MASTERMIND",e[e.BACKPACK=8]="BACKPACK",e[e.SHOTGUN_GUY=9]="SHOTGUN_GUY",e[e.GIBBED_MARINE=10]="GIBBED_MARINE",e[e.DEATHMATCH_START=11]="DEATHMATCH_START",e[e.GIBBED_MARINE_EXTRA=12]="GIBBED_MARINE_EXTRA",e[e.RED_CARD=13]="RED_CARD",e[e.TELEPORT_DEST=14]="TELEPORT_DEST",e[e.DEAD_MARINE=15]="DEAD_MARINE",e[e.CYBERDEMON=16]="CYBERDEMON",e[e.CELL_PACK=17]="CELL_PACK",e[e.DEAD_ZOMBIE_MAN=18]="DEAD_ZOMBIE_MAN",e[e.DEAD_SHOTGUN_GUY=19]="DEAD_SHOTGUN_GUY",e[e.DEAD_DOOM_IMP=20]="DEAD_DOOM_IMP",e[e.DEAD_DEMON=21]="DEAD_DEMON",e[e.DEAD_CACODEMON=22]="DEAD_CACODEMON",e[e.DEAD_LOST_SOUL=23]="DEAD_LOST_SOUL",e[e.GIBS=24]="GIBS",e[e.DEAD_STICK=25]="DEAD_STICK",e[e.LIVE_STICK=26]="LIVE_STICK",e[e.HEAD_ON_ASTICK=27]="HEAD_ON_ASTICK",e[e.HEADS_ON_ASTICK=28]="HEADS_ON_ASTICK",e[e.HEAD_CANDLES=29]="HEAD_CANDLES",e[e.TALL_GREEN_COLUMN=30]="TALL_GREEN_COLUMN",e[e.SHORT_GREEN_COLUMN=31]="SHORT_GREEN_COLUMN",e[e.TALL_RED_COLUMN=32]="TALL_RED_COLUMN",e[e.SHORT_RED_COLUMN=33]="SHORT_RED_COLUMN",e[e.CANDLESTICK=34]="CANDLESTICK",e[e.CANDELABRA=35]="CANDELABRA",e[e.HEART_COLUMN=36]="HEART_COLUMN",e[e.SKULL_COLUMN=37]="SKULL_COLUMN",e[e.RED_SKULL=38]="RED_SKULL",e[e.YELLOW_SKULL=39]="YELLOW_SKULL",e[e.BLUE_SKULL=40]="BLUE_SKULL",e[e.EVIL_EYE=41]="EVIL_EYE",e[e.FLOATING_SKULL=42]="FLOATING_SKULL",e[e.TORCH_TREE=43]="TORCH_TREE",e[e.BLUE_TORCH=44]="BLUE_TORCH",e[e.GREEN_TORCH=45]="GREEN_TORCH",e[e.RED_TORCH=46]="RED_TORCH",e[e.STALAGTITE=47]="STALAGTITE",e[e.TECH_PILLAR=48]="TECH_PILLAR",e[e.BLOODY_TWITCH=49]="BLOODY_TWITCH",e[e.MEAT_2=50]="MEAT_2",e[e.MEAT_3=51]="MEAT_3",e[e.MEAT_4=52]="MEAT_4",e[e.MEAT_5=53]="MEAT_5",e[e.BIG_TREE=54]="BIG_TREE",e[e.SHORT_BLUE_TORCH=55]="SHORT_BLUE_TORCH",e[e.SHORT_GREEN_TORCH=56]="SHORT_GREEN_TORCH",e[e.SHORT_RED_TORCH=57]="SHORT_RED_TORCH",e[e.SPECTRE=58]="SPECTRE",e[e.NONSOLID_MEAT_2=59]="NONSOLID_MEAT_2",e[e.NONSOLID_MEAT_4=60]="NONSOLID_MEAT_4",e[e.NONSOLID_MEAT_3=61]="NONSOLID_MEAT_3",e[e.NONSOLID_MEAT_5=62]="NONSOLID_MEAT_5",e[e.NONSOLID_TWITCH=63]="NONSOLID_TWITCH",e[e.ARCHVILE=64]="ARCHVILE",e[e.CHAINGUN_GUY=65]="CHAINGUN_GUY",e[e.REVENANT=66]="REVENANT",e[e.FATSO=67]="FATSO",e[e.ARACHNOTRON=68]="ARACHNOTRON",e[e.HELL_KNIGHT=69]="HELL_KNIGHT",e[e.BURNING_BARREL=70]="BURNING_BARREL",e[e.PAIN_ELEMENTAL=71]="PAIN_ELEMENTAL",e[e.COMMANDER_KEEN=72]="COMMANDER_KEEN",e[e.HANG_NO_GUTS=73]="HANG_NO_GUTS",e[e.HANG_BNO_BRAIN=74]="HANG_BNO_BRAIN",e[e.HANG_TLOOKING_DOWN=75]="HANG_TLOOKING_DOWN",e[e.HANG_TSKULL=76]="HANG_TSKULL",e[e.HANG_TLOOKING_UP=77]="HANG_TLOOKING_UP",e[e.HANG_TNO_BRAIN=78]="HANG_TNO_BRAIN",e[e.COLON_GIBS=79]="COLON_GIBS",e[e.SMALL_BLOOD_POOL=80]="SMALL_BLOOD_POOL",e[e.BRAIN_STEM=81]="BRAIN_STEM",e[e.SUPER_SHOTGUN=82]="SUPER_SHOTGUN",e[e.MEGASPHERE=83]="MEGASPHERE",e[e.WOLFENSTEIN_SS=84]="WOLFENSTEIN_SS",e[e.TECH_LAMP=85]="TECH_LAMP",e[e.TECH_LAMP_2=86]="TECH_LAMP_2",e[e.BOSS_TARGET=87]="BOSS_TARGET",e[e.BOSS_BRAIN=88]="BOSS_BRAIN",e[e.BOSS_EYE=89]="BOSS_EYE",e[e.ZBRIDGE=118]="ZBRIDGE",e[e.MBFHELPER_DOG=888]="MBFHELPER_DOG",e[e.SOUND_SEQUENCE_THING_0=1400]="SOUND_SEQUENCE_THING_0",e[e.SOUND_SEQUENCE_THING_1=1401]="SOUND_SEQUENCE_THING_1",e[e.SOUND_SEQUENCE_THING_2=1402]="SOUND_SEQUENCE_THING_2",e[e.SOUND_SEQUENCE_THING_3=1403]="SOUND_SEQUENCE_THING_3",e[e.SOUND_SEQUENCE_THING_4=1404]="SOUND_SEQUENCE_THING_4",e[e.SOUND_SEQUENCE_THING_5=1405]="SOUND_SEQUENCE_THING_5",e[e.SOUND_SEQUENCE_THING_6=1406]="SOUND_SEQUENCE_THING_6",e[e.SOUND_SEQUENCE_THING_7=1407]="SOUND_SEQUENCE_THING_7",e[e.SOUND_SEQUENCE_THING_8=1408]="SOUND_SEQUENCE_THING_8",e[e.SOUND_SEQUENCE_THING_9=1409]="SOUND_SEQUENCE_THING_9",e[e.SOUND_SEQUENCE_THING_ARG=1411]="SOUND_SEQUENCE_THING_ARG",e[e.FLOOR_SLOPE=1500]="FLOOR_SLOPE",e[e.CEILING_SLOPE=1501]="CEILING_SLOPE",e[e.VAVOOM_LIGHT_WHITE=1502]="VAVOOM_LIGHT_WHITE",e[e.VAVOOM_LIGHT_COLOR=1503]="VAVOOM_LIGHT_COLOR",e[e.FLOOR_VERTEX_HEIGHT=1504]="FLOOR_VERTEX_HEIGHT",e[e.CEILING_VERTEX_HEIGHT=1505]="CEILING_VERTEX_HEIGHT",e[e.SHOTGUN=2001]="SHOTGUN",e[e.CHAINGUN=2002]="CHAINGUN",e[e.ROCKET_LAUNCHER=2003]="ROCKET_LAUNCHER",e[e.PLASMA_RIFLE=2004]="PLASMA_RIFLE",e[e.CHAINSAW=2005]="CHAINSAW",e[e.BFG_9000=2006]="BFG_9000",e[e.CLIP=2007]="CLIP",e[e.SHELL=2008]="SHELL",e[e.ROCKET_AMMO=2010]="ROCKET_AMMO",e[e.STIMPACK=2011]="STIMPACK",e[e.MEDIKIT=2012]="MEDIKIT",e[e.SOULSPHERE=2013]="SOULSPHERE",e[e.HEALTH_BONUS=2014]="HEALTH_BONUS",e[e.ARMOR_BONUS=2015]="ARMOR_BONUS",e[e.EVIL_SCEPTRE=2016]="EVIL_SCEPTRE",e[e.UNHOLY_BIBLE=2017]="UNHOLY_BIBLE",e[e.GREEN_ARMOR=2018]="GREEN_ARMOR",e[e.BLUE_ARMOR=2019]="BLUE_ARMOR",e[e.INVULNERABILITY_SPHERE=2022]="INVULNERABILITY_SPHERE",e[e.BERSERK=2023]="BERSERK",e[e.BLUR_SPHERE=2024]="BLUR_SPHERE",e[e.RAD_SUIT=2025]="RAD_SUIT",e[e.ALLMAP=2026]="ALLMAP",e[e.COLUMN=2028]="COLUMN",e[e.EXPLOSIVE_BARREL=2035]="EXPLOSIVE_BARREL",e[e.INFRARED=2045]="INFRARED",e[e.ROCKET_BOX=2046]="ROCKET_BOX",e[e.CELL=2047]="CELL",e[e.CLIP_BOX=2048]="CLIP_BOX",e[e.SHELL_BOX=2049]="SHELL_BOX",e[e.DOOM_IMP=3001]="DOOM_IMP",e[e.DEMON=3002]="DEMON",e[e.BARON_OF_HELL=3003]="BARON_OF_HELL",e[e.ZOMBIE_MAN=3004]="ZOMBIE_MAN",e[e.CACODEMON=3005]="CACODEMON",e[e.LOST_SOUL=3006]="LOST_SOUL",e[e.PLAYER_START_5=4001]="PLAYER_START_5",e[e.PLAYER_START_6=4002]="PLAYER_START_6",e[e.PLAYER_START_7=4003]="PLAYER_START_7",e[e.PLAYER_START_8=4004]="PLAYER_START_8",e[e.POINT_PUSHER=5001]="POINT_PUSHER",e[e.POINT_PULLER=5002]="POINT_PULLER",e[e.FS_MAPSPOT=5004]="FS_MAPSPOT",e[e.PISTOL=5010]="PISTOL",e[e.STALAGMITE=5050]="STALAGMITE",e[e.INVISIBLE_BRIDGE_32=5061]="INVISIBLE_BRIDGE_32",e[e.INVISIBLE_BRIDGE_16=5064]="INVISIBLE_BRIDGE_16",e[e.INVISIBLE_BRIDGE_8=5065]="INVISIBLE_BRIDGE_8",e[e.MAP_SPOT=9001]="MAP_SPOT",e[e.MAP_SPOT_GRAVITY=9013]="MAP_SPOT_GRAVITY",e[e.PATROL_POINT=9024]="PATROL_POINT",e[e.SECURITY_CAMERA=9025]="SECURITY_CAMERA",e[e.SPARK=9026]="SPARK",e[e.RED_PARTICLE_FOUNTAIN=9027]="RED_PARTICLE_FOUNTAIN",e[e.GREEN_PARTICLE_FOUNTAIN=9028]="GREEN_PARTICLE_FOUNTAIN",e[e.BLUE_PARTICLE_FOUNTAIN=9029]="BLUE_PARTICLE_FOUNTAIN",e[e.YELLOW_PARTICLE_FOUNTAIN=9030]="YELLOW_PARTICLE_FOUNTAIN",e[e.PURPLE_PARTICLE_FOUNTAIN=9031]="PURPLE_PARTICLE_FOUNTAIN",e[e.BLACK_PARTICLE_FOUNTAIN=9032]="BLACK_PARTICLE_FOUNTAIN",e[e.WHITE_PARTICLE_FOUNTAIN=9033]="WHITE_PARTICLE_FOUNTAIN",e[e.BETA_SKULL=9037]="BETA_SKULL",e[e.COLOR_SETTER=9038]="COLOR_SETTER",e[e.FADE_SETTER=9039]="FADE_SETTER",e[e.MAP_MARKER=9040]="MAP_MARKER",e[e.SECTOR_FLAG_SETTER=9041]="SECTOR_FLAG_SETTER",e[e.TELEPORT_DEST_3=9043]="TELEPORT_DEST_3",e[e.TELEPORT_DEST_2=9044]="TELEPORT_DEST_2",e[e.WATER_ZONE=9045]="WATER_ZONE",e[e.SECRET_TRIGGER=9046]="SECRET_TRIGGER",e[e.PATROL_SPECIAL=9047]="PATROL_SPECIAL",e[e.SOUND_ENVIRONMENT=9048]="SOUND_ENVIRONMENT",e[e.STEALTH_ARACHNOTRON=9050]="STEALTH_ARACHNOTRON",e[e.STEALTH_ARCHVILE=9051]="STEALTH_ARCHVILE",e[e.STEALTH_BARON=9052]="STEALTH_BARON",e[e.STEALTH_CACODEMON=9053]="STEALTH_CACODEMON",e[e.STEALTH_CHAINGUN_GUY=9054]="STEALTH_CHAINGUN_GUY",e[e.STEALTH_DEMON=9055]="STEALTH_DEMON",e[e.STEALTH_HELL_KNIGHT=9056]="STEALTH_HELL_KNIGHT",e[e.STEALTH_DOOM_IMP=9057]="STEALTH_DOOM_IMP",e[e.STEALTH_FATSO=9058]="STEALTH_FATSO",e[e.STEALTH_REVENANT=9059]="STEALTH_REVENANT",e[e.STEALTH_SHOTGUN_GUY=9060]="STEALTH_SHOTGUN_GUY",e[e.STEALTH_ZOMBIE_MAN=9061]="STEALTH_ZOMBIE_MAN",e[e.INTERPOLATION_POINT=9070]="INTERPOLATION_POINT",e[e.PATH_FOLLOWER=9071]="PATH_FOLLOWER",e[e.MOVING_CAMERA=9072]="MOVING_CAMERA",e[e.AIMING_CAMERA=9073]="AIMING_CAMERA",e[e.ACTOR_MOVER=9074]="ACTOR_MOVER",e[e.INTERPOLATION_SPECIAL=9075]="INTERPOLATION_SPECIAL",e[e.HATE_TARGET=9076]="HATE_TARGET",e[e.UPPER_STACK_LOOK_ONLY=9077]="UPPER_STACK_LOOK_ONLY",e[e.LOWER_STACK_LOOK_ONLY=9078]="LOWER_STACK_LOOK_ONLY",e[e.SKY_VIEWPOINT=9080]="SKY_VIEWPOINT",e[e.SKY_PICKER=9081]="SKY_PICKER",e[e.SECTOR_SILENCER=9082]="SECTOR_SILENCER",e[e.SCRIPTED_MARINE=9100]="SCRIPTED_MARINE",e[e.MARINE_FIST=9101]="MARINE_FIST",e[e.MARINE_BERSERK=9102]="MARINE_BERSERK",e[e.MARINE_CHAINSAW=9103]="MARINE_CHAINSAW",e[e.MARINE_PISTOL=9104]="MARINE_PISTOL",e[e.MARINE_SHOTGUN=9105]="MARINE_SHOTGUN",e[e.MARINE_SSG=9106]="MARINE_SSG",e[e.MARINE_CHAINGUN=9107]="MARINE_CHAINGUN",e[e.MARINE_ROCKET=9108]="MARINE_ROCKET",e[e.MARINE_PLASMA=9109]="MARINE_PLASMA",e[e.MARINE_RAILGUN=9110]="MARINE_RAILGUN",e[e.MARINE_BFG=9111]="MARINE_BFG",e[e.DECAL=9200]="DECAL",e[e.POLY_OBJECT_ANCHOR=9300]="POLY_OBJECT_ANCHOR",e[e.POLY_OBJECT_START_SPOT_HARMLESS=9301]="POLY_OBJECT_START_SPOT_HARMLESS",e[e.POLY_OBJECT_START_SPOT_CRUSHING=9302]="POLY_OBJECT_START_SPOT_CRUSHING",e[e.POLY_OBJECT_START_SPOT_HARMFUL=9303]="POLY_OBJECT_START_SPOT_HARMFUL",e[e.FLOOR_LINE=9500]="FLOOR_LINE",e[e.CEILING_LINE=9501]="CEILING_LINE",e[e.FLOOR_TILT=9502]="FLOOR_TILT",e[e.CEILING_TILT=9503]="CEILING_TILT",e[e.COPY_FLOOR_SLOPE=9510]="COPY_FLOOR_SLOPE",e[e.COPY_CEILING_SLOPE=9511]="COPY_CEILING_SLOPE",e[e.POINT_LIGHT=9800]="POINT_LIGHT",e[e.POINT_LIGHT_PULSE=9801]="POINT_LIGHT_PULSE",e[e.POINT_LIGHT_FLICKER=9802]="POINT_LIGHT_FLICKER",e[e.SECTOR_POINT_LIGHT=9803]="SECTOR_POINT_LIGHT",e[e.POINT_LIGHT_FLICKER_RANDOM=9804]="POINT_LIGHT_FLICKER_RANDOM",e[e.POINT_LIGHT_ADDITIVE=9810]="POINT_LIGHT_ADDITIVE",e[e.POINT_LIGHT_PULSE_ADDITIVE=9811]="POINT_LIGHT_PULSE_ADDITIVE",e[e.POINT_LIGHT_FLICKER_ADDITIVE=9812]="POINT_LIGHT_FLICKER_ADDITIVE",e[e.SECTOR_POINT_LIGHT_ADDITIVE=9813]="SECTOR_POINT_LIGHT_ADDITIVE",e[e.POINT_LIGHT_FLICKER_RANDOM_ADDITIVE=9814]="POINT_LIGHT_FLICKER_RANDOM_ADDITIVE",e[e.POINT_LIGHT_SUBTRACTIVE=9820]="POINT_LIGHT_SUBTRACTIVE",e[e.POINT_LIGHT_PULSE_SUBTRACTIVE=9821]="POINT_LIGHT_PULSE_SUBTRACTIVE",e[e.POINT_LIGHT_FLICKER_SUBTRACTIVE=9822]="POINT_LIGHT_FLICKER_SUBTRACTIVE",e[e.SECTOR_POINT_LIGHT_SUBTRACTIVE=9823]="SECTOR_POINT_LIGHT_SUBTRACTIVE",e[e.POINT_LIGHT_FLICKER_RANDOM_SUBTRACTIVE=9824]="POINT_LIGHT_FLICKER_RANDOM_SUBTRACTIVE",e[e.VAVOOM_LIGHT=9825]="VAVOOM_LIGHT",e[e.SEC_ACT_EYES_ABOVE_C=9982]="SEC_ACT_EYES_ABOVE_C",e[e.SEC_ACT_EYES_BELOW_C=9983]="SEC_ACT_EYES_BELOW_C",e[e.CUSTOM_SPRITE=9988]="CUSTOM_SPRITE",e[e.SEC_ACT_HIT_FAKE_FLOOR=9989]="SEC_ACT_HIT_FAKE_FLOOR",e[e.INVISIBLE_BRIDGE=9990]="INVISIBLE_BRIDGE",e[e.CUSTOM_BRIDGE=9991]="CUSTOM_BRIDGE",e[e.SEC_ACT_EYES_SURFACE=9992]="SEC_ACT_EYES_SURFACE",e[e.SEC_ACT_EYES_DIVE=9993]="SEC_ACT_EYES_DIVE",e[e.SEC_ACT_USE_WALL=9994]="SEC_ACT_USE_WALL",e[e.SEC_ACT_USE=9995]="SEC_ACT_USE",e[e.SEC_ACT_HIT_CEIL=9996]="SEC_ACT_HIT_CEIL",e[e.SEC_ACT_EXIT=9997]="SEC_ACT_EXIT",e[e.SEC_ACT_ENTER=9998]="SEC_ACT_ENTER",e[e.SEC_ACT_HIT_FLOOR=9999]="SEC_ACT_HIT_FLOOR",e[e.AMBIENT_SOUND=14001]="AMBIENT_SOUND",e[e.SOUND_SEQUENCE=14066]="SOUND_SEQUENCE",e[e.AMBIENT_SOUND_NO_GRAVITY=14067]="AMBIENT_SOUND_NO_GRAVITY",e[e.MUSIC_CHANGER=14101]="MUSIC_CHANGER",e[e.MUSINFO_SPOT=14164]="MUSINFO_SPOT",e[e.DOOM_BUILDER_CAMERA=32e3]="DOOM_BUILDER_CAMERA"}(S||(S={}));const y=Object.keys(S).filter((e=>Number.isNaN(Number(e)))),I={SPIDER_MASTERMIND:x.MONSTER,SHOTGUN_GUY:x.MONSTER,CYBERDEMON:x.MONSTER,ARCHVILE:x.MONSTER,CHAINGUN_GUY:x.MONSTER,REVENANT:x.MONSTER,FATSO:x.MONSTER,ARACHNOTRON:x.MONSTER,HELL_KNIGHT:x.MONSTER,PAIN_ELEMENTAL:x.MONSTER,COMMANDER_KEEN:x.MONSTER,SPECTRE:x.MONSTER,DOOM_IMP:x.MONSTER,DEMON:x.MONSTER,BARON_OF_HELL:x.MONSTER,ZOMBIE_MAN:x.MONSTER,CACODEMON:x.MONSTER,LOST_SOUL:x.MONSTER,WOLFENSTEIN_SS:x.MONSTER,EVIL_SCEPTRE:x.MONSTER,STEALTH_ARACHNOTRON:x.MONSTER,STEALTH_ARCHVILE:x.MONSTER,STEALTH_BARON:x.MONSTER,STEALTH_CACODEMON:x.MONSTER,STEALTH_CHAINGUN_GUY:x.MONSTER,STEALTH_DEMON:x.MONSTER,STEALTH_HELL_KNIGHT:x.MONSTER,STEALTH_DOOM_IMP:x.MONSTER,STEALTH_FATSO:x.MONSTER,STEALTH_REVENANT:x.MONSTER,STEALTH_SHOTGUN_GUY:x.MONSTER,STEALTH_ZOMBIE_MAN:x.MONSTER,PISTOL:x.WEAPON,SHOTGUN:x.WEAPON,CHAINGUN:x.WEAPON,ROCKET_LAUNCHER:x.WEAPON,PLASMA_RIFLE:x.WEAPON,CHAINSAW:x.WEAPON,BFG_9000:x.WEAPON,SUPER_SHOTGUN:x.WEAPON,CLIP:x.AMMO,SHELL:x.AMMO,ROCKET_AMMO:x.AMMO,CELL:x.AMMO,ROCKET_BOX:x.AMMO,CLIP_BOX:x.AMMO,SHELL_BOX:x.AMMO,CELL_PACK:x.AMMO,SOULSPHERE:x.ARTIFACT,HEALTH_BONUS:x.ARTIFACT,INVULNERABILITY_SPHERE:x.ARTIFACT,BERSERK:x.ARTIFACT,BLUR_SPHERE:x.ARTIFACT,ALLMAP:x.ARTIFACT,MEGASPHERE:x.ARTIFACT,ARMOR_BONUS:x.ARTIFACT,UNHOLY_BIBLE:x.ARTIFACT,STIMPACK:x.POWERUP,MEDIKIT:x.POWERUP,GREEN_ARMOR:x.POWERUP,BLUE_ARMOR:x.POWERUP,RAD_SUIT:x.POWERUP,BACKPACK:x.POWERUP,BLUE_CARD:x.KEY,YELLOW_CARD:x.KEY,RED_CARD:x.KEY,RED_SKULL:x.KEY,YELLOW_SKULL:x.KEY,BLUE_SKULL:x.KEY,GIBBED_MARINE:x.DECORATION,GIBBED_MARINE_EXTRA:x.DECORATION,DEAD_MARINE:x.DECORATION,DEAD_ZOMBIE_MAN:x.DECORATION,DEAD_SHOTGUN_GUY:x.DECORATION,DEAD_DOOM_IMP:x.DECORATION,DEAD_DEMON:x.DECORATION,DEAD_CACODEMON:x.DECORATION,DEAD_LOST_SOUL:x.DECORATION,GIBS:x.DECORATION,DEAD_STICK:x.DECORATION,LIVE_STICK:x.DECORATION,HEAD_ON_ASTICK:x.DECORATION,HEADS_ON_ASTICK:x.DECORATION,HEAD_CANDLES:x.DECORATION,CANDLESTICK:x.DECORATION,CANDELABRA:x.DECORATION,EVIL_EYE:x.DECORATION,FLOATING_SKULL:x.DECORATION,BLOODY_TWITCH:x.DECORATION,MEAT_2:x.DECORATION,MEAT_3:x.DECORATION,MEAT_4:x.DECORATION,MEAT_5:x.DECORATION,NONSOLID_MEAT_2:x.DECORATION,NONSOLID_MEAT_3:x.DECORATION,NONSOLID_MEAT_4:x.DECORATION,NONSOLID_MEAT_5:x.DECORATION,NONSOLID_TWITCH:x.DECORATION,HANG_NO_GUTS:x.DECORATION,HANG_BNO_BRAIN:x.DECORATION,HANG_TLOOKING_DOWN:x.DECORATION,HANG_TSKULL:x.DECORATION,HANG_TLOOKING_UP:x.DECORATION,HANG_TNO_BRAIN:x.DECORATION,COLON_GIBS:x.DECORATION,SMALL_BLOOD_POOL:x.DECORATION,BRAIN_STEM:x.DECORATION,TALL_GREEN_COLUMN:x.OBSTACLE,SHORT_GREEN_COLUMN:x.OBSTACLE,TALL_RED_COLUMN:x.OBSTACLE,SHORT_RED_COLUMN:x.OBSTACLE,HEART_COLUMN:x.OBSTACLE,SKULL_COLUMN:x.OBSTACLE,TORCH_TREE:x.OBSTACLE,BLUE_TORCH:x.OBSTACLE,GREEN_TORCH:x.OBSTACLE,RED_TORCH:x.OBSTACLE,STALAGTITE:x.OBSTACLE,TECH_PILLAR:x.OBSTACLE,BIG_TREE:x.OBSTACLE,SHORT_BLUE_TORCH:x.OBSTACLE,SHORT_GREEN_TORCH:x.OBSTACLE,SHORT_RED_TORCH:x.OBSTACLE,BURNING_BARREL:x.OBSTACLE,TECH_LAMP:x.OBSTACLE,TECH_LAMP_2:x.OBSTACLE,COLUMN:x.OBSTACLE,EXPLOSIVE_BARREL:x.OBSTACLE,INFRARED:x.OBSTACLE,PLAYER_START_1:x.OTHER,PLAYER_START_2:x.OTHER,PLAYER_START_3:x.OTHER,PLAYER_START_4:x.OTHER,PLAYER_START_5:x.OTHER,PLAYER_START_6:x.OTHER,PLAYER_START_7:x.OTHER,PLAYER_START_8:x.OTHER,DEATHMATCH_START:x.OTHER,TELEPORT_DEST:x.OTHER,TELEPORT_DEST_3:x.OTHER,TELEPORT_DEST_2:x.OTHER,BOSS_TARGET:x.OTHER,BOSS_BRAIN:x.OTHER,BOSS_EYE:x.OTHER,POINT_PUSHER:x.SPECIAL,POINT_PULLER:x.SPECIAL,FS_MAPSPOT:x.SPECIAL,STALAGMITE:x.OBSTACLE,INVISIBLE_BRIDGE_32:x.SPECIAL,INVISIBLE_BRIDGE_16:x.SPECIAL,INVISIBLE_BRIDGE_8:x.SPECIAL,MAP_SPOT:x.SPECIAL,MAP_SPOT_GRAVITY:x.SPECIAL,PATROL_POINT:x.SPECIAL,SECURITY_CAMERA:x.SPECIAL,SPARK:x.DECORATION,RED_PARTICLE_FOUNTAIN:x.DECORATION,GREEN_PARTICLE_FOUNTAIN:x.DECORATION,BLUE_PARTICLE_FOUNTAIN:x.DECORATION,YELLOW_PARTICLE_FOUNTAIN:x.DECORATION,PURPLE_PARTICLE_FOUNTAIN:x.DECORATION,BLACK_PARTICLE_FOUNTAIN:x.DECORATION,WHITE_PARTICLE_FOUNTAIN:x.DECORATION,BETA_SKULL:x.DECORATION,COLOR_SETTER:x.SPECIAL,FADE_SETTER:x.SPECIAL,MAP_MARKER:x.SPECIAL,SECTOR_FLAG_SETTER:x.SPECIAL,WATER_ZONE:x.SPECIAL,SECRET_TRIGGER:x.SPECIAL,PATROL_SPECIAL:x.SPECIAL,SOUND_ENVIRONMENT:x.SPECIAL,MUSINFO_SPOT:x.SPECIAL,INTERPOLATION_POINT:x.SPECIAL,PATH_FOLLOWER:x.SPECIAL,MOVING_CAMERA:x.SPECIAL,AIMING_CAMERA:x.SPECIAL,ACTOR_MOVER:x.SPECIAL,INTERPOLATION_SPECIAL:x.SPECIAL,HATE_TARGET:x.SPECIAL,UPPER_STACK_LOOK_ONLY:x.SPECIAL,LOWER_STACK_LOOK_ONLY:x.SPECIAL,SKY_VIEWPOINT:x.SPECIAL,SKY_PICKER:x.SPECIAL,SECTOR_SILENCER:x.SPECIAL,SCRIPTED_MARINE:x.MONSTER,MARINE_FIST:x.WEAPON,MARINE_BERSERK:x.WEAPON,MARINE_CHAINSAW:x.WEAPON,MARINE_PISTOL:x.WEAPON,MARINE_SHOTGUN:x.WEAPON,MARINE_SSG:x.WEAPON,MARINE_CHAINGUN:x.WEAPON,MARINE_ROCKET:x.WEAPON,MARINE_PLASMA:x.WEAPON,MARINE_RAILGUN:x.WEAPON,MARINE_BFG:x.WEAPON,DECAL:x.DECORATION,POLY_OBJECT_ANCHOR:x.SPECIAL,POLY_OBJECT_START_SPOT_HARMLESS:x.SPECIAL,POLY_OBJECT_START_SPOT_CRUSHING:x.SPECIAL,POLY_OBJECT_START_SPOT_HARMFUL:x.SPECIAL,FLOOR_LINE:x.SPECIAL,CEILING_LINE:x.SPECIAL,FLOOR_TILT:x.SPECIAL,CEILING_TILT:x.SPECIAL,COPY_FLOOR_SLOPE:x.SPECIAL,COPY_CEILING_SLOPE:x.SPECIAL,POINT_LIGHT:x.SPECIAL,POINT_LIGHT_PULSE:x.SPECIAL,POINT_LIGHT_FLICKER:x.SPECIAL,SECTOR_POINT_LIGHT:x.SPECIAL,POINT_LIGHT_FLICKER_RANDOM:x.SPECIAL,POINT_LIGHT_ADDITIVE:x.SPECIAL,POINT_LIGHT_PULSE_ADDITIVE:x.SPECIAL,POINT_LIGHT_FLICKER_ADDITIVE:x.SPECIAL,SECTOR_POINT_LIGHT_ADDITIVE:x.SPECIAL,POINT_LIGHT_FLICKER_RANDOM_ADDITIVE:x.SPECIAL,POINT_LIGHT_SUBTRACTIVE:x.SPECIAL,POINT_LIGHT_PULSE_SUBTRACTIVE:x.SPECIAL,POINT_LIGHT_FLICKER_SUBTRACTIVE:x.SPECIAL,SECTOR_POINT_LIGHT_SUBTRACTIVE:x.SPECIAL,POINT_LIGHT_FLICKER_RANDOM_SUBTRACTIVE:x.SPECIAL,VAVOOM_LIGHT:x.SPECIAL,VAVOOM_LIGHT_WHITE:x.SPECIAL,VAVOOM_LIGHT_COLOR:x.SPECIAL,SEC_ACT_EYES_ABOVE_C:x.SPECIAL,SEC_ACT_EYES_BELOW_C:x.SPECIAL,SEC_ACT_HIT_FAKE_FLOOR:x.SPECIAL,SEC_ACT_EYES_SURFACE:x.SPECIAL,SEC_ACT_EYES_DIVE:x.SPECIAL,SEC_ACT_USE_WALL:x.SPECIAL,SEC_ACT_USE:x.SPECIAL,SEC_ACT_HIT_CEIL:x.SPECIAL,SEC_ACT_EXIT:x.SPECIAL,SEC_ACT_ENTER:x.SPECIAL,SEC_ACT_HIT_FLOOR:x.SPECIAL,CUSTOM_SPRITE:x.SPECIAL,INVISIBLE_BRIDGE:x.SPECIAL,CUSTOM_BRIDGE:x.SPECIAL,AMBIENT_SOUND:x.SPECIAL,SOUND_SEQUENCE:x.SPECIAL,AMBIENT_SOUND_NO_GRAVITY:x.SPECIAL,MUSIC_CHANGER:x.SPECIAL,SOUND_SEQUENCE_THING_0:x.SPECIAL,SOUND_SEQUENCE_THING_1:x.SPECIAL,SOUND_SEQUENCE_THING_2:x.SPECIAL,SOUND_SEQUENCE_THING_3:x.SPECIAL,SOUND_SEQUENCE_THING_4:x.SPECIAL,SOUND_SEQUENCE_THING_5:x.SPECIAL,SOUND_SEQUENCE_THING_6:x.SPECIAL,SOUND_SEQUENCE_THING_7:x.SPECIAL,SOUND_SEQUENCE_THING_8:x.SPECIAL,SOUND_SEQUENCE_THING_9:x.SPECIAL,SOUND_SEQUENCE_THING_ARG:x.SPECIAL,DOOM_BUILDER_CAMERA:x.SPECIAL,FLOOR_SLOPE:x.SPECIAL,CEILING_SLOPE:x.SPECIAL,FLOOR_VERTEX_HEIGHT:x.SPECIAL,CEILING_VERTEX_HEIGHT:x.SPECIAL,ZBRIDGE:x.SPECIAL,MBFHELPER_DOG:x.MONSTER},O=e=>{switch(e){case 1:return S.PISTOL;case 2:return S.SHOTGUN;case 3:return S.CHAINGUN;case 4:return S.ROCKET_LAUNCHER;case 5:return S.PLASMA_RIFLE;case 6:return S.BFG_9000;case 7:return S.CHAINSAW;case 8:return S.SUPER_SHOTGUN;default:return null}};var R;!function(e){e[e.PLAYER_START_1=1]="PLAYER_START_1",e[e.PLAYER_START_2=2]="PLAYER_START_2",e[e.PLAYER_START_3=3]="PLAYER_START_3",e[e.PLAYER_START_4=4]="PLAYER_START_4",e[e.CHEX_BLUE_CARD=5]="CHEX_BLUE_CARD",e[e.CHEX_YELLOW_CARD=6]="CHEX_YELLOW_CARD",e[e.ZORCHPACK=8]="ZORCHPACK",e[e.FLEMOIDUS_BIPEDICUS=9]="FLEMOIDUS_BIPEDICUS",e[e.DEATHMATCH_START=11]="DEATHMATCH_START",e[e.CHEX_RED_CARD=13]="CHEX_RED_CARD",e[e.TELEPORT_DEST=14]="TELEPORT_DEST",e[e.PHASING_ZORCH_PACK=17]="PHASING_ZORCH_PACK",e[e.CHEX_TALL_FLOWER_2=25]="CHEX_TALL_FLOWER_2",e[e.CHEX_TALL_FLOWER=28]="CHEX_TALL_FLOWER",e[e.CHEX_CAVERN_STALAGMITE=30]="CHEX_CAVERN_STALAGMITE",e[e.CHEX_SUBMERGED_PLANT=31]="CHEX_SUBMERGED_PLANT",e[e.CHEX_CAVERN_COLUMN=32]="CHEX_CAVERN_COLUMN",e[e.CHEX_MINE_CART=33]="CHEX_MINE_CART",e[e.CHEX_CHEMICAL_FLASK=34]="CHEX_CHEMICAL_FLASK",e[e.CHEX_GAS_TANK=35]="CHEX_GAS_TANK",e[e.CHEX_FLAG_ON_POLE=37]="CHEX_FLAG_ON_POLE",e[e.CHEX_CHEMICAL_BURNER=41]="CHEX_CHEMICAL_BURNER",e[e.CHEX_ORANGE_TREE=43]="CHEX_ORANGE_TREE",e[e.CHEX_SLIME_FOUNTAIN=44]="CHEX_SLIME_FOUNTAIN",e[e.CHEX_CIVILIAN_1=45]="CHEX_CIVILIAN_1",e[e.CHEX_APPLE_TREE=47]="CHEX_APPLE_TREE",e[e.CHEX_SPACESHIP=48]="CHEX_SPACESHIP",e[e.CHEX_BANANA_TREE=54]="CHEX_BANANA_TREE",e[e.CHEX_LIGHT_COLUMN=55]="CHEX_LIGHT_COLUMN",e[e.CHEX_CIVILIAN_2=56]="CHEX_CIVILIAN_2",e[e.CHEX_CIVILIAN_3=57]="CHEX_CIVILIAN_3",e[e.SUPER_LARGE_ZORCHER=82]="SUPER_LARGE_ZORCHER",e[e.MBFHELPER_DOG=888]="MBFHELPER_DOG",e[e.SOUND_SEQUENCE_THING_0=1400]="SOUND_SEQUENCE_THING_0",e[e.SOUND_SEQUENCE_THING_1=1401]="SOUND_SEQUENCE_THING_1",e[e.SOUND_SEQUENCE_THING_2=1402]="SOUND_SEQUENCE_THING_2",e[e.SOUND_SEQUENCE_THING_3=1403]="SOUND_SEQUENCE_THING_3",e[e.SOUND_SEQUENCE_THING_4=1404]="SOUND_SEQUENCE_THING_4",e[e.SOUND_SEQUENCE_THING_5=1405]="SOUND_SEQUENCE_THING_5",e[e.SOUND_SEQUENCE_THING_6=1406]="SOUND_SEQUENCE_THING_6",e[e.SOUND_SEQUENCE_THING_7=1407]="SOUND_SEQUENCE_THING_7",e[e.SOUND_SEQUENCE_THING_8=1408]="SOUND_SEQUENCE_THING_8",e[e.SOUND_SEQUENCE_THING_9=1409]="SOUND_SEQUENCE_THING_9",e[e.SOUND_SEQUENCE_THING_ARG=1411]="SOUND_SEQUENCE_THING_ARG",e[e.FLOOR_SLOPE=1500]="FLOOR_SLOPE",e[e.CEILING_SLOPE=1501]="CEILING_SLOPE",e[e.VAVOOM_LIGHT_WHITE=1502]="VAVOOM_LIGHT_WHITE",e[e.VAVOOM_LIGHT_COLOR=1503]="VAVOOM_LIGHT_COLOR",e[e.FLOOR_VERTEX_HEIGHT=1504]="FLOOR_VERTEX_HEIGHT",e[e.CEILING_VERTEX_HEIGHT=1505]="CEILING_VERTEX_HEIGHT",e[e.LARGE_ZORCHER=2001]="LARGE_ZORCHER",e[e.RAPID_ZORCHER=2002]="RAPID_ZORCHER",e[e.ZORCH_PROPULSOR=2003]="ZORCH_PROPULSOR",e[e.PHASING_ZORCHER=2004]="PHASING_ZORCHER",e[e.SUPER_BOOTSPORK=2005]="SUPER_BOOTSPORK",e[e.LAZDEVICE=2006]="LAZDEVICE",e[e.MINI_ZORCH_RECHARGE=2007]="MINI_ZORCH_RECHARGE",e[e.LARGE_ZORCH_RECHARGE=2008]="LARGE_ZORCH_RECHARGE",e[e.PROPULSOR_ZORCH=2010]="PROPULSOR_ZORCH",e[e.BOWL_OF_FRUIT=2011]="BOWL_OF_FRUIT",e[e.BOWL_OF_VEGETABLES=2012]="BOWL_OF_VEGETABLES",e[e.SUPERCHARGE_BREAKFAST=2013]="SUPERCHARGE_BREAKFAST",e[e.GLASS_OF_WATER=2014]="GLASS_OF_WATER",e[e.SLIME_REPELLENT=2015]="SLIME_REPELLENT",e[e.CHEX_ARMOR=2018]="CHEX_ARMOR",e[e.SUPER_CHEX_ARMOR=2019]="SUPER_CHEX_ARMOR",e[e.SLIME_PROOF_SUIT=2025]="SLIME_PROOF_SUIT",e[e.COMPUTER_AREA_MAP=2026]="COMPUTER_AREA_MAP",e[e.CHEX_LANDING_LIGHT=2028]="CHEX_LANDING_LIGHT",e[e.PROPULSOR_ZORCH_PACK=2046]="PROPULSOR_ZORCH_PACK",e[e.PHASING_ZORCH=2047]="PHASING_ZORCH",e[e.MINI_ZORCH_PACK=2048]="MINI_ZORCH_PACK",e[e.LARGE_ZORCH_PACK=2049]="LARGE_ZORCH_PACK",e[e.ARMORED_FLEMOIDUS_BIPEDICUS=3001]="ARMORED_FLEMOIDUS_BIPEDICUS",e[e.FLEMOIDUS_CYCLOPTIS_COMMONUS=3002]="FLEMOIDUS_CYCLOPTIS_COMMONUS",e[e.FLEMBRANE=3003]="FLEMBRANE",e[e.FLEMOIDUS_COMMONUS=3004]="FLEMOIDUS_COMMONUS",e[e.CHEX_SOUL=3006]="CHEX_SOUL",e[e.PLAYER_START_5=4001]="PLAYER_START_5",e[e.PLAYER_START_6=4002]="PLAYER_START_6",e[e.PLAYER_START_7=4003]="PLAYER_START_7",e[e.PLAYER_START_8=4004]="PLAYER_START_8",e[e.POINT_PUSHER=5001]="POINT_PUSHER",e[e.POINT_PULLER=5002]="POINT_PULLER",e[e.FS_MAPSPOT=5004]="FS_MAPSPOT",e[e.MINI_ZORCHER=5010]="MINI_ZORCHER",e[e.INVISIBLE_BRIDGE_32=5061]="INVISIBLE_BRIDGE_32",e[e.INVISIBLE_BRIDGE_16=5064]="INVISIBLE_BRIDGE_16",e[e.INVISIBLE_BRIDGE_8=5065]="INVISIBLE_BRIDGE_8",e[e.MAP_SPOT=9001]="MAP_SPOT",e[e.MAP_SPOT_GRAVITY=9013]="MAP_SPOT_GRAVITY",e[e.PATROL_POINT=9024]="PATROL_POINT",e[e.SECURITY_CAMERA=9025]="SECURITY_CAMERA",e[e.SPARK=9026]="SPARK",e[e.RED_PARTICLE_FOUNTAIN=9027]="RED_PARTICLE_FOUNTAIN",e[e.GREEN_PARTICLE_FOUNTAIN=9028]="GREEN_PARTICLE_FOUNTAIN",e[e.BLUE_PARTICLE_FOUNTAIN=9029]="BLUE_PARTICLE_FOUNTAIN",e[e.YELLOW_PARTICLE_FOUNTAIN=9030]="YELLOW_PARTICLE_FOUNTAIN",e[e.PURPLE_PARTICLE_FOUNTAIN=9031]="PURPLE_PARTICLE_FOUNTAIN",e[e.BLACK_PARTICLE_FOUNTAIN=9032]="BLACK_PARTICLE_FOUNTAIN",e[e.WHITE_PARTICLE_FOUNTAIN=9033]="WHITE_PARTICLE_FOUNTAIN",e[e.BETA_SKULL=9037]="BETA_SKULL",e[e.COLOR_SETTER=9038]="COLOR_SETTER",e[e.FADE_SETTER=9039]="FADE_SETTER",e[e.MAP_MARKER=9040]="MAP_MARKER",e[e.SECTOR_FLAG_SETTER=9041]="SECTOR_FLAG_SETTER",e[e.TELEPORT_DEST_3=9043]="TELEPORT_DEST_3",e[e.TELEPORT_DEST_2=9044]="TELEPORT_DEST_2",e[e.WATER_ZONE=9045]="WATER_ZONE",e[e.SECRET_TRIGGER=9046]="SECRET_TRIGGER",e[e.PATROL_SPECIAL=9047]="PATROL_SPECIAL",e[e.SOUND_ENVIRONMENT=9048]="SOUND_ENVIRONMENT",e[e.INTERPOLATION_POINT=9070]="INTERPOLATION_POINT",e[e.PATH_FOLLOWER=9071]="PATH_FOLLOWER",e[e.MOVING_CAMERA=9072]="MOVING_CAMERA",e[e.AIMING_CAMERA=9073]="AIMING_CAMERA",e[e.ACTOR_MOVER=9074]="ACTOR_MOVER",e[e.INTERPOLATION_SPECIAL=9075]="INTERPOLATION_SPECIAL",e[e.HATE_TARGET=9076]="HATE_TARGET",e[e.UPPER_STACK_LOOK_ONLY=9077]="UPPER_STACK_LOOK_ONLY",e[e.LOWER_STACK_LOOK_ONLY=9078]="LOWER_STACK_LOOK_ONLY",e[e.SKY_VIEWPOINT=9080]="SKY_VIEWPOINT",e[e.SKY_PICKER=9081]="SKY_PICKER",e[e.SECTOR_SILENCER=9082]="SECTOR_SILENCER",e[e.DECAL=9200]="DECAL",e[e.POLY_OBJECT_ANCHOR=9300]="POLY_OBJECT_ANCHOR",e[e.POLY_OBJECT_START_SPOT_HARMLESS=9301]="POLY_OBJECT_START_SPOT_HARMLESS",e[e.POLY_OBJECT_START_SPOT_CRUSHING=9302]="POLY_OBJECT_START_SPOT_CRUSHING",e[e.POLY_OBJECT_START_SPOT_HARMFUL=9303]="POLY_OBJECT_START_SPOT_HARMFUL",e[e.FLOOR_LINE=9500]="FLOOR_LINE",e[e.CEILING_LINE=9501]="CEILING_LINE",e[e.FLOOR_TILT=9502]="FLOOR_TILT",e[e.CEILING_TILT=9503]="CEILING_TILT",e[e.COPY_FLOOR_SLOPE=9510]="COPY_FLOOR_SLOPE",e[e.COPY_CEILING_SLOPE=9511]="COPY_CEILING_SLOPE",e[e.POINT_LIGHT=9800]="POINT_LIGHT",e[e.POINT_LIGHT_PULSE=9801]="POINT_LIGHT_PULSE",e[e.POINT_LIGHT_FLICKER=9802]="POINT_LIGHT_FLICKER",e[e.SECTOR_POINT_LIGHT=9803]="SECTOR_POINT_LIGHT",e[e.POINT_LIGHT_FLICKER_RANDOM=9804]="POINT_LIGHT_FLICKER_RANDOM",e[e.POINT_LIGHT_ADDITIVE=9810]="POINT_LIGHT_ADDITIVE",e[e.POINT_LIGHT_PULSE_ADDITIVE=9811]="POINT_LIGHT_PULSE_ADDITIVE",e[e.POINT_LIGHT_FLICKER_ADDITIVE=9812]="POINT_LIGHT_FLICKER_ADDITIVE",e[e.SECTOR_POINT_LIGHT_ADDITIVE=9813]="SECTOR_POINT_LIGHT_ADDITIVE",e[e.POINT_LIGHT_FLICKER_RANDOM_ADDITIVE=9814]="POINT_LIGHT_FLICKER_RANDOM_ADDITIVE",e[e.POINT_LIGHT_SUBTRACTIVE=9820]="POINT_LIGHT_SUBTRACTIVE",e[e.POINT_LIGHT_PULSE_SUBTRACTIVE=9821]="POINT_LIGHT_PULSE_SUBTRACTIVE",e[e.POINT_LIGHT_FLICKER_SUBTRACTIVE=9822]="POINT_LIGHT_FLICKER_SUBTRACTIVE",e[e.SECTOR_POINT_LIGHT_SUBTRACTIVE=9823]="SECTOR_POINT_LIGHT_SUBTRACTIVE",e[e.POINT_LIGHT_FLICKER_RANDOM_SUBTRACTIVE=9824]="POINT_LIGHT_FLICKER_RANDOM_SUBTRACTIVE",e[e.VAVOOM_LIGHT=9825]="VAVOOM_LIGHT",e[e.SEC_ACT_EYES_ABOVE_C=9982]="SEC_ACT_EYES_ABOVE_C",e[e.SEC_ACT_EYES_BELOW_C=9983]="SEC_ACT_EYES_BELOW_C",e[e.CUSTOM_SPRITE=9988]="CUSTOM_SPRITE",e[e.SEC_ACT_HIT_FAKE_FLOOR=9989]="SEC_ACT_HIT_FAKE_FLOOR",e[e.INVISIBLE_BRIDGE=9990]="INVISIBLE_BRIDGE",e[e.CUSTOM_BRIDGE=9991]="CUSTOM_BRIDGE",e[e.SEC_ACT_EYES_SURFACE=9992]="SEC_ACT_EYES_SURFACE",e[e.SEC_ACT_EYES_DIVE=9993]="SEC_ACT_EYES_DIVE",e[e.SEC_ACT_USE_WALL=9994]="SEC_ACT_USE_WALL",e[e.SEC_ACT_USE=9995]="SEC_ACT_USE",e[e.SEC_ACT_HIT_CEIL=9996]="SEC_ACT_HIT_CEIL",e[e.SEC_ACT_EXIT=9997]="SEC_ACT_EXIT",e[e.SEC_ACT_ENTER=9998]="SEC_ACT_ENTER",e[e.SEC_ACT_HIT_FLOOR=9999]="SEC_ACT_HIT_FLOOR",e[e.AMBIENT_SOUND=14001]="AMBIENT_SOUND",e[e.SOUND_SEQUENCE=14066]="SOUND_SEQUENCE",e[e.AMBIENT_SOUND_NO_GRAVITY=14067]="AMBIENT_SOUND_NO_GRAVITY",e[e.MUSIC_CHANGER=14101]="MUSIC_CHANGER",e[e.DOOM_BUILDER_CAMERA=32e3]="DOOM_BUILDER_CAMERA"}(R||(R={}));const v=Object.keys(R).filter((e=>Number.isNaN(Number(e)))),C={PLAYER_START_1:x.OTHER,PLAYER_START_2:x.OTHER,PLAYER_START_3:x.OTHER,PLAYER_START_4:x.OTHER,PLAYER_START_5:x.OTHER,PLAYER_START_6:x.OTHER,PLAYER_START_7:x.OTHER,PLAYER_START_8:x.OTHER,DEATHMATCH_START:x.OTHER,TELEPORT_DEST:x.OTHER,TELEPORT_DEST_2:x.OTHER,TELEPORT_DEST_3:x.OTHER,CHEX_BLUE_CARD:x.KEY,CHEX_YELLOW_CARD:x.KEY,CHEX_RED_CARD:x.KEY,LARGE_ZORCHER:x.WEAPON,RAPID_ZORCHER:x.WEAPON,ZORCH_PROPULSOR:x.WEAPON,PHASING_ZORCHER:x.WEAPON,SUPER_BOOTSPORK:x.WEAPON,LAZDEVICE:x.WEAPON,MINI_ZORCHER:x.WEAPON,SUPER_LARGE_ZORCHER:x.WEAPON,ZORCHPACK:x.AMMO,PHASING_ZORCH_PACK:x.AMMO,MINI_ZORCH_RECHARGE:x.AMMO,LARGE_ZORCH_RECHARGE:x.AMMO,PROPULSOR_ZORCH:x.AMMO,PROPULSOR_ZORCH_PACK:x.AMMO,PHASING_ZORCH:x.AMMO,MINI_ZORCH_PACK:x.AMMO,LARGE_ZORCH_PACK:x.AMMO,GLASS_OF_WATER:x.ARTIFACT,SLIME_REPELLENT:x.ARTIFACT,SUPERCHARGE_BREAKFAST:x.ARTIFACT,COMPUTER_AREA_MAP:x.ARTIFACT,BOWL_OF_FRUIT:x.POWERUP,BOWL_OF_VEGETABLES:x.POWERUP,CHEX_ARMOR:x.POWERUP,SUPER_CHEX_ARMOR:x.POWERUP,SLIME_PROOF_SUIT:x.POWERUP,FLEMOIDUS_BIPEDICUS:x.MONSTER,ARMORED_FLEMOIDUS_BIPEDICUS:x.MONSTER,FLEMOIDUS_CYCLOPTIS_COMMONUS:x.MONSTER,FLEMBRANE:x.MONSTER,FLEMOIDUS_COMMONUS:x.MONSTER,CHEX_SOUL:x.MONSTER,MBFHELPER_DOG:x.MONSTER,CHEX_TALL_FLOWER:x.DECORATION,CHEX_TALL_FLOWER_2:x.DECORATION,CHEX_CAVERN_STALAGMITE:x.DECORATION,CHEX_SUBMERGED_PLANT:x.DECORATION,CHEX_CAVERN_COLUMN:x.DECORATION,CHEX_MINE_CART:x.DECORATION,CHEX_CHEMICAL_FLASK:x.DECORATION,CHEX_GAS_TANK:x.DECORATION,CHEX_FLAG_ON_POLE:x.DECORATION,CHEX_CHEMICAL_BURNER:x.DECORATION,CHEX_ORANGE_TREE:x.DECORATION,CHEX_SLIME_FOUNTAIN:x.DECORATION,CHEX_APPLE_TREE:x.DECORATION,CHEX_SPACESHIP:x.DECORATION,CHEX_BANANA_TREE:x.DECORATION,CHEX_LIGHT_COLUMN:x.DECORATION,CHEX_LANDING_LIGHT:x.DECORATION,CHEX_CIVILIAN_1:x.DECORATION,CHEX_CIVILIAN_2:x.DECORATION,CHEX_CIVILIAN_3:x.DECORATION,POINT_PUSHER:x.SPECIAL,POINT_PULLER:x.SPECIAL,FS_MAPSPOT:x.SPECIAL,INVISIBLE_BRIDGE:x.SPECIAL,INVISIBLE_BRIDGE_32:x.SPECIAL,INVISIBLE_BRIDGE_16:x.SPECIAL,INVISIBLE_BRIDGE_8:x.SPECIAL,MAP_SPOT:x.SPECIAL,MAP_SPOT_GRAVITY:x.SPECIAL,PATROL_POINT:x.SPECIAL,SECURITY_CAMERA:x.SPECIAL,SPARK:x.DECORATION,RED_PARTICLE_FOUNTAIN:x.DECORATION,GREEN_PARTICLE_FOUNTAIN:x.DECORATION,BLUE_PARTICLE_FOUNTAIN:x.DECORATION,YELLOW_PARTICLE_FOUNTAIN:x.DECORATION,PURPLE_PARTICLE_FOUNTAIN:x.DECORATION,BLACK_PARTICLE_FOUNTAIN:x.DECORATION,WHITE_PARTICLE_FOUNTAIN:x.DECORATION,BETA_SKULL:x.DECORATION,COLOR_SETTER:x.SPECIAL,FADE_SETTER:x.SPECIAL,MAP_MARKER:x.SPECIAL,SECTOR_FLAG_SETTER:x.SPECIAL,WATER_ZONE:x.SPECIAL,SECRET_TRIGGER:x.SPECIAL,PATROL_SPECIAL:x.SPECIAL,SOUND_ENVIRONMENT:x.SPECIAL,INTERPOLATION_POINT:x.SPECIAL,PATH_FOLLOWER:x.SPECIAL,MOVING_CAMERA:x.SPECIAL,AIMING_CAMERA:x.SPECIAL,ACTOR_MOVER:x.SPECIAL,INTERPOLATION_SPECIAL:x.SPECIAL,HATE_TARGET:x.SPECIAL,UPPER_STACK_LOOK_ONLY:x.SPECIAL,LOWER_STACK_LOOK_ONLY:x.SPECIAL,SKY_VIEWPOINT:x.SPECIAL,SKY_PICKER:x.SPECIAL,SECTOR_SILENCER:x.SPECIAL,DECAL:x.DECORATION,POLY_OBJECT_ANCHOR:x.SPECIAL,POLY_OBJECT_START_SPOT_HARMLESS:x.SPECIAL,POLY_OBJECT_START_SPOT_CRUSHING:x.SPECIAL,POLY_OBJECT_START_SPOT_HARMFUL:x.SPECIAL,FLOOR_LINE:x.SPECIAL,CEILING_LINE:x.SPECIAL,FLOOR_TILT:x.SPECIAL,CEILING_TILT:x.SPECIAL,COPY_FLOOR_SLOPE:x.SPECIAL,COPY_CEILING_SLOPE:x.SPECIAL,POINT_LIGHT:x.SPECIAL,POINT_LIGHT_PULSE:x.SPECIAL,POINT_LIGHT_FLICKER:x.SPECIAL,SECTOR_POINT_LIGHT:x.SPECIAL,POINT_LIGHT_FLICKER_RANDOM:x.SPECIAL,POINT_LIGHT_ADDITIVE:x.SPECIAL,POINT_LIGHT_PULSE_ADDITIVE:x.SPECIAL,POINT_LIGHT_FLICKER_ADDITIVE:x.SPECIAL,SECTOR_POINT_LIGHT_ADDITIVE:x.SPECIAL,POINT_LIGHT_FLICKER_RANDOM_ADDITIVE:x.SPECIAL,POINT_LIGHT_SUBTRACTIVE:x.SPECIAL,POINT_LIGHT_PULSE_SUBTRACTIVE:x.SPECIAL,POINT_LIGHT_FLICKER_SUBTRACTIVE:x.SPECIAL,SECTOR_POINT_LIGHT_SUBTRACTIVE:x.SPECIAL,POINT_LIGHT_FLICKER_RANDOM_SUBTRACTIVE:x.SPECIAL,VAVOOM_LIGHT:x.SPECIAL,VAVOOM_LIGHT_WHITE:x.SPECIAL,VAVOOM_LIGHT_COLOR:x.SPECIAL,SEC_ACT_EYES_ABOVE_C:x.SPECIAL,SEC_ACT_EYES_BELOW_C:x.SPECIAL,CUSTOM_SPRITE:x.SPECIAL,SEC_ACT_HIT_FAKE_FLOOR:x.SPECIAL,CUSTOM_BRIDGE:x.SPECIAL,SEC_ACT_EYES_SURFACE:x.SPECIAL,SEC_ACT_EYES_DIVE:x.SPECIAL,SEC_ACT_USE_WALL:x.SPECIAL,SEC_ACT_USE:x.SPECIAL,SEC_ACT_HIT_CEIL:x.SPECIAL,SEC_ACT_EXIT:x.SPECIAL,SEC_ACT_ENTER:x.SPECIAL,SEC_ACT_HIT_FLOOR:x.SPECIAL,AMBIENT_SOUND:x.SPECIAL,SOUND_SEQUENCE:x.SPECIAL,AMBIENT_SOUND_NO_GRAVITY:x.SPECIAL,MUSIC_CHANGER:x.SPECIAL,SOUND_SEQUENCE_THING_0:x.SPECIAL,SOUND_SEQUENCE_THING_1:x.SPECIAL,SOUND_SEQUENCE_THING_2:x.SPECIAL,SOUND_SEQUENCE_THING_3:x.SPECIAL,SOUND_SEQUENCE_THING_4:x.SPECIAL,SOUND_SEQUENCE_THING_5:x.SPECIAL,SOUND_SEQUENCE_THING_6:x.SPECIAL,SOUND_SEQUENCE_THING_7:x.SPECIAL,SOUND_SEQUENCE_THING_8:x.SPECIAL,SOUND_SEQUENCE_THING_9:x.SPECIAL,SOUND_SEQUENCE_THING_ARG:x.SPECIAL,FLOOR_SLOPE:x.SPECIAL,CEILING_SLOPE:x.SPECIAL,FLOOR_VERTEX_HEIGHT:x.SPECIAL,CEILING_VERTEX_HEIGHT:x.SPECIAL,DOOM_BUILDER_CAMERA:x.SPECIAL};var L;!function(e){e[e.PLAYER_START_1=1]="PLAYER_START_1",e[e.PLAYER_START_2=2]="PLAYER_START_2",e[e.PLAYER_START_3=3]="PLAYER_START_3",e[e.PLAYER_START_4=4]="PLAYER_START_4",e[e.HERETIC_IMP_LEADER=5]="HERETIC_IMP_LEADER",e[e.IRONLICH=6]="IRONLICH",e[e.SORCERER_1=7]="SORCERER_1",e[e.BAG_OF_HOLDING=8]="BAG_OF_HOLDING",e[e.MINOTAUR=9]="MINOTAUR",e[e.GOLD_WAND_AMMO=10]="GOLD_WAND_AMMO",e[e.DEATHMATCH_START=11]="DEATHMATCH_START",e[e.GOLD_WAND_HEFTY=12]="GOLD_WAND_HEFTY",e[e.MACE_AMMO=13]="MACE_AMMO",e[e.TELEPORT_DEST=14]="TELEPORT_DEST",e[e.WIZARD=15]="WIZARD",e[e.MACE_HEFTY=16]="MACE_HEFTY",e[e.SKULL_HANG_70=17]="SKULL_HANG_70",e[e.CROSSBOW_AMMO=18]="CROSSBOW_AMMO",e[e.CROSSBOW_HEFTY=19]="CROSSBOW_HEFTY",e[e.SKULL_ROD_AMMO=20]="SKULL_ROD_AMMO",e[e.SKULL_ROD_HEFTY=21]="SKULL_ROD_HEFTY",e[e.PHOENIX_ROD_AMMO=22]="PHOENIX_ROD_AMMO",e[e.PHOENIX_ROD_HEFTY=23]="PHOENIX_ROD_HEFTY",e[e.SKULL_HANG_60=24]="SKULL_HANG_60",e[e.SKULL_HANG_45=25]="SKULL_HANG_45",e[e.SKULL_HANG_35=26]="SKULL_HANG_35",e[e.SERPENT_TORCH=27]="SERPENT_TORCH",e[e.CHANDELIER=28]="CHANDELIER",e[e.SMALL_PILLAR=29]="SMALL_PILLAR",e[e.ARTI_EGG=30]="ARTI_EGG",e[e.ENCHANTED_SHIELD=31]="ENCHANTED_SHIELD",e[e.ARTI_SUPER_HEALTH=32]="ARTI_SUPER_HEALTH",e[e.ARTI_TORCH=33]="ARTI_TORCH",e[e.ARTI_TIME_BOMB=34]="ARTI_TIME_BOMB",e[e.SUPER_MAP=35]="SUPER_MAP",e[e.ARTI_TELEPORT=36]="ARTI_TELEPORT",e[e.STALAGMITE_SMALL=37]="STALAGMITE_SMALL",e[e.STALAGMITE_LARGE=38]="STALAGMITE_LARGE",e[e.STALACTITE_SMALL=39]="STALACTITE_SMALL",e[e.STALACTITE_LARGE=40]="STALACTITE_LARGE",e[e.SOUND_WATERFALL=41]="SOUND_WATERFALL",e[e.SOUND_WIND=42]="SOUND_WIND",e[e.POD_GENERATOR=43]="POD_GENERATOR",e[e.BARREL=44]="BARREL",e[e.MUMMY_LEADER=45]="MUMMY_LEADER",e[e.MUMMY_LEADER_GHOST=46]="MUMMY_LEADER_GHOST",e[e.BROWN_PILLAR=47]="BROWN_PILLAR",e[e.MOSS_1=48]="MOSS_1",e[e.MOSS_2=49]="MOSS_2",e[e.WALL_TORCH=50]="WALL_TORCH",e[e.HANGING_CORPSE=51]="HANGING_CORPSE",e[e.TELE_GLITTER_GENERATOR_2=52]="TELE_GLITTER_GENERATOR_2",e[e.BLASTER=53]="BLASTER",e[e.BLASTER_AMMO=54]="BLASTER_AMMO",e[e.BLASTER_HEFTY=55]="BLASTER_HEFTY",e[e.BOSS_SPOT=56]="BOSS_SPOT",e[e.KNIGHT=64]="KNIGHT",e[e.KNIGHT_GHOST=65]="KNIGHT_GHOST",e[e.HERETIC_IMP=66]="HERETIC_IMP",e[e.MUMMY=68]="MUMMY",e[e.MUMMY_GHOST=69]="MUMMY_GHOST",e[e.BEAST=70]="BEAST",e[e.KEY_GREEN=73]="KEY_GREEN",e[e.TELE_GLITTER_GENERATOR_1=74]="TELE_GLITTER_GENERATOR_1",e[e.ARTI_INVISIBILITY=75]="ARTI_INVISIBILITY",e[e.FIRE_BRAZIER=76]="FIRE_BRAZIER",e[e.KEY_BLUE=79]="KEY_BLUE",e[e.KEY_YELLOW=80]="KEY_YELLOW",e[e.CRYSTAL_VIAL=81]="CRYSTAL_VIAL",e[e.ARTI_HEALTH=82]="ARTI_HEALTH",e[e.ARTI_FLY=83]="ARTI_FLY",e[e.ARTI_INVULNERABILITY=84]="ARTI_INVULNERABILITY",e[e.SILVER_SHIELD=85]="SILVER_SHIELD",e[e.ARTI_TOME_OF_POWER=86]="ARTI_TOME_OF_POWER",e[e.VOLCANO=87]="VOLCANO",e[e.CLINK=90]="CLINK",e[e.SNAKE=92]="SNAKE",e[e.KEY_GIZMO_BLUE=94]="KEY_GIZMO_BLUE",e[e.KEY_GIZMO_GREEN=95]="KEY_GIZMO_GREEN",e[e.KEY_GIZMO_YELLOW=96]="KEY_GIZMO_YELLOW",e[e.BRIDGE=118]="BRIDGE",e[e.MBFHELPER_DOG=888]="MBFHELPER_DOG",e[e.HERETIC_SOUND_SEQUENCE_1=1200]="HERETIC_SOUND_SEQUENCE_1",e[e.HERETIC_SOUND_SEQUENCE_2=1201]="HERETIC_SOUND_SEQUENCE_2",e[e.HERETIC_SOUND_SEQUENCE_3=1202]="HERETIC_SOUND_SEQUENCE_3",e[e.HERETIC_SOUND_SEQUENCE_4=1203]="HERETIC_SOUND_SEQUENCE_4",e[e.HERETIC_SOUND_SEQUENCE_5=1204]="HERETIC_SOUND_SEQUENCE_5",e[e.HERETIC_SOUND_SEQUENCE_6=1205]="HERETIC_SOUND_SEQUENCE_6",e[e.HERETIC_SOUND_SEQUENCE_7=1206]="HERETIC_SOUND_SEQUENCE_7",e[e.HERETIC_SOUND_SEQUENCE_8=1207]="HERETIC_SOUND_SEQUENCE_8",e[e.HERETIC_SOUND_SEQUENCE_9=1208]="HERETIC_SOUND_SEQUENCE_9",e[e.HERETIC_SOUND_SEQUENCE_10=1209]="HERETIC_SOUND_SEQUENCE_10",e[e.SOUND_SEQUENCE_THING_0=1400]="SOUND_SEQUENCE_THING_0",e[e.SOUND_SEQUENCE_THING_1=1401]="SOUND_SEQUENCE_THING_1",e[e.SOUND_SEQUENCE_THING_2=1402]="SOUND_SEQUENCE_THING_2",e[e.SOUND_SEQUENCE_THING_3=1403]="SOUND_SEQUENCE_THING_3",e[e.SOUND_SEQUENCE_THING_4=1404]="SOUND_SEQUENCE_THING_4",e[e.SOUND_SEQUENCE_THING_5=1405]="SOUND_SEQUENCE_THING_5",e[e.SOUND_SEQUENCE_THING_6=1406]="SOUND_SEQUENCE_THING_6",e[e.SOUND_SEQUENCE_THING_7=1407]="SOUND_SEQUENCE_THING_7",e[e.SOUND_SEQUENCE_THING_8=1408]="SOUND_SEQUENCE_THING_8",e[e.SOUND_SEQUENCE_THING_9=1409]="SOUND_SEQUENCE_THING_9",e[e.SOUND_SEQUENCE_THING_ARG=1411]="SOUND_SEQUENCE_THING_ARG",e[e.FLOOR_SLOPE=1500]="FLOOR_SLOPE",e[e.CEILING_SLOPE=1501]="CEILING_SLOPE",e[e.VAVOOM_LIGHT_WHITE=1502]="VAVOOM_LIGHT_WHITE",e[e.VAVOOM_LIGHT_COLOR=1503]="VAVOOM_LIGHT_COLOR",e[e.FLOOR_VERTEX_HEIGHT=1504]="FLOOR_VERTEX_HEIGHT",e[e.CEILING_VERTEX_HEIGHT=1505]="CEILING_VERTEX_HEIGHT",e[e.CROSSBOW=2001]="CROSSBOW",e[e.MACE_SPAWNER=2002]="MACE_SPAWNER",e[e.PHOENIX_ROD=2003]="PHOENIX_ROD",e[e.SKULL_ROD=2004]="SKULL_ROD",e[e.GAUNTLETS=2005]="GAUNTLETS",e[e.POD=2035]="POD",e[e.PLAYER_START_5=4001]="PLAYER_START_5",e[e.PLAYER_START_6=4002]="PLAYER_START_6",e[e.PLAYER_START_7=4003]="PLAYER_START_7",e[e.PLAYER_START_8=4004]="PLAYER_START_8",e[e.POINT_PUSHER=5001]="POINT_PUSHER",e[e.POINT_PULLER=5002]="POINT_PULLER",e[e.FS_MAPSPOT=5004]="FS_MAPSPOT",e[e.INVISIBLE_BRIDGE_32=5061]="INVISIBLE_BRIDGE_32",e[e.INVISIBLE_BRIDGE_16=5064]="INVISIBLE_BRIDGE_16",e[e.INVISIBLE_BRIDGE_8=5065]="INVISIBLE_BRIDGE_8",e[e.MAP_SPOT=9001]="MAP_SPOT",e[e.MAP_SPOT_GRAVITY=9013]="MAP_SPOT_GRAVITY",e[e.PATROL_POINT=9024]="PATROL_POINT",e[e.SECURITY_CAMERA=9025]="SECURITY_CAMERA",e[e.SPARK=9026]="SPARK",e[e.RED_PARTICLE_FOUNTAIN=9027]="RED_PARTICLE_FOUNTAIN",e[e.GREEN_PARTICLE_FOUNTAIN=9028]="GREEN_PARTICLE_FOUNTAIN",e[e.BLUE_PARTICLE_FOUNTAIN=9029]="BLUE_PARTICLE_FOUNTAIN",e[e.YELLOW_PARTICLE_FOUNTAIN=9030]="YELLOW_PARTICLE_FOUNTAIN",e[e.PURPLE_PARTICLE_FOUNTAIN=9031]="PURPLE_PARTICLE_FOUNTAIN",e[e.BLACK_PARTICLE_FOUNTAIN=9032]="BLACK_PARTICLE_FOUNTAIN",e[e.WHITE_PARTICLE_FOUNTAIN=9033]="WHITE_PARTICLE_FOUNTAIN",e[e.BETA_SKULL=9037]="BETA_SKULL",e[e.COLOR_SETTER=9038]="COLOR_SETTER",e[e.FADE_SETTER=9039]="FADE_SETTER",e[e.MAP_MARKER=9040]="MAP_MARKER",e[e.SECTOR_FLAG_SETTER=9041]="SECTOR_FLAG_SETTER",e[e.GOLD_WAND=9042]="GOLD_WAND",e[e.TELEPORT_DEST_3=9043]="TELEPORT_DEST_3",e[e.TELEPORT_DEST_2=9044]="TELEPORT_DEST_2",e[e.WATER_ZONE=9045]="WATER_ZONE",e[e.SECRET_TRIGGER=9046]="SECRET_TRIGGER",e[e.PATROL_SPECIAL=9047]="PATROL_SPECIAL",e[e.SOUND_ENVIRONMENT=9048]="SOUND_ENVIRONMENT",e[e.INTERPOLATION_POINT=9070]="INTERPOLATION_POINT",e[e.PATH_FOLLOWER=9071]="PATH_FOLLOWER",e[e.MOVING_CAMERA=9072]="MOVING_CAMERA",e[e.AIMING_CAMERA=9073]="AIMING_CAMERA",e[e.ACTOR_MOVER=9074]="ACTOR_MOVER",e[e.INTERPOLATION_SPECIAL=9075]="INTERPOLATION_SPECIAL",e[e.HATE_TARGET=9076]="HATE_TARGET",e[e.UPPER_STACK_LOOK_ONLY=9077]="UPPER_STACK_LOOK_ONLY",e[e.LOWER_STACK_LOOK_ONLY=9078]="LOWER_STACK_LOOK_ONLY",e[e.SKY_VIEWPOINT=9080]="SKY_VIEWPOINT",e[e.SKY_PICKER=9081]="SKY_PICKER",e[e.SECTOR_SILENCER=9082]="SECTOR_SILENCER",e[e.DECAL=9200]="DECAL",e[e.POLY_OBJECT_ANCHOR=9300]="POLY_OBJECT_ANCHOR",e[e.POLY_OBJECT_START_SPOT_HARMLESS=9301]="POLY_OBJECT_START_SPOT_HARMLESS",e[e.POLY_OBJECT_START_SPOT_CRUSHING=9302]="POLY_OBJECT_START_SPOT_CRUSHING",e[e.POLY_OBJECT_START_SPOT_HARMFUL=9303]="POLY_OBJECT_START_SPOT_HARMFUL",e[e.FLOOR_LINE=9500]="FLOOR_LINE",e[e.CEILING_LINE=9501]="CEILING_LINE",e[e.FLOOR_TILT=9502]="FLOOR_TILT",e[e.CEILING_TILT=9503]="CEILING_TILT",e[e.COPY_FLOOR_SLOPE=9510]="COPY_FLOOR_SLOPE",e[e.COPY_CEILING_SLOPE=9511]="COPY_CEILING_SLOPE",e[e.POINT_LIGHT=9800]="POINT_LIGHT",e[e.POINT_LIGHT_PULSE=9801]="POINT_LIGHT_PULSE",e[e.POINT_LIGHT_FLICKER=9802]="POINT_LIGHT_FLICKER",e[e.SECTOR_POINT_LIGHT=9803]="SECTOR_POINT_LIGHT",e[e.POINT_LIGHT_FLICKER_RANDOM=9804]="POINT_LIGHT_FLICKER_RANDOM",e[e.POINT_LIGHT_ADDITIVE=9810]="POINT_LIGHT_ADDITIVE",e[e.POINT_LIGHT_PULSE_ADDITIVE=9811]="POINT_LIGHT_PULSE_ADDITIVE",e[e.POINT_LIGHT_FLICKER_ADDITIVE=9812]="POINT_LIGHT_FLICKER_ADDITIVE",e[e.SECTOR_POINT_LIGHT_ADDITIVE=9813]="SECTOR_POINT_LIGHT_ADDITIVE",e[e.POINT_LIGHT_FLICKER_RANDOM_ADDITIVE=9814]="POINT_LIGHT_FLICKER_RANDOM_ADDITIVE",e[e.POINT_LIGHT_SUBTRACTIVE=9820]="POINT_LIGHT_SUBTRACTIVE",e[e.POINT_LIGHT_PULSE_SUBTRACTIVE=9821]="POINT_LIGHT_PULSE_SUBTRACTIVE",e[e.POINT_LIGHT_FLICKER_SUBTRACTIVE=9822]="POINT_LIGHT_FLICKER_SUBTRACTIVE",e[e.SECTOR_POINT_LIGHT_SUBTRACTIVE=9823]="SECTOR_POINT_LIGHT_SUBTRACTIVE",e[e.POINT_LIGHT_FLICKER_RANDOM_SUBTRACTIVE=9824]="POINT_LIGHT_FLICKER_RANDOM_SUBTRACTIVE",e[e.VAVOOM_LIGHT=9825]="VAVOOM_LIGHT",e[e.SEC_ACT_EYES_ABOVE_C=9982]="SEC_ACT_EYES_ABOVE_C",e[e.SEC_ACT_EYES_BELOW_C=9983]="SEC_ACT_EYES_BELOW_C",e[e.CUSTOM_SPRITE=9988]="CUSTOM_SPRITE",e[e.SEC_ACT_HIT_FAKE_FLOOR=9989]="SEC_ACT_HIT_FAKE_FLOOR",e[e.INVISIBLE_BRIDGE=9990]="INVISIBLE_BRIDGE",e[e.CUSTOM_BRIDGE=9991]="CUSTOM_BRIDGE",e[e.SEC_ACT_EYES_SURFACE=9992]="SEC_ACT_EYES_SURFACE",e[e.SEC_ACT_EYES_DIVE=9993]="SEC_ACT_EYES_DIVE",e[e.SEC_ACT_USE_WALL=9994]="SEC_ACT_USE_WALL",e[e.SEC_ACT_USE=9995]="SEC_ACT_USE",e[e.SEC_ACT_HIT_CEIL=9996]="SEC_ACT_HIT_CEIL",e[e.SEC_ACT_EXIT=9997]="SEC_ACT_EXIT",e[e.SEC_ACT_ENTER=9998]="SEC_ACT_ENTER",e[e.SEC_ACT_HIT_FLOOR=9999]="SEC_ACT_HIT_FLOOR",e[e.AMBIENT_SOUND=14001]="AMBIENT_SOUND",e[e.SOUND_SEQUENCE=14066]="SOUND_SEQUENCE",e[e.AMBIENT_SOUND_NO_GRAVITY=14067]="AMBIENT_SOUND_NO_GRAVITY",e[e.MUSIC_CHANGER=14101]="MUSIC_CHANGER",e[e.DOOM_BUILDER_CAMERA=32e3]="DOOM_BUILDER_CAMERA"}(L||(L={}));const N=Object.keys(L).filter((e=>Number.isNaN(Number(e)))),P={BLASTER:x.WEAPON,CROSSBOW:x.WEAPON,MACE_SPAWNER:x.WEAPON,PHOENIX_ROD:x.WEAPON,SKULL_ROD:x.WEAPON,GAUNTLETS:x.WEAPON,GOLD_WAND:x.WEAPON,GOLD_WAND_AMMO:x.AMMO,GOLD_WAND_HEFTY:x.AMMO,MACE_AMMO:x.AMMO,MACE_HEFTY:x.AMMO,CROSSBOW_AMMO:x.AMMO,CROSSBOW_HEFTY:x.AMMO,SKULL_ROD_AMMO:x.AMMO,SKULL_ROD_HEFTY:x.AMMO,PHOENIX_ROD_AMMO:x.AMMO,PHOENIX_ROD_HEFTY:x.AMMO,BLASTER_AMMO:x.AMMO,BLASTER_HEFTY:x.AMMO,ARTI_EGG:x.ARTIFACT,ARTI_SUPER_HEALTH:x.ARTIFACT,ARTI_TORCH:x.ARTIFACT,ARTI_TIME_BOMB:x.ARTIFACT,ARTI_TELEPORT:x.ARTIFACT,ARTI_INVISIBILITY:x.ARTIFACT,ARTI_HEALTH:x.ARTIFACT,ARTI_FLY:x.ARTIFACT,ARTI_INVULNERABILITY:x.ARTIFACT,ARTI_TOME_OF_POWER:x.ARTIFACT,SKULL_HANG_70:x.DECORATION,SKULL_HANG_60:x.DECORATION,SKULL_HANG_45:x.DECORATION,SKULL_HANG_35:x.DECORATION,CHANDELIER:x.DECORATION,SMALL_PILLAR:x.DECORATION,BROWN_PILLAR:x.DECORATION,MOSS_1:x.DECORATION,MOSS_2:x.DECORATION,WALL_TORCH:x.DECORATION,VOLCANO:x.DECORATION,SPARK:x.DECORATION,RED_PARTICLE_FOUNTAIN:x.DECORATION,GREEN_PARTICLE_FOUNTAIN:x.DECORATION,BLUE_PARTICLE_FOUNTAIN:x.DECORATION,YELLOW_PARTICLE_FOUNTAIN:x.DECORATION,PURPLE_PARTICLE_FOUNTAIN:x.DECORATION,BLACK_PARTICLE_FOUNTAIN:x.DECORATION,WHITE_PARTICLE_FOUNTAIN:x.DECORATION,BETA_SKULL:x.DECORATION,DECAL:x.DECORATION,KEY_GREEN:x.KEY,KEY_BLUE:x.KEY,KEY_YELLOW:x.KEY,KEY_GIZMO_BLUE:x.KEY,KEY_GIZMO_GREEN:x.KEY,KEY_GIZMO_YELLOW:x.KEY,HERETIC_IMP_LEADER:x.MONSTER,IRONLICH:x.MONSTER,SORCERER_1:x.MONSTER,MINOTAUR:x.MONSTER,WIZARD:x.MONSTER,MUMMY_LEADER:x.MONSTER,MUMMY_LEADER_GHOST:x.MONSTER,KNIGHT:x.MONSTER,KNIGHT_GHOST:x.MONSTER,HERETIC_IMP:x.MONSTER,MUMMY:x.MONSTER,MUMMY_GHOST:x.MONSTER,BEAST:x.MONSTER,CLINK:x.MONSTER,SNAKE:x.MONSTER,MBFHELPER_DOG:x.MONSTER,STALAGMITE_SMALL:x.OBSTACLE,STALAGMITE_LARGE:x.OBSTACLE,STALACTITE_SMALL:x.OBSTACLE,STALACTITE_LARGE:x.OBSTACLE,BARREL:x.OBSTACLE,BRIDGE:x.OBSTACLE,INVISIBLE_BRIDGE_32:x.OBSTACLE,INVISIBLE_BRIDGE_16:x.OBSTACLE,INVISIBLE_BRIDGE_8:x.OBSTACLE,INVISIBLE_BRIDGE:x.OBSTACLE,CUSTOM_BRIDGE:x.OBSTACLE,HANGING_CORPSE:x.OBSTACLE,FIRE_BRAZIER:x.OBSTACLE,SERPENT_TORCH:x.OBSTACLE,PLAYER_START_1:x.OTHER,PLAYER_START_2:x.OTHER,PLAYER_START_3:x.OTHER,PLAYER_START_4:x.OTHER,DEATHMATCH_START:x.OTHER,PLAYER_START_5:x.OTHER,PLAYER_START_6:x.OTHER,PLAYER_START_7:x.OTHER,PLAYER_START_8:x.OTHER,TELEPORT_DEST:x.OTHER,TELEPORT_DEST_3:x.OTHER,TELEPORT_DEST_2:x.OTHER,POD_GENERATOR:x.OTHER,POD:x.OTHER,BAG_OF_HOLDING:x.POWERUP,ENCHANTED_SHIELD:x.POWERUP,SUPER_MAP:x.POWERUP,CRYSTAL_VIAL:x.POWERUP,SILVER_SHIELD:x.POWERUP,SOUND_WATERFALL:x.SPECIAL,SOUND_WIND:x.SPECIAL,TELE_GLITTER_GENERATOR_2:x.SPECIAL,BOSS_SPOT:x.SPECIAL,TELE_GLITTER_GENERATOR_1:x.SPECIAL,HERETIC_SOUND_SEQUENCE_1:x.SPECIAL,HERETIC_SOUND_SEQUENCE_2:x.SPECIAL,HERETIC_SOUND_SEQUENCE_3:x.SPECIAL,HERETIC_SOUND_SEQUENCE_4:x.SPECIAL,HERETIC_SOUND_SEQUENCE_5:x.SPECIAL,HERETIC_SOUND_SEQUENCE_6:x.SPECIAL,HERETIC_SOUND_SEQUENCE_7:x.SPECIAL,HERETIC_SOUND_SEQUENCE_8:x.SPECIAL,HERETIC_SOUND_SEQUENCE_9:x.SPECIAL,HERETIC_SOUND_SEQUENCE_10:x.SPECIAL,SOUND_SEQUENCE_THING_0:x.SPECIAL,SOUND_SEQUENCE_THING_1:x.SPECIAL,SOUND_SEQUENCE_THING_2:x.SPECIAL,SOUND_SEQUENCE_THING_3:x.SPECIAL,SOUND_SEQUENCE_THING_4:x.SPECIAL,SOUND_SEQUENCE_THING_5:x.SPECIAL,SOUND_SEQUENCE_THING_6:x.SPECIAL,SOUND_SEQUENCE_THING_7:x.SPECIAL,SOUND_SEQUENCE_THING_8:x.SPECIAL,SOUND_SEQUENCE_THING_9:x.SPECIAL,SOUND_SEQUENCE_THING_ARG:x.SPECIAL,FLOOR_SLOPE:x.SPECIAL,CEILING_SLOPE:x.SPECIAL,VAVOOM_LIGHT_WHITE:x.SPECIAL,VAVOOM_LIGHT_COLOR:x.SPECIAL,FLOOR_VERTEX_HEIGHT:x.SPECIAL,CEILING_VERTEX_HEIGHT:x.SPECIAL,POINT_PUSHER:x.SPECIAL,POINT_PULLER:x.SPECIAL,FS_MAPSPOT:x.SPECIAL,MAP_SPOT:x.SPECIAL,MAP_SPOT_GRAVITY:x.SPECIAL,PATROL_POINT:x.SPECIAL,SECURITY_CAMERA:x.SPECIAL,COLOR_SETTER:x.SPECIAL,FADE_SETTER:x.SPECIAL,MAP_MARKER:x.SPECIAL,SECTOR_FLAG_SETTER:x.SPECIAL,WATER_ZONE:x.SPECIAL,SECRET_TRIGGER:x.SPECIAL,PATROL_SPECIAL:x.SPECIAL,SOUND_ENVIRONMENT:x.SPECIAL,INTERPOLATION_POINT:x.SPECIAL,PATH_FOLLOWER:x.SPECIAL,MOVING_CAMERA:x.SPECIAL,AIMING_CAMERA:x.SPECIAL,ACTOR_MOVER:x.SPECIAL,INTERPOLATION_SPECIAL:x.SPECIAL,HATE_TARGET:x.SPECIAL,UPPER_STACK_LOOK_ONLY:x.SPECIAL,LOWER_STACK_LOOK_ONLY:x.SPECIAL,SKY_VIEWPOINT:x.SPECIAL,SKY_PICKER:x.SPECIAL,SECTOR_SILENCER:x.SPECIAL,POLY_OBJECT_ANCHOR:x.SPECIAL,POLY_OBJECT_START_SPOT_HARMLESS:x.SPECIAL,POLY_OBJECT_START_SPOT_CRUSHING:x.SPECIAL,POLY_OBJECT_START_SPOT_HARMFUL:x.SPECIAL,FLOOR_LINE:x.SPECIAL,CEILING_LINE:x.SPECIAL,FLOOR_TILT:x.SPECIAL,CEILING_TILT:x.SPECIAL,COPY_FLOOR_SLOPE:x.SPECIAL,COPY_CEILING_SLOPE:x.SPECIAL,POINT_LIGHT:x.SPECIAL,POINT_LIGHT_PULSE:x.SPECIAL,POINT_LIGHT_FLICKER:x.SPECIAL,SECTOR_POINT_LIGHT:x.SPECIAL,POINT_LIGHT_FLICKER_RANDOM:x.SPECIAL,POINT_LIGHT_ADDITIVE:x.SPECIAL,POINT_LIGHT_PULSE_ADDITIVE:x.SPECIAL,POINT_LIGHT_FLICKER_ADDITIVE:x.SPECIAL,SECTOR_POINT_LIGHT_ADDITIVE:x.SPECIAL,POINT_LIGHT_FLICKER_RANDOM_ADDITIVE:x.SPECIAL,POINT_LIGHT_SUBTRACTIVE:x.SPECIAL,POINT_LIGHT_PULSE_SUBTRACTIVE:x.SPECIAL,POINT_LIGHT_FLICKER_SUBTRACTIVE:x.SPECIAL,SECTOR_POINT_LIGHT_SUBTRACTIVE:x.SPECIAL,POINT_LIGHT_FLICKER_RANDOM_SUBTRACTIVE:x.SPECIAL,VAVOOM_LIGHT:x.SPECIAL,SEC_ACT_EYES_ABOVE_C:x.SPECIAL,SEC_ACT_EYES_BELOW_C:x.SPECIAL,CUSTOM_SPRITE:x.SPECIAL,SEC_ACT_HIT_FAKE_FLOOR:x.SPECIAL,SEC_ACT_EYES_SURFACE:x.SPECIAL,SEC_ACT_EYES_DIVE:x.SPECIAL,SEC_ACT_USE_WALL:x.SPECIAL,SEC_ACT_USE:x.SPECIAL,SEC_ACT_HIT_CEIL:x.SPECIAL,SEC_ACT_EXIT:x.SPECIAL,SEC_ACT_ENTER:x.SPECIAL,SEC_ACT_HIT_FLOOR:x.SPECIAL,AMBIENT_SOUND:x.SPECIAL,SOUND_SEQUENCE:x.SPECIAL,AMBIENT_SOUND_NO_GRAVITY:x.SPECIAL,MUSIC_CHANGER:x.SPECIAL,DOOM_BUILDER_CAMERA:x.SPECIAL};var w;!function(e){e[e.PLAYER_START_1=1]="PLAYER_START_1",e[e.PLAYER_START_2=2]="PLAYER_START_2",e[e.PLAYER_START_3=3]="PLAYER_START_3",e[e.PLAYER_START_4=4]="PLAYER_START_4",e[e.WINGED_STATUE=5]="WINGED_STATUE",e[e.ROCK_1=6]="ROCK_1",e[e.ROCK_3=9]="ROCK_3",e[e.CWEAP_STAFF=10]="CWEAP_STAFF",e[e.DEATHMATCH_START=11]="DEATHMATCH_START",e[e.FWEAPON_PIECE_1=12]="FWEAPON_PIECE_1",e[e.FWEAPON_PIECE_2=13]="FWEAPON_PIECE_2",e[e.TELEPORT_DEST=14]="TELEPORT_DEST",e[e.ROCK_4=15]="ROCK_4",e[e.FWEAPON_PIECE_3=16]="FWEAPON_PIECE_3",e[e.CHANDELIER=17]="CHANDELIER",e[e.CWEAPON_PIECE_1=18]="CWEAPON_PIECE_1",e[e.CWEAPON_PIECE_2=19]="CWEAPON_PIECE_2",e[e.CWEAPON_PIECE_3=20]="CWEAPON_PIECE_3",e[e.MWEAPON_PIECE_1=21]="MWEAPON_PIECE_1",e[e.MWEAPON_PIECE_2=22]="MWEAPON_PIECE_2",e[e.MWEAPON_PIECE_3=23]="MWEAPON_PIECE_3",e[e.TREE_DEAD=24]="TREE_DEAD",e[e.TREE=25]="TREE",e[e.TREE_SWAMP_150=26]="TREE_SWAMP_150",e[e.TREE_SWAMP_120=27]="TREE_SWAMP_120",e[e.STUMP_BURNED=28]="STUMP_BURNED",e[e.STUMP_BARE=29]="STUMP_BARE",e[e.ARTI_PORK=30]="ARTI_PORK",e[e.DEMON_1=31]="DEMON_1",e[e.ARTI_SUPER_HEALTH=32]="ARTI_SUPER_HEALTH",e[e.ARTI_TORCH=33]="ARTI_TORCH",e[e.WRAITH=34]="WRAITH",e[e.ARTI_TELEPORT=36]="ARTI_TELEPORT",e[e.STUMP_SWAMP_1=37]="STUMP_SWAMP_1",e[e.STUMP_SWAMP_2=38]="STUMP_SWAMP_2",e[e.SHROOM_LARGE_1=39]="SHROOM_LARGE_1",e[e.SHROOM_LARGE_2=40]="SHROOM_LARGE_2",e[e.SHROOM_LARGE_3=41]="SHROOM_LARGE_3",e[e.SHROOM_SMALL_1=42]="SHROOM_SMALL_1",e[e.SHROOM_SMALL_2=44]="SHROOM_SMALL_2",e[e.SHROOM_SMALL_3=45]="SHROOM_SMALL_3",e[e.SHROOM_SMALL_4=46]="SHROOM_SMALL_4",e[e.SHROOM_SMALL_5=47]="SHROOM_SMALL_5",e[e.STALAGMITE_PILLAR=48]="STALAGMITE_PILLAR",e[e.STALAGMITE_LARGE=49]="STALAGMITE_LARGE",e[e.STALAGMITE_MEDIUM=50]="STALAGMITE_MEDIUM",e[e.STALAGMITE_SMALL=51]="STALAGMITE_SMALL",e[e.STALACTITE_LARGE=52]="STALACTITE_LARGE",e[e.MWEAP_FROST=53]="MWEAP_FROST",e[e.WALL_TORCH=54]="WALL_TORCH",e[e.WALL_TORCH_UNLIT=55]="WALL_TORCH_UNLIT",e[e.STALACTITE_MEDIUM=56]="STALACTITE_MEDIUM",e[e.STALACTITE_SMALL=57]="STALACTITE_SMALL",e[e.MOSS_CEILING_1=58]="MOSS_CEILING_1",e[e.MOSS_CEILING_2=59]="MOSS_CEILING_2",e[e.SWAMP_VINE=60]="SWAMP_VINE",e[e.CORPSE_KABOB=61]="CORPSE_KABOB",e[e.CORPSE_SLEEPING=62]="CORPSE_SLEEPING",e[e.TOMBSTONE_RIP=63]="TOMBSTONE_RIP",e[e.TOMBSTONE_SHANE=64]="TOMBSTONE_SHANE",e[e.TOMBSTONE_BIG_CROSS=65]="TOMBSTONE_BIG_CROSS",e[e.TOMBSTONE_BRIAN_R=66]="TOMBSTONE_BRIAN_R",e[e.TOMBSTONE_CROSS_CIRCLE=67]="TOMBSTONE_CROSS_CIRCLE",e[e.TOMBSTONE_SMALL_CROSS=68]="TOMBSTONE_SMALL_CROSS",e[e.TOMBSTONE_BRIAN_P=69]="TOMBSTONE_BRIAN_P",e[e.CORPSE_HANGING=71]="CORPSE_HANGING",e[e.STATUE_GARGOYLE_GREEN_TALL=72]="STATUE_GARGOYLE_GREEN_TALL",e[e.STATUE_GARGOYLE_BLUE_TALL=73]="STATUE_GARGOYLE_BLUE_TALL",e[e.STATUE_GARGOYLE_GREEN_SHORT=74]="STATUE_GARGOYLE_GREEN_SHORT",e[e.STATUE_GARGOYLE_BLUE_SHORT=76]="STATUE_GARGOYLE_BLUE_SHORT",e[e.BANNER_TATTERED=77]="BANNER_TATTERED",e[e.TREE_LARGE_1=78]="TREE_LARGE_1",e[e.TREE_LARGE_2=79]="TREE_LARGE_2",e[e.TREE_GNARLED_1=80]="TREE_GNARLED_1",e[e.CRYSTAL_VIAL=81]="CRYSTAL_VIAL",e[e.ARTI_HEALTH=82]="ARTI_HEALTH",e[e.ARTI_FLY=83]="ARTI_FLY",e[e.ARTI_INVULNERABILITY_2=84]="ARTI_INVULNERABILITY_2",e[e.ARTI_DARK_SERVANT=86]="ARTI_DARK_SERVANT",e[e.TREE_GNARLED_2=87]="TREE_GNARLED_2",e[e.LOG=88]="LOG",e[e.STALACTITE_ICE_LARGE=89]="STALACTITE_ICE_LARGE",e[e.STALACTITE_ICE_MEDIUM=90]="STALACTITE_ICE_MEDIUM",e[e.STALACTITE_ICE_SMALL=91]="STALACTITE_ICE_SMALL",e[e.STALACTITE_ICE_TINY=92]="STALACTITE_ICE_TINY",e[e.STALAGMITE_ICE_LARGE=93]="STALAGMITE_ICE_LARGE",e[e.STALAGMITE_ICE_MEDIUM=94]="STALAGMITE_ICE_MEDIUM",e[e.STALAGMITE_ICE_SMALL=95]="STALAGMITE_ICE_SMALL",e[e.STALAGMITE_ICE_TINY=96]="STALAGMITE_ICE_TINY",e[e.ROCK_BROWN_1=97]="ROCK_BROWN_1",e[e.ROCK_BROWN_2=98]="ROCK_BROWN_2",e[e.ROCK_BLACK=99]="ROCK_BLACK",e[e.RUBBLE_1=100]="RUBBLE_1",e[e.RUBBLE_2=101]="RUBBLE_2",e[e.RUBBLE_3=102]="RUBBLE_3",e[e.VASE_PILLAR=103]="VASE_PILLAR",e[e.POTTERY_1=104]="POTTERY_1",e[e.POTTERY_2=105]="POTTERY_2",e[e.POTTERY_3=106]="POTTERY_3",e[e.CENTAUR=107]="CENTAUR",e[e.CORPSE_LYNCHED=108]="CORPSE_LYNCHED",e[e.CORPSE_LYNCHED_NO_HEART=109]="CORPSE_LYNCHED_NO_HEART",e[e.CORPSE_SITTING=110]="CORPSE_SITTING",e[e.BLOOD_POOL=111]="BLOOD_POOL",e[e.LITTLE_FLY=112]="LITTLE_FLY",e[e.LEAF_SPAWNER=113]="LEAF_SPAWNER",e[e.BISHOP=114]="BISHOP",e[e.CENTAUR_LEADER=115]="CENTAUR_LEADER",e[e.TWINED_TORCH=116]="TWINED_TORCH",e[e.TWINED_TORCH_UNLIT=117]="TWINED_TORCH_UNLIT",e[e.BRIDGE=118]="BRIDGE",e[e.CANDLE=119]="CANDLE",e[e.SERPENT_LEADER=120]="SERPENT_LEADER",e[e.SERPENT=121]="SERPENT",e[e.MANA_1=122]="MANA_1",e[e.FWEAP_HAMMER=123]="FWEAP_HAMMER",e[e.MANA_2=124]="MANA_2",e[e.TELE_SMOKE=140]="TELE_SMOKE",e[e.DRAGON=254]="DRAGON",e[e.MBFHELPER_DOG=888]="MBFHELPER_DOG",e[e.SOUND_SEQUENCE_THING_0=1400]="SOUND_SEQUENCE_THING_0",e[e.SOUND_SEQUENCE_THING_1=1401]="SOUND_SEQUENCE_THING_1",e[e.SOUND_SEQUENCE_THING_2=1402]="SOUND_SEQUENCE_THING_2",e[e.SOUND_SEQUENCE_THING_3=1403]="SOUND_SEQUENCE_THING_3",e[e.SOUND_SEQUENCE_THING_4=1404]="SOUND_SEQUENCE_THING_4",e[e.SOUND_SEQUENCE_THING_5=1405]="SOUND_SEQUENCE_THING_5",e[e.SOUND_SEQUENCE_THING_6=1406]="SOUND_SEQUENCE_THING_6",e[e.SOUND_SEQUENCE_THING_7=1407]="SOUND_SEQUENCE_THING_7",e[e.SOUND_SEQUENCE_THING_8=1408]="SOUND_SEQUENCE_THING_8",e[e.SOUND_SEQUENCE_THING_9=1409]="SOUND_SEQUENCE_THING_9",e[e.SOUND_WIND_HEXEN=1410]="SOUND_WIND_HEXEN",e[e.SOUND_SEQUENCE_THING_ARG=1411]="SOUND_SEQUENCE_THING_ARG",e[e.FLOOR_SLOPE=1500]="FLOOR_SLOPE",e[e.CEILING_SLOPE=1501]="CEILING_SLOPE",e[e.VAVOOM_LIGHT_WHITE=1502]="VAVOOM_LIGHT_WHITE",e[e.VAVOOM_LIGHT_COLOR=1503]="VAVOOM_LIGHT_COLOR",e[e.FLOOR_VERTEX_HEIGHT=1504]="FLOOR_VERTEX_HEIGHT",e[e.CEILING_VERTEX_HEIGHT=1505]="CEILING_VERTEX_HEIGHT",e[e.POINT_PUSHER=5001]="POINT_PUSHER",e[e.POINT_PULLER=5002]="POINT_PULLER",e[e.FS_MAPSPOT=5004]="FS_MAPSPOT",e[e.INVISIBLE_BRIDGE_32=5061]="INVISIBLE_BRIDGE_32",e[e.INVISIBLE_BRIDGE_16=5064]="INVISIBLE_BRIDGE_16",e[e.INVISIBLE_BRIDGE_8=5065]="INVISIBLE_BRIDGE_8",e[e.ARTI_POISON_BAG=8e3]="ARTI_POISON_BAG",e[e.ARTI_SPEED_BOOTS=8002]="ARTI_SPEED_BOOTS",e[e.ARTI_BOOST_MANA=8003]="ARTI_BOOST_MANA",e[e.MANA_3=8004]="MANA_3",e[e.MESH_ARMOR=8005]="MESH_ARMOR",e[e.FALCON_SHIELD=8006]="FALCON_SHIELD",e[e.PLATINUM_HELM=8007]="PLATINUM_HELM",e[e.AMULET_OF_WARDING=8008]="AMULET_OF_WARDING",e[e.CWEAP_FLAME=8009]="CWEAP_FLAME",e[e.FWEAP_AXE=8010]="FWEAP_AXE",e[e.ICE_GUY=8020]="ICE_GUY",e[e.KEY_STEEL=8030]="KEY_STEEL",e[e.KEY_CAVE=8031]="KEY_CAVE",e[e.KEY_AXE=8032]="KEY_AXE",e[e.KEY_FIRE=8033]="KEY_FIRE",e[e.KEY_EMERALD=8034]="KEY_EMERALD",e[e.KEY_DUNGEON=8035]="KEY_DUNGEON",e[e.KEY_SILVER=8036]="KEY_SILVER",e[e.KEY_RUSTED=8037]="KEY_RUSTED",e[e.KEY_HORN=8038]="KEY_HORN",e[e.KEY_SWAMP=8039]="KEY_SWAMP",e[e.MWEAP_LIGHTNING=8040]="MWEAP_LIGHTNING",e[e.ARTI_BOOST_ARMOR=8041]="ARTI_BOOST_ARMOR",e[e.FIRE_BULL=8042]="FIRE_BULL",e[e.FIRE_BULL_UNLIT=8043]="FIRE_BULL_UNLIT",e[e.STATUE_GARGOYLE_STRIPE_TALL=8044]="STATUE_GARGOYLE_STRIPE_TALL",e[e.STATUE_GARGOYLE_DARK_RED_TALL=8045]="STATUE_GARGOYLE_DARK_RED_TALL",e[e.STATUE_GARGOYLE_RED_TALL=8046]="STATUE_GARGOYLE_RED_TALL",e[e.STATUE_GARGOYLE_TAN_TALL=8047]="STATUE_GARGOYLE_TAN_TALL",e[e.STATUE_GARGOYLE_RUST_TALL=8048]="STATUE_GARGOYLE_RUST_TALL",e[e.STATUE_GARGOYLE_DARK_RED_SHORT=8049]="STATUE_GARGOYLE_DARK_RED_SHORT",e[e.STATUE_GARGOYLE_RED_SHORT=8050]="STATUE_GARGOYLE_RED_SHORT",e[e.STATUE_GARGOYLE_TAN_SHORT=8051]="STATUE_GARGOYLE_TAN_SHORT",e[e.STATUE_GARGOYLE_RUST_SHORT=8052]="STATUE_GARGOYLE_RUST_SHORT",e[e.FIRE_THING=8060]="FIRE_THING",e[e.BRASS_TORCH=8061]="BRASS_TORCH",e[e.TREE_DESTRUCTIBLE=8062]="TREE_DESTRUCTIBLE",e[e.CHANDELIER_UNLIT=8063]="CHANDELIER_UNLIT",e[e.SUIT_OF_ARMOR=8064]="SUIT_OF_ARMOR",e[e.BELL=8065]="BELL",e[e.BLUE_CANDLE=8066]="BLUE_CANDLE",e[e.IRON_MAIDEN=8067]="IRON_MAIDEN",e[e.XMAS_TREE=8068]="XMAS_TREE",e[e.CAULDRON=8069]="CAULDRON",e[e.CAULDRON_UNLIT=8070]="CAULDRON_UNLIT",e[e.CHAIN_BIT_32=8071]="CHAIN_BIT_32",e[e.CHAIN_BIT_64=8072]="CHAIN_BIT_64",e[e.CHAIN_END_HEART=8073]="CHAIN_END_HEART",e[e.CHAIN_END_HOOK_1=8074]="CHAIN_END_HOOK_1",e[e.CHAIN_END_HOOK_2=8075]="CHAIN_END_HOOK_2",e[e.CHAIN_END_SPIKE=8076]="CHAIN_END_SPIKE",e[e.CHAIN_END_SKULL=8077]="CHAIN_END_SKULL",e[e.DEMON_2=8080]="DEMON_2",e[e.BARREL=8100]="BARREL",e[e.SHRUB_1=8101]="SHRUB_1",e[e.SHRUB_2=8102]="SHRUB_2",e[e.BUCKET=8103]="BUCKET",e[e.POISON_SHROOM=8104]="POISON_SHROOM",e[e.KEY_CASTLE=8200]="KEY_CASTLE",e[e.TABLE_SHIT_1=8500]="TABLE_SHIT_1",e[e.TABLE_SHIT_2=8501]="TABLE_SHIT_2",e[e.TABLE_SHIT_3=8502]="TABLE_SHIT_3",e[e.TABLE_SHIT_4=8503]="TABLE_SHIT_4",e[e.TABLE_SHIT_5=8504]="TABLE_SHIT_5",e[e.TABLE_SHIT_6=8505]="TABLE_SHIT_6",e[e.TABLE_SHIT_7=8506]="TABLE_SHIT_7",e[e.TABLE_SHIT_8=8507]="TABLE_SHIT_8",e[e.TABLE_SHIT_9=8508]="TABLE_SHIT_9",e[e.TABLE_SHIT_10=8509]="TABLE_SHIT_10",e[e.MAP_SPOT=9001]="MAP_SPOT",e[e.PUZZ_SKULL=9002]="PUZZ_SKULL",e[e.PUZZ_GEM_BIG=9003]="PUZZ_GEM_BIG",e[e.PUZZ_GEM_RED=9004]="PUZZ_GEM_RED",e[e.PUZZ_GEM_GREEN_1=9005]="PUZZ_GEM_GREEN_1",e[e.PUZZ_GEM_BLUE_1=9006]="PUZZ_GEM_BLUE_1",e[e.PUZZ_BOOK_1=9007]="PUZZ_BOOK_1",e[e.PUZZ_BOOK_2=9008]="PUZZ_BOOK_2",e[e.PUZZ_GEM_GREEN_2=9009]="PUZZ_GEM_GREEN_2",e[e.PUZZ_GEM_BLUE_2=9010]="PUZZ_GEM_BLUE_2",e[e.WINGED_STATUE_NO_SKULL=9011]="WINGED_STATUE_NO_SKULL",e[e.GEM_PEDESTAL=9012]="GEM_PEDESTAL",e[e.MAP_SPOT_GRAVITY=9013]="MAP_SPOT_GRAVITY",e[e.PUZZ_FLAME_MASK=9014]="PUZZ_FLAME_MASK",e[e.PUZZ_FWEAPON=9015]="PUZZ_FWEAPON",e[e.PUZZ_CWEAPON=9016]="PUZZ_CWEAPON",e[e.PUZZ_MWEAPON=9017]="PUZZ_MWEAPON",e[e.PUZZ_GEAR_1=9018]="PUZZ_GEAR_1",e[e.PUZZ_GEAR_2=9019]="PUZZ_GEAR_2",e[e.PUZZ_GEAR_3=9020]="PUZZ_GEAR_3",e[e.PUZZ_GEAR_4=9021]="PUZZ_GEAR_4",e[e.PATROL_POINT=9024]="PATROL_POINT",e[e.SECURITY_CAMERA=9025]="SECURITY_CAMERA",e[e.SPARK=9026]="SPARK",e[e.RED_PARTICLE_FOUNTAIN=9027]="RED_PARTICLE_FOUNTAIN",e[e.GREEN_PARTICLE_FOUNTAIN=9028]="GREEN_PARTICLE_FOUNTAIN",e[e.BLUE_PARTICLE_FOUNTAIN=9029]="BLUE_PARTICLE_FOUNTAIN",e[e.YELLOW_PARTICLE_FOUNTAIN=9030]="YELLOW_PARTICLE_FOUNTAIN",e[e.PURPLE_PARTICLE_FOUNTAIN=9031]="PURPLE_PARTICLE_FOUNTAIN",e[e.BLACK_PARTICLE_FOUNTAIN=9032]="BLACK_PARTICLE_FOUNTAIN",e[e.WHITE_PARTICLE_FOUNTAIN=9033]="WHITE_PARTICLE_FOUNTAIN",e[e.BETA_SKULL=9037]="BETA_SKULL",e[e.COLOR_SETTER=9038]="COLOR_SETTER",e[e.FADE_SETTER=9039]="FADE_SETTER",e[e.MAP_MARKER=9040]="MAP_MARKER",e[e.SECTOR_FLAG_SETTER=9041]="SECTOR_FLAG_SETTER",e[e.TELEPORT_DEST_3=9043]="TELEPORT_DEST_3",e[e.TELEPORT_DEST_2=9044]="TELEPORT_DEST_2",e[e.WATER_ZONE=9045]="WATER_ZONE",e[e.SECRET_TRIGGER=9046]="SECRET_TRIGGER",e[e.PATROL_SPECIAL=9047]="PATROL_SPECIAL",e[e.SOUND_ENVIRONMENT=9048]="SOUND_ENVIRONMENT",e[e.INTERPOLATION_POINT=9070]="INTERPOLATION_POINT",e[e.PATH_FOLLOWER=9071]="PATH_FOLLOWER",e[e.MOVING_CAMERA=9072]="MOVING_CAMERA",e[e.AIMING_CAMERA=9073]="AIMING_CAMERA",e[e.ACTOR_MOVER=9074]="ACTOR_MOVER",e[e.INTERPOLATION_SPECIAL=9075]="INTERPOLATION_SPECIAL",e[e.HATE_TARGET=9076]="HATE_TARGET",e[e.UPPER_STACK_LOOK_ONLY=9077]="UPPER_STACK_LOOK_ONLY",e[e.LOWER_STACK_LOOK_ONLY=9078]="LOWER_STACK_LOOK_ONLY",e[e.SKY_VIEWPOINT=9080]="SKY_VIEWPOINT",e[e.SKY_PICKER=9081]="SKY_PICKER",e[e.SECTOR_SILENCER=9082]="SECTOR_SILENCER",e[e.PLAYER_START_5=9100]="PLAYER_START_5",e[e.PLAYER_START_6=9101]="PLAYER_START_6",e[e.PLAYER_START_7=9102]="PLAYER_START_7",e[e.PLAYER_START_8=9103]="PLAYER_START_8",e[e.DECAL=9200]="DECAL",e[e.POLY_OBJECT_ANCHOR=9300]="POLY_OBJECT_ANCHOR",e[e.POLY_OBJECT_START_SPOT_HARMLESS=9301]="POLY_OBJECT_START_SPOT_HARMLESS",e[e.POLY_OBJECT_START_SPOT_CRUSHING=9302]="POLY_OBJECT_START_SPOT_CRUSHING",e[e.POLY_OBJECT_START_SPOT_HARMFUL=9303]="POLY_OBJECT_START_SPOT_HARMFUL",e[e.FLOOR_LINE=9500]="FLOOR_LINE",e[e.CEILING_LINE=9501]="CEILING_LINE",e[e.FLOOR_TILT=9502]="FLOOR_TILT",e[e.CEILING_TILT=9503]="CEILING_TILT",e[e.COPY_FLOOR_SLOPE=9510]="COPY_FLOOR_SLOPE",e[e.COPY_CEILING_SLOPE=9511]="COPY_CEILING_SLOPE",e[e.POINT_LIGHT=9800]="POINT_LIGHT",e[e.POINT_LIGHT_PULSE=9801]="POINT_LIGHT_PULSE",e[e.POINT_LIGHT_FLICKER=9802]="POINT_LIGHT_FLICKER",e[e.SECTOR_POINT_LIGHT=9803]="SECTOR_POINT_LIGHT",e[e.POINT_LIGHT_FLICKER_RANDOM=9804]="POINT_LIGHT_FLICKER_RANDOM",e[e.POINT_LIGHT_ADDITIVE=9810]="POINT_LIGHT_ADDITIVE",e[e.POINT_LIGHT_PULSE_ADDITIVE=9811]="POINT_LIGHT_PULSE_ADDITIVE",e[e.POINT_LIGHT_FLICKER_ADDITIVE=9812]="POINT_LIGHT_FLICKER_ADDITIVE",e[e.SECTOR_POINT_LIGHT_ADDITIVE=9813]="SECTOR_POINT_LIGHT_ADDITIVE",e[e.POINT_LIGHT_FLICKER_RANDOM_ADDITIVE=9814]="POINT_LIGHT_FLICKER_RANDOM_ADDITIVE",e[e.POINT_LIGHT_SUBTRACTIVE=9820]="POINT_LIGHT_SUBTRACTIVE",e[e.POINT_LIGHT_PULSE_SUBTRACTIVE=9821]="POINT_LIGHT_PULSE_SUBTRACTIVE",e[e.POINT_LIGHT_FLICKER_SUBTRACTIVE=9822]="POINT_LIGHT_FLICKER_SUBTRACTIVE",e[e.SECTOR_POINT_LIGHT_SUBTRACTIVE=9823]="SECTOR_POINT_LIGHT_SUBTRACTIVE",e[e.POINT_LIGHT_FLICKER_RANDOM_SUBTRACTIVE=9824]="POINT_LIGHT_FLICKER_RANDOM_SUBTRACTIVE",e[e.VAVOOM_LIGHT=9825]="VAVOOM_LIGHT",e[e.SEC_ACT_EYES_ABOVE_C=9982]="SEC_ACT_EYES_ABOVE_C",e[e.SEC_ACT_EYES_BELOW_C=9983]="SEC_ACT_EYES_BELOW_C",e[e.CUSTOM_SPRITE=9988]="CUSTOM_SPRITE",e[e.SEC_ACT_HIT_FAKE_FLOOR=9989]="SEC_ACT_HIT_FAKE_FLOOR",e[e.INVISIBLE_BRIDGE=9990]="INVISIBLE_BRIDGE",e[e.CUSTOM_BRIDGE=9991]="CUSTOM_BRIDGE",e[e.SEC_ACT_EYES_SURFACE=9992]="SEC_ACT_EYES_SURFACE",e[e.SEC_ACT_EYES_DIVE=9993]="SEC_ACT_EYES_DIVE",e[e.SEC_ACT_USE_WALL=9994]="SEC_ACT_USE_WALL",e[e.SEC_ACT_USE=9995]="SEC_ACT_USE",e[e.SEC_ACT_HIT_CEIL=9996]="SEC_ACT_HIT_CEIL",e[e.SEC_ACT_EXIT=9997]="SEC_ACT_EXIT",e[e.SEC_ACT_ENTER=9998]="SEC_ACT_ENTER",e[e.SEC_ACT_HIT_FLOOR=9999]="SEC_ACT_HIT_FLOOR",e[e.FOG_SPAWNER=1e4]="FOG_SPAWNER",e[e.FOG_PATCH_SMALL=10001]="FOG_PATCH_SMALL",e[e.FOG_PATCH_MEDIUM=10002]="FOG_PATCH_MEDIUM",e[e.FOG_PATCH_LARGE=10003]="FOG_PATCH_LARGE",e[e.WRAITH_BURIED=10011]="WRAITH_BURIED",e[e.ETTIN=10030]="ETTIN",e[e.ARTI_TELEPORT_OTHER=10040]="ARTI_TELEPORT_OTHER",e[e.FIRE_DEMON=10060]="FIRE_DEMON",e[e.HERESIARCH=10080]="HERESIARCH",e[e.THRUST_FLOOR_DOWN=10090]="THRUST_FLOOR_DOWN",e[e.THRUST_FLOOR_UP=10091]="THRUST_FLOOR_UP",e[e.FIGHTER_BOSS=10100]="FIGHTER_BOSS",e[e.CLERIC_BOSS=10101]="CLERIC_BOSS",e[e.MAGE_BOSS=10102]="MAGE_BOSS",e[e.ARTI_BLAST_RADIUS=10110]="ARTI_BLAST_RADIUS",e[e.ARTI_HEALING_RADIUS=10120]="ARTI_HEALING_RADIUS",e[e.KORAX=10200]="KORAX",e[e.BAT_SPAWNER=10225]="BAT_SPAWNER",e[e.FLAME_SMALL_TEMP=10500]="FLAME_SMALL_TEMP",e[e.FLAME_SMALL=10501]="FLAME_SMALL",e[e.FLAME_LARGE_TEMP=10502]="FLAME_LARGE_TEMP",e[e.FLAME_LARGE=10503]="FLAME_LARGE",e[e.AMBIENT_SOUND=14001]="AMBIENT_SOUND",e[e.SOUND_SEQUENCE=14066]="SOUND_SEQUENCE",e[e.AMBIENT_SOUND_NO_GRAVITY=14067]="AMBIENT_SOUND_NO_GRAVITY",e[e.MUSIC_CHANGER=14101]="MUSIC_CHANGER",e[e.DOOM_BUILDER_CAMERA=32e3]="DOOM_BUILDER_CAMERA"}(w||(w={}));const M=Object.keys(w).filter((e=>Number.isNaN(Number(e)))),D={PLAYER_START_1:x.OTHER,PLAYER_START_2:x.OTHER,PLAYER_START_3:x.OTHER,PLAYER_START_4:x.OTHER,PLAYER_START_5:x.OTHER,PLAYER_START_6:x.OTHER,PLAYER_START_7:x.OTHER,PLAYER_START_8:x.OTHER,DEATHMATCH_START:x.OTHER,TELEPORT_DEST:x.OTHER,TELEPORT_DEST_2:x.OTHER,TELEPORT_DEST_3:x.OTHER,WINGED_STATUE:x.MONSTER,DEMON_1:x.MONSTER,DEMON_2:x.MONSTER,WRAITH:x.MONSTER,WRAITH_BURIED:x.MONSTER,CENTAUR:x.MONSTER,CENTAUR_LEADER:x.MONSTER,BISHOP:x.MONSTER,SERPENT:x.MONSTER,SERPENT_LEADER:x.MONSTER,DRAGON:x.MONSTER,ICE_GUY:x.MONSTER,FIRE_DEMON:x.MONSTER,HERESIARCH:x.MONSTER,ETTIN:x.MONSTER,FIGHTER_BOSS:x.MONSTER,CLERIC_BOSS:x.MONSTER,MAGE_BOSS:x.MONSTER,KORAX:x.MONSTER,LITTLE_FLY:x.MONSTER,BAT_SPAWNER:x.MONSTER,MBFHELPER_DOG:x.MONSTER,ARTI_PORK:x.ARTIFACT,ARTI_SUPER_HEALTH:x.ARTIFACT,ARTI_TORCH:x.ARTIFACT,ARTI_TELEPORT:x.ARTIFACT,ARTI_TELEPORT_OTHER:x.ARTIFACT,ARTI_HEALTH:x.ARTIFACT,ARTI_FLY:x.ARTIFACT,ARTI_INVULNERABILITY_2:x.ARTIFACT,ARTI_DARK_SERVANT:x.ARTIFACT,ARTI_POISON_BAG:x.ARTIFACT,ARTI_SPEED_BOOTS:x.ARTIFACT,ARTI_BOOST_MANA:x.ARTIFACT,ARTI_BOOST_ARMOR:x.ARTIFACT,ARTI_BLAST_RADIUS:x.ARTIFACT,ARTI_HEALING_RADIUS:x.ARTIFACT,KEY_STEEL:x.KEY,KEY_CAVE:x.KEY,KEY_AXE:x.KEY,KEY_FIRE:x.KEY,KEY_EMERALD:x.KEY,KEY_DUNGEON:x.KEY,KEY_SILVER:x.KEY,KEY_RUSTED:x.KEY,KEY_HORN:x.KEY,KEY_SWAMP:x.KEY,KEY_CASTLE:x.KEY,PUZZ_FLAME_MASK:x.KEY,PUZZ_FWEAPON:x.KEY,PUZZ_CWEAPON:x.KEY,PUZZ_MWEAPON:x.KEY,PUZZ_GEAR_1:x.KEY,PUZZ_GEAR_2:x.KEY,PUZZ_GEAR_3:x.KEY,PUZZ_GEAR_4:x.KEY,PUZZ_SKULL:x.KEY,PUZZ_GEM_BIG:x.KEY,PUZZ_GEM_RED:x.KEY,PUZZ_GEM_GREEN_1:x.KEY,PUZZ_GEM_BLUE_1:x.KEY,PUZZ_BOOK_1:x.KEY,PUZZ_BOOK_2:x.KEY,PUZZ_GEM_GREEN_2:x.KEY,PUZZ_GEM_BLUE_2:x.KEY,CWEAP_STAFF:x.WEAPON,FWEAPON_PIECE_1:x.WEAPON,FWEAPON_PIECE_2:x.WEAPON,FWEAPON_PIECE_3:x.WEAPON,CWEAPON_PIECE_1:x.WEAPON,CWEAPON_PIECE_2:x.WEAPON,CWEAPON_PIECE_3:x.WEAPON,MWEAPON_PIECE_1:x.WEAPON,MWEAPON_PIECE_2:x.WEAPON,MWEAPON_PIECE_3:x.WEAPON,MWEAP_FROST:x.WEAPON,FWEAP_HAMMER:x.WEAPON,CWEAP_FLAME:x.WEAPON,FWEAP_AXE:x.WEAPON,MWEAP_LIGHTNING:x.WEAPON,MANA_1:x.POWERUP,MANA_2:x.POWERUP,MANA_3:x.POWERUP,MESH_ARMOR:x.POWERUP,FALCON_SHIELD:x.POWERUP,PLATINUM_HELM:x.POWERUP,AMULET_OF_WARDING:x.POWERUP,CRYSTAL_VIAL:x.POWERUP,ROCK_1:x.DECORATION,ROCK_3:x.DECORATION,ROCK_4:x.DECORATION,CHANDELIER:x.DECORATION,CHANDELIER_UNLIT:x.DECORATION,STUMP_SWAMP_1:x.DECORATION,STUMP_SWAMP_2:x.DECORATION,SHROOM_LARGE_1:x.DECORATION,SHROOM_LARGE_2:x.DECORATION,SHROOM_LARGE_3:x.DECORATION,SHROOM_SMALL_1:x.DECORATION,SHROOM_SMALL_2:x.DECORATION,SHROOM_SMALL_3:x.DECORATION,SHROOM_SMALL_4:x.DECORATION,SHROOM_SMALL_5:x.DECORATION,WALL_TORCH:x.DECORATION,WALL_TORCH_UNLIT:x.DECORATION,MOSS_CEILING_1:x.DECORATION,MOSS_CEILING_2:x.DECORATION,SWAMP_VINE:x.DECORATION,CORPSE_SLEEPING:x.DECORATION,RUBBLE_1:x.DECORATION,RUBBLE_2:x.DECORATION,RUBBLE_3:x.DECORATION,BLOOD_POOL:x.DECORATION,CANDLE:x.DECORATION,FIRE_BULL:x.DECORATION,FIRE_BULL_UNLIT:x.DECORATION,BRASS_TORCH:x.DECORATION,SUIT_OF_ARMOR:x.DECORATION,BLUE_CANDLE:x.DECORATION,CHAIN_BIT_32:x.DECORATION,CHAIN_BIT_64:x.DECORATION,CHAIN_END_HEART:x.DECORATION,CHAIN_END_HOOK_1:x.DECORATION,CHAIN_END_HOOK_2:x.DECORATION,CHAIN_END_SPIKE:x.DECORATION,CHAIN_END_SKULL:x.DECORATION,SHRUB_1:x.DECORATION,SHRUB_2:x.DECORATION,POISON_SHROOM:x.DECORATION,TABLE_SHIT_1:x.DECORATION,TABLE_SHIT_2:x.DECORATION,TABLE_SHIT_3:x.DECORATION,TABLE_SHIT_4:x.DECORATION,TABLE_SHIT_5:x.DECORATION,TABLE_SHIT_6:x.DECORATION,TABLE_SHIT_7:x.DECORATION,TABLE_SHIT_8:x.DECORATION,TABLE_SHIT_9:x.DECORATION,TABLE_SHIT_10:x.DECORATION,BETA_SKULL:x.DECORATION,DECAL:x.DECORATION,TWINED_TORCH:x.OBSTACLE,TWINED_TORCH_UNLIT:x.OBSTACLE,LOG:x.OBSTACLE,STUMP_BURNED:x.OBSTACLE,STUMP_BARE:x.OBSTACLE,TOMBSTONE_RIP:x.OBSTACLE,TOMBSTONE_SHANE:x.OBSTACLE,TOMBSTONE_BIG_CROSS:x.OBSTACLE,TOMBSTONE_BRIAN_R:x.OBSTACLE,TOMBSTONE_CROSS_CIRCLE:x.OBSTACLE,TOMBSTONE_SMALL_CROSS:x.OBSTACLE,TOMBSTONE_BRIAN_P:x.OBSTACLE,POTTERY_1:x.OBSTACLE,POTTERY_2:x.OBSTACLE,POTTERY_3:x.OBSTACLE,VASE_PILLAR:x.OBSTACLE,IRON_MAIDEN:x.OBSTACLE,STALAGMITE_PILLAR:x.OBSTACLE,STALAGMITE_LARGE:x.OBSTACLE,STALAGMITE_MEDIUM:x.OBSTACLE,STALAGMITE_SMALL:x.OBSTACLE,STALACTITE_LARGE:x.OBSTACLE,STALACTITE_MEDIUM:x.OBSTACLE,STALACTITE_SMALL:x.OBSTACLE,STATUE_GARGOYLE_GREEN_TALL:x.OBSTACLE,STATUE_GARGOYLE_BLUE_TALL:x.OBSTACLE,STATUE_GARGOYLE_GREEN_SHORT:x.OBSTACLE,STATUE_GARGOYLE_BLUE_SHORT:x.OBSTACLE,CORPSE_KABOB:x.OBSTACLE,CORPSE_HANGING:x.OBSTACLE,CORPSE_LYNCHED:x.OBSTACLE,CORPSE_LYNCHED_NO_HEART:x.OBSTACLE,CORPSE_SITTING:x.OBSTACLE,BUCKET:x.OBSTACLE,BRIDGE:x.OBSTACLE,INVISIBLE_BRIDGE:x.OBSTACLE,INVISIBLE_BRIDGE_32:x.OBSTACLE,INVISIBLE_BRIDGE_16:x.OBSTACLE,INVISIBLE_BRIDGE_8:x.OBSTACLE,CUSTOM_BRIDGE:x.OBSTACLE,BARREL:x.OBSTACLE,STALACTITE_ICE_LARGE:x.OBSTACLE,STALACTITE_ICE_MEDIUM:x.OBSTACLE,STALACTITE_ICE_SMALL:x.OBSTACLE,STALACTITE_ICE_TINY:x.OBSTACLE,STALAGMITE_ICE_LARGE:x.OBSTACLE,STALAGMITE_ICE_MEDIUM:x.OBSTACLE,STALAGMITE_ICE_SMALL:x.OBSTACLE,STALAGMITE_ICE_TINY:x.OBSTACLE,BANNER_TATTERED:x.OBSTACLE,BELL:x.OBSTACLE,ROCK_BROWN_1:x.OBSTACLE,ROCK_BROWN_2:x.OBSTACLE,ROCK_BLACK:x.OBSTACLE,STATUE_GARGOYLE_STRIPE_TALL:x.OBSTACLE,STATUE_GARGOYLE_DARK_RED_TALL:x.OBSTACLE,STATUE_GARGOYLE_RED_TALL:x.OBSTACLE,STATUE_GARGOYLE_TAN_TALL:x.OBSTACLE,STATUE_GARGOYLE_RUST_TALL:x.OBSTACLE,STATUE_GARGOYLE_DARK_RED_SHORT:x.OBSTACLE,STATUE_GARGOYLE_RED_SHORT:x.OBSTACLE,STATUE_GARGOYLE_TAN_SHORT:x.OBSTACLE,STATUE_GARGOYLE_RUST_SHORT:x.OBSTACLE,CAULDRON:x.OBSTACLE,CAULDRON_UNLIT:x.OBSTACLE,TREE_DEAD:x.OBSTACLE,TREE:x.OBSTACLE,TREE_SWAMP_150:x.OBSTACLE,TREE_SWAMP_120:x.OBSTACLE,TREE_LARGE_1:x.OBSTACLE,TREE_LARGE_2:x.OBSTACLE,TREE_GNARLED_1:x.OBSTACLE,TREE_GNARLED_2:x.OBSTACLE,TREE_DESTRUCTIBLE:x.OBSTACLE,XMAS_TREE:x.OBSTACLE,TELE_SMOKE:x.SPECIAL,LEAF_SPAWNER:x.SPECIAL,MAP_SPOT:x.SPECIAL,MAP_SPOT_GRAVITY:x.SPECIAL,WINGED_STATUE_NO_SKULL:x.SPECIAL,GEM_PEDESTAL:x.SPECIAL,PATROL_POINT:x.SPECIAL,SECURITY_CAMERA:x.SPECIAL,SPARK:x.SPECIAL,RED_PARTICLE_FOUNTAIN:x.SPECIAL,GREEN_PARTICLE_FOUNTAIN:x.SPECIAL,BLUE_PARTICLE_FOUNTAIN:x.SPECIAL,YELLOW_PARTICLE_FOUNTAIN:x.SPECIAL,PURPLE_PARTICLE_FOUNTAIN:x.SPECIAL,BLACK_PARTICLE_FOUNTAIN:x.SPECIAL,WHITE_PARTICLE_FOUNTAIN:x.SPECIAL,COLOR_SETTER:x.SPECIAL,FADE_SETTER:x.SPECIAL,MAP_MARKER:x.SPECIAL,SECTOR_FLAG_SETTER:x.SPECIAL,WATER_ZONE:x.SPECIAL,SECRET_TRIGGER:x.SPECIAL,PATROL_SPECIAL:x.SPECIAL,SOUND_ENVIRONMENT:x.SPECIAL,INTERPOLATION_POINT:x.SPECIAL,PATH_FOLLOWER:x.SPECIAL,MOVING_CAMERA:x.SPECIAL,AIMING_CAMERA:x.SPECIAL,ACTOR_MOVER:x.SPECIAL,INTERPOLATION_SPECIAL:x.SPECIAL,HATE_TARGET:x.SPECIAL,UPPER_STACK_LOOK_ONLY:x.SPECIAL,LOWER_STACK_LOOK_ONLY:x.SPECIAL,SKY_VIEWPOINT:x.SPECIAL,SKY_PICKER:x.SPECIAL,SECTOR_SILENCER:x.SPECIAL,POLY_OBJECT_ANCHOR:x.SPECIAL,POLY_OBJECT_START_SPOT_HARMLESS:x.SPECIAL,POLY_OBJECT_START_SPOT_CRUSHING:x.SPECIAL,POLY_OBJECT_START_SPOT_HARMFUL:x.SPECIAL,FLOOR_LINE:x.SPECIAL,CEILING_LINE:x.SPECIAL,FLOOR_TILT:x.SPECIAL,CEILING_TILT:x.SPECIAL,COPY_FLOOR_SLOPE:x.SPECIAL,COPY_CEILING_SLOPE:x.SPECIAL,POINT_LIGHT:x.SPECIAL,POINT_LIGHT_PULSE:x.SPECIAL,POINT_LIGHT_FLICKER:x.SPECIAL,SECTOR_POINT_LIGHT:x.SPECIAL,POINT_LIGHT_FLICKER_RANDOM:x.SPECIAL,POINT_LIGHT_ADDITIVE:x.SPECIAL,POINT_LIGHT_PULSE_ADDITIVE:x.SPECIAL,POINT_LIGHT_FLICKER_ADDITIVE:x.SPECIAL,SECTOR_POINT_LIGHT_ADDITIVE:x.SPECIAL,POINT_LIGHT_FLICKER_RANDOM_ADDITIVE:x.SPECIAL,POINT_LIGHT_SUBTRACTIVE:x.SPECIAL,POINT_LIGHT_PULSE_SUBTRACTIVE:x.SPECIAL,POINT_LIGHT_FLICKER_SUBTRACTIVE:x.SPECIAL,SECTOR_POINT_LIGHT_SUBTRACTIVE:x.SPECIAL,POINT_LIGHT_FLICKER_RANDOM_SUBTRACTIVE:x.SPECIAL,VAVOOM_LIGHT:x.SPECIAL,VAVOOM_LIGHT_WHITE:x.SPECIAL,VAVOOM_LIGHT_COLOR:x.SPECIAL,SEC_ACT_EYES_ABOVE_C:x.SPECIAL,SEC_ACT_EYES_BELOW_C:x.SPECIAL,SEC_ACT_HIT_FAKE_FLOOR:x.SPECIAL,SEC_ACT_EYES_SURFACE:x.SPECIAL,SEC_ACT_EYES_DIVE:x.SPECIAL,SEC_ACT_USE_WALL:x.SPECIAL,SEC_ACT_USE:x.SPECIAL,SEC_ACT_HIT_CEIL:x.SPECIAL,SEC_ACT_EXIT:x.SPECIAL,SEC_ACT_ENTER:x.SPECIAL,SEC_ACT_HIT_FLOOR:x.SPECIAL,FOG_SPAWNER:x.SPECIAL,FOG_PATCH_SMALL:x.SPECIAL,FOG_PATCH_MEDIUM:x.SPECIAL,FOG_PATCH_LARGE:x.SPECIAL,THRUST_FLOOR_DOWN:x.SPECIAL,THRUST_FLOOR_UP:x.SPECIAL,FLAME_SMALL_TEMP:x.SPECIAL,FLAME_SMALL:x.SPECIAL,FLAME_LARGE_TEMP:x.SPECIAL,FLAME_LARGE:x.SPECIAL,AMBIENT_SOUND:x.SPECIAL,SOUND_SEQUENCE:x.SPECIAL,AMBIENT_SOUND_NO_GRAVITY:x.SPECIAL,MUSIC_CHANGER:x.SPECIAL,DOOM_BUILDER_CAMERA:x.SPECIAL,FIRE_THING:x.SPECIAL,CUSTOM_SPRITE:x.SPECIAL,FLOOR_SLOPE:x.SPECIAL,CEILING_SLOPE:x.SPECIAL,FLOOR_VERTEX_HEIGHT:x.SPECIAL,CEILING_VERTEX_HEIGHT:x.SPECIAL,POINT_PUSHER:x.SPECIAL,POINT_PULLER:x.SPECIAL,FS_MAPSPOT:x.SPECIAL,SOUND_SEQUENCE_THING_0:x.SPECIAL,SOUND_SEQUENCE_THING_1:x.SPECIAL,SOUND_SEQUENCE_THING_2:x.SPECIAL,SOUND_SEQUENCE_THING_3:x.SPECIAL,SOUND_SEQUENCE_THING_4:x.SPECIAL,SOUND_SEQUENCE_THING_5:x.SPECIAL,SOUND_SEQUENCE_THING_6:x.SPECIAL,SOUND_SEQUENCE_THING_7:x.SPECIAL,SOUND_SEQUENCE_THING_8:x.SPECIAL,SOUND_SEQUENCE_THING_9:x.SPECIAL,SOUND_WIND_HEXEN:x.SPECIAL,SOUND_SEQUENCE_THING_ARG:x.SPECIAL};var U;!function(e){e[e.PLAYER_START_1=1]="PLAYER_START_1",e[e.PLAYER_START_2=2]="PLAYER_START_2",e[e.PLAYER_START_3=3]="PLAYER_START_3",e[e.PLAYER_START_4=4]="PLAYER_START_4",e[e.PLAYER_START_5=5]="PLAYER_START_5",e[e.PLAYER_START_6=6]="PLAYER_START_6",e[e.PLAYER_START_7=7]="PLAYER_START_7",e[e.PLAYER_START_8=8]="PLAYER_START_8",e[e.REBEL_1=9]="REBEL_1",e[e.TELEPORTER_BEACON=10]="TELEPORTER_BEACON",e[e.DEATHMATCH_START=11]="DEATHMATCH_START",e[e.LOREMASTER=12]="LOREMASTER",e[e.IDCARD=13]="IDCARD",e[e.TELEPORT_DEST=14]="TELEPORT_DEST",e[e.DEAD_STRIFE_PLAYER=15]="DEAD_STRIFE_PLAYER",e[e.INQUISITOR=16]="INQUISITOR",e[e.ENERGY_PACK=17]="ENERGY_PACK",e[e.DEAD_PEASANT=18]="DEAD_PEASANT",e[e.DEAD_REBEL=19]="DEAD_REBEL",e[e.DEAD_REAVER=20]="DEAD_REAVER",e[e.DEAD_ACOLYTE=21]="DEAD_ACOLYTE",e[e.DEAD_CRUSADER=22]="DEAD_CRUSADER",e[e.TELEPORT_SWIRL=23]="TELEPORT_SWIRL",e[e.KLAXON_WARNING_LIGHT=24]="KLAXON_WARNING_LIGHT",e[e.FORCE_FIELD_GUARD=25]="FORCE_FIELD_GUARD",e[e.ENTITY_NEST=26]="ENTITY_NEST",e[e.CEILING_TURRET=27]="CEILING_TURRET",e[e.CAGE_LIGHT=28]="CAGE_LIGHT",e[e.RUBBLE_1=29]="RUBBLE_1",e[e.RUBBLE_2=30]="RUBBLE_2",e[e.RUBBLE_3=31]="RUBBLE_3",e[e.RUBBLE_4=32]="RUBBLE_4",e[e.TREE_STUB=33]="TREE_STUB",e[e.CANDLE=34]="CANDLE",e[e.STRIFE_CANDELABRA=35]="STRIFE_CANDELABRA",e[e.RUBBLE_5=36]="RUBBLE_5",e[e.RUBBLE_6=37]="RUBBLE_6",e[e.SILVER_KEY=38]="SILVER_KEY",e[e.BRASS_KEY=39]="BRASS_KEY",e[e.GOLD_KEY=40]="GOLD_KEY",e[e.RUBBLE_7=41]="RUBBLE_7",e[e.RUBBLE_8=42]="RUBBLE_8",e[e.OUTSIDE_LAMP=43]="OUTSIDE_LAMP",e[e.STATUE_RUINED=44]="STATUE_RUINED",e[e.PISTON=45]="PISTON",e[e.POLE_LANTERN=46]="POLE_LANTERN",e[e.LARGE_TORCH=47]="LARGE_TORCH",e[e.PILLAR_TECHNO=48]="PILLAR_TECHNO",e[e.HUGE_TORCH=50]="HUGE_TORCH",e[e.PALM_TREE=51]="PALM_TREE",e[e.OFFICERS_UNIFORM=52]="OFFICERS_UNIFORM",e[e.WATER_DRIP=53]="WATER_DRIP",e[e.PILLAR_AZTEC=54]="PILLAR_AZTEC",e[e.PILLAR_AZTEC_DAMAGED=55]="PILLAR_AZTEC_DAMAGED",e[e.PILLAR_AZTEC_RUINED=56]="PILLAR_AZTEC_RUINED",e[e.PILLAR_HUGE_TECH=57]="PILLAR_HUGE_TECH",e[e.ACOLYTE_SHADOW=58]="ACOLYTE_SHADOW",e[e.DEGNIN_ORE=59]="DEGNIN_ORE",e[e.SHORT_BUSH=60]="SHORT_BUSH",e[e.ORACLE_KEY=61]="ORACLE_KEY",e[e.TALL_BUSH=62]="TALL_BUSH",e[e.CHIMNEY_STACK=63]="CHIMNEY_STACK",e[e.MACIL_1=64]="MACIL_1",e[e.PEASANT_4=65]="PEASANT_4",e[e.PEASANT_7=66]="PEASANT_7",e[e.PEASANT_10=67]="PEASANT_10",e[e.TRAY=68]="TRAY",e[e.BARRICADE_COLUMN=69]="BARRICADE_COLUMN",e[e.STRIFE_BURNING_BARREL=70]="STRIFE_BURNING_BARREL",e[e.PROGRAMMER=71]="PROGRAMMER",e[e.BAR_KEEP=72]="BAR_KEEP",e[e.ARMORER=73]="ARMORER",e[e.MEDIC=74]="MEDIC",e[e.ALIEN_SPECTRE_2=75]="ALIEN_SPECTRE_2",e[e.ALIEN_SPECTRE_3=76]="ALIEN_SPECTRE_3",e[e.SIGIL_1=77]="SIGIL_1",e[e.SIGIL_2=78]="SIGIL_2",e[e.SIGIL_3=79]="SIGIL_3",e[e.SIGIL_4=80]="SIGIL_4",e[e.SIGIL_5=81]="SIGIL_5",e[e.WOODEN_BARREL=82]="WOODEN_BARREL",e[e.SURGERY_KIT=83]="SURGERY_KIT",e[e.RAT_BUDDY=85]="RAT_BUDDY",e[e.ORDER_KEY=86]="ORDER_KEY",e[e.GUARD_UNIFORM=90]="GUARD_UNIFORM",e[e.SEVERED_HAND=91]="SEVERED_HAND",e[e.POWER_CRYSTAL=92]="POWER_CRYSTAL",e[e.COIN=93]="COIN",e[e.EXPLOSIVE_BARREL_2=94]="EXPLOSIVE_BARREL_2",e[e.LIGHT_SILVER_FLUORESCENT=95]="LIGHT_SILVER_FLUORESCENT",e[e.LIGHT_BROWN_FLUORESCENT=96]="LIGHT_BROWN_FLUORESCENT",e[e.LIGHT_GOLD_FLUORESCENT=97]="LIGHT_GOLD_FLUORESCENT",e[e.SSTALACTITE_BIG=98]="SSTALACTITE_BIG",e[e.SROCK_1=99]="SROCK_1",e[e.SROCK_2=100]="SROCK_2",e[e.SROCK_3=101]="SROCK_3",e[e.SROCK_4=102]="SROCK_4",e[e.WATER_DROP_ON_FLOOR=103]="WATER_DROP_ON_FLOOR",e[e.WATERFALL_SPLASH=104]="WATERFALL_SPLASH",e[e.BURNING_BOWL=105]="BURNING_BOWL",e[e.BURNING_BRAZIER=106]="BURNING_BRAZIER",e[e.SMALL_TORCH_LIT=107]="SMALL_TORCH_LIT",e[e.SMALL_TORCH_UNLIT=108]="SMALL_TORCH_UNLIT",e[e.CEILING_CHAIN=109]="CEILING_CHAIN",e[e.STATUE=110]="STATUE",e[e.MEDIUM_TORCH=111]="MEDIUM_TORCH",e[e.WATER_FOUNTAIN=112]="WATER_FOUNTAIN",e[e.HEARTS_IN_TANK=113]="HEARTS_IN_TANK",e[e.ELECTRIC_BOLTS=114]="ELECTRIC_BOLTS",e[e.POISON_BOLTS=115]="POISON_BOLTS",e[e.WEAPON_SMITH=116]="WEAPON_SMITH",e[e.SURGERY_CRAB=117]="SURGERY_CRAB",e[e.ENTITY_BOSS=128]="ENTITY_BOSS",e[e.ALIEN_SPECTRE_1=129]="ALIEN_SPECTRE_1",e[e.PEASANT_2=130]="PEASANT_2",e[e.PEASANT_3=131]="PEASANT_3",e[e.PEASANT_5=132]="PEASANT_5",e[e.PEASANT_6=133]="PEASANT_6",e[e.PEASANT_8=134]="PEASANT_8",e[e.PEASANT_9=135]="PEASANT_9",e[e.PEASANT_11=136]="PEASANT_11",e[e.PEASANT_12=137]="PEASANT_12",e[e.GOLD_10=138]="GOLD_10",e[e.GOLD_25=139]="GOLD_25",e[e.GOLD_50=140]="GOLD_50",e[e.BEGGAR_1=141]="BEGGAR_1",e[e.ACOLYTE_RED=142]="ACOLYTE_RED",e[e.ACOLYTE_RUST=143]="ACOLYTE_RUST",e[e.REBEL_2=144]="REBEL_2",e[e.REBEL_3=145]="REBEL_3",e[e.ACOLYTE_GRAY=146]="ACOLYTE_GRAY",e[e.ACOLYTE_DGREEN=147]="ACOLYTE_DGREEN",e[e.ACOLYTE_GOLD=148]="ACOLYTE_GOLD",e[e.REBEL_4=149]="REBEL_4",e[e.REBEL_5=150]="REBEL_5",e[e.REBEL_6=151]="REBEL_6",e[e.HEGRENADE_ROUNDS=152]="HEGRENADE_ROUNDS",e[e.PHOSPHORUS_GRENADE_ROUNDS=153]="PHOSPHORUS_GRENADE_ROUNDS",e[e.STRIFE_GRENADE_LAUNCHER=154]="STRIFE_GRENADE_LAUNCHER",e[e.BEGGAR_2=155]="BEGGAR_2",e[e.BEGGAR_3=156]="BEGGAR_3",e[e.BEGGAR_4=157]="BEGGAR_4",e[e.BEGGAR_5=158]="BEGGAR_5",e[e.CAVE_PILLAR_TOP=159]="CAVE_PILLAR_TOP",e[e.SSTALAGMITE_BIG=160]="SSTALAGMITE_BIG",e[e.SSTALACTITE_SMALL=161]="SSTALACTITE_SMALL",e[e.CAVE_PILLAR_BOTTOM=162]="CAVE_PILLAR_BOTTOM",e[e.SSTALAGMITE_SMALL=163]="SSTALAGMITE_SMALL",e[e.MUG=164]="MUG",e[e.POT=165]="POT",e[e.WAREHOUSE_KEY=166]="WAREHOUSE_KEY",e[e.ALIEN_SPECTRE_4=167]="ALIEN_SPECTRE_4",e[e.ALIEN_SPECTRE_5=168]="ALIEN_SPECTRE_5",e[e.ZOMBIE=169]="ZOMBIE",e[e.ZOMBIE_SPAWNER=170]="ZOMBIE_SPAWNER",e[e.PEASANT_13=172]="PEASANT_13",e[e.PEASANT_14=173]="PEASANT_14",e[e.PEASANT_15=174]="PEASANT_15",e[e.PEASANT_16=175]="PEASANT_16",e[e.PEASANT_17=176]="PEASANT_17",e[e.PEASANT_18=177]="PEASANT_18",e[e.PEASANT_19=178]="PEASANT_19",e[e.PEASANT_20=179]="PEASANT_20",e[e.PEASANT_21=180]="PEASANT_21",e[e.PEASANT_22=181]="PEASANT_22",e[e.COMPUTER=182]="COMPUTER",e[e.AMMO_SATCHEL=183]="AMMO_SATCHEL",e[e.IDBADGE=184]="IDBADGE",e[e.PASSCARD=185]="PASSCARD",e[e.STALKER=186]="STALKER",e[e.STRIFE_BISHOP=187]="STRIFE_BISHOP",e[e.PITCHER=188]="PITCHER",e[e.STOOL=189]="STOOL",e[e.METAL_POT=190]="METAL_POT",e[e.TUB=191]="TUB",e[e.RED_CRYSTAL_KEY=192]="RED_CRYSTAL_KEY",e[e.BLUE_CRYSTAL_KEY=193]="BLUE_CRYSTAL_KEY",e[e.ANVIL=194]="ANVIL",e[e.CHAPEL_KEY=195]="CHAPEL_KEY",e[e.TECH_LAMP_SILVER=196]="TECH_LAMP_SILVER",e[e.TECH_LAMP_BRASS=197]="TECH_LAMP_BRASS",e[e.ENTITY_POD=198]="ENTITY_POD",e[e.ORACLE=199]="ORACLE",e[e.MACIL_2=200]="MACIL_2",e[e.ACOLYTE_TO_BE=201]="ACOLYTE_TO_BE",e[e.BIG_TREE_2=202]="BIG_TREE_2",e[e.POTTED_TREE=203]="POTTED_TREE",e[e.KNEELING_GUY=204]="KNEELING_GUY",e[e.OFFERING_CHALICE=205]="OFFERING_CHALICE",e[e.COMMUNICATOR=206]="COMMUNICATOR",e[e.TARGETER=207]="TARGETER",e[e.TARGET_PRACTICE=208]="TARGET_PRACTICE",e[e.TANK_1=209]="TANK_1",e[e.TANK_2=210]="TANK_2",e[e.TANK_3=211]="TANK_3",e[e.SACRIFICED_GUY=212]="SACRIFICED_GUY",e[e.TANK_4=213]="TANK_4",e[e.TANK_5=214]="TANK_5",e[e.STICK_IN_WATER=215]="STICK_IN_WATER",e[e.SIGIL_BANNER=216]="SIGIL_BANNER",e[e.REBEL_BOOTS=217]="REBEL_BOOTS",e[e.REBEL_HELMET=218]="REBEL_HELMET",e[e.REBEL_SHIRT=219]="REBEL_SHIRT",e[e.POWER_COUPLING=220]="POWER_COUPLING",e[e.ALIEN_BUBBLE_COLUMN=221]="ALIEN_BUBBLE_COLUMN",e[e.ALIEN_FLOOR_BUBBLE=222]="ALIEN_FLOOR_BUBBLE",e[e.ALIEN_CEILING_BUBBLE=223]="ALIEN_CEILING_BUBBLE",e[e.ALIEN_ASP_CLIMBER=224]="ALIEN_ASP_CLIMBER",e[e.ALIEN_SPIDER_LIGHT=225]="ALIEN_SPIDER_LIGHT",e[e.BROKEN_POWER_COUPLING=226]="BROKEN_POWER_COUPLING",e[e.PILLAR_ALIEN_POWER=227]="PILLAR_ALIEN_POWER",e[e.AMMO_FILLER=228]="AMMO_FILLER",e[e.TANK_6=229]="TANK_6",e[e.BASE_KEY=230]="BASE_KEY",e[e.ACOLYTE_BLUE=231]="ACOLYTE_BLUE",e[e.ACOLYTE_LGREEN=232]="ACOLYTE_LGREEN",e[e.MAULER_KEY=233]="MAULER_KEY",e[e.FACTORY_KEY=234]="FACTORY_KEY",e[e.MINE_KEY=235]="MINE_KEY",e[e.CORE_KEY=236]="CORE_KEY",e[e.MBFHELPER_DOG=888]="MBFHELPER_DOG",e[e.SOUND_SEQUENCE_THING_0=1400]="SOUND_SEQUENCE_THING_0",e[e.SOUND_SEQUENCE_THING_1=1401]="SOUND_SEQUENCE_THING_1",e[e.SOUND_SEQUENCE_THING_2=1402]="SOUND_SEQUENCE_THING_2",e[e.SOUND_SEQUENCE_THING_3=1403]="SOUND_SEQUENCE_THING_3",e[e.SOUND_SEQUENCE_THING_4=1404]="SOUND_SEQUENCE_THING_4",e[e.SOUND_SEQUENCE_THING_5=1405]="SOUND_SEQUENCE_THING_5",e[e.SOUND_SEQUENCE_THING_6=1406]="SOUND_SEQUENCE_THING_6",e[e.SOUND_SEQUENCE_THING_7=1407]="SOUND_SEQUENCE_THING_7",e[e.SOUND_SEQUENCE_THING_8=1408]="SOUND_SEQUENCE_THING_8",e[e.SOUND_SEQUENCE_THING_9=1409]="SOUND_SEQUENCE_THING_9",e[e.SOUND_SEQUENCE_THING_ARG=1411]="SOUND_SEQUENCE_THING_ARG",e[e.FLOOR_SLOPE=1500]="FLOOR_SLOPE",e[e.CEILING_SLOPE=1501]="CEILING_SLOPE",e[e.VAVOOM_LIGHT_WHITE=1502]="VAVOOM_LIGHT_WHITE",e[e.VAVOOM_LIGHT_COLOR=1503]="VAVOOM_LIGHT_COLOR",e[e.FLOOR_VERTEX_HEIGHT=1504]="FLOOR_VERTEX_HEIGHT",e[e.CEILING_VERTEX_HEIGHT=1505]="CEILING_VERTEX_HEIGHT",e[e.STRIFE_CROSSBOW=2001]="STRIFE_CROSSBOW",e[e.ASSAULT_GUN=2002]="ASSAULT_GUN",e[e.MINI_MISSILE_LAUNCHER=2003]="MINI_MISSILE_LAUNCHER",e[e.MAULER=2004]="MAULER",e[e.FLAME_THROWER=2005]="FLAME_THROWER",e[e.ASSAULT_GUN_STANDING=2006]="ASSAULT_GUN_STANDING",e[e.CLIP_OF_BULLETS=2007]="CLIP_OF_BULLETS",e[e.MINI_MISSILES=2010]="MINI_MISSILES",e[e.MED_PATCH=2011]="MED_PATCH",e[e.MEDICAL_KIT=2012]="MEDICAL_KIT",e[e.WATER_BOTTLE=2014]="WATER_BOTTLE",e[e.LEATHER_ARMOR=2018]="LEATHER_ARMOR",e[e.METAL_ARMOR=2019]="METAL_ARMOR",e[e.SHADOW_ARMOR=2024]="SHADOW_ARMOR",e[e.ENVIRONMENTAL_SUIT=2025]="ENVIRONMENTAL_SUIT",e[e.STRIFE_MAP=2026]="STRIFE_MAP",e[e.SCANNER=2027]="SCANNER",e[e.LIGHT_GLOBE=2028]="LIGHT_GLOBE",e[e.CRATE_OF_MISSILES=2046]="CRATE_OF_MISSILES",e[e.ENERGY_POD=2047]="ENERGY_POD",e[e.BOX_OF_BULLETS=2048]="BOX_OF_BULLETS",e[e.REAVER=3001]="REAVER",e[e.ACOLYTE_TAN=3002]="ACOLYTE_TAN",e[e.TEMPLAR=3003]="TEMPLAR",e[e.PEASANT_1=3004]="PEASANT_1",e[e.CRUSADER=3005]="CRUSADER",e[e.SENTINEL=3006]="SENTINEL",e[e.POINT_PUSHER=5001]="POINT_PUSHER",e[e.POINT_PULLER=5002]="POINT_PULLER",e[e.FS_MAPSPOT=5004]="FS_MAPSPOT",e[e.INVISIBLE_BRIDGE_32=5061]="INVISIBLE_BRIDGE_32",e[e.INVISIBLE_BRIDGE_16=5064]="INVISIBLE_BRIDGE_16",e[e.INVISIBLE_BRIDGE_8=5065]="INVISIBLE_BRIDGE_8",e[e.MAP_SPOT=9001]="MAP_SPOT",e[e.MAP_SPOT_GRAVITY=9013]="MAP_SPOT_GRAVITY",e[e.PATROL_POINT=9024]="PATROL_POINT",e[e.SECURITY_CAMERA=9025]="SECURITY_CAMERA",e[e.SPARK=9026]="SPARK",e[e.RED_PARTICLE_FOUNTAIN=9027]="RED_PARTICLE_FOUNTAIN",e[e.GREEN_PARTICLE_FOUNTAIN=9028]="GREEN_PARTICLE_FOUNTAIN",e[e.BLUE_PARTICLE_FOUNTAIN=9029]="BLUE_PARTICLE_FOUNTAIN",e[e.YELLOW_PARTICLE_FOUNTAIN=9030]="YELLOW_PARTICLE_FOUNTAIN",e[e.PURPLE_PARTICLE_FOUNTAIN=9031]="PURPLE_PARTICLE_FOUNTAIN",e[e.BLACK_PARTICLE_FOUNTAIN=9032]="BLACK_PARTICLE_FOUNTAIN",e[e.WHITE_PARTICLE_FOUNTAIN=9033]="WHITE_PARTICLE_FOUNTAIN",e[e.BETA_SKULL=9037]="BETA_SKULL",e[e.COLOR_SETTER=9038]="COLOR_SETTER",e[e.FADE_SETTER=9039]="FADE_SETTER",e[e.MAP_MARKER=9040]="MAP_MARKER",e[e.SECTOR_FLAG_SETTER=9041]="SECTOR_FLAG_SETTER",e[e.TELEPORT_DEST_3=9043]="TELEPORT_DEST_3",e[e.TELEPORT_DEST_2=9044]="TELEPORT_DEST_2",e[e.WATER_ZONE=9045]="WATER_ZONE",e[e.SECRET_TRIGGER=9046]="SECRET_TRIGGER",e[e.PATROL_SPECIAL=9047]="PATROL_SPECIAL",e[e.SOUND_ENVIRONMENT=9048]="SOUND_ENVIRONMENT",e[e.INTERPOLATION_POINT=9070]="INTERPOLATION_POINT",e[e.PATH_FOLLOWER=9071]="PATH_FOLLOWER",e[e.MOVING_CAMERA=9072]="MOVING_CAMERA",e[e.AIMING_CAMERA=9073]="AIMING_CAMERA",e[e.ACTOR_MOVER=9074]="ACTOR_MOVER",e[e.INTERPOLATION_SPECIAL=9075]="INTERPOLATION_SPECIAL",e[e.HATE_TARGET=9076]="HATE_TARGET",e[e.UPPER_STACK_LOOK_ONLY=9077]="UPPER_STACK_LOOK_ONLY",e[e.LOWER_STACK_LOOK_ONLY=9078]="LOWER_STACK_LOOK_ONLY",e[e.SKY_VIEWPOINT=9080]="SKY_VIEWPOINT",e[e.SKY_PICKER=9081]="SKY_PICKER",e[e.SECTOR_SILENCER=9082]="SECTOR_SILENCER",e[e.DECAL=9200]="DECAL",e[e.POLY_OBJECT_ANCHOR=9300]="POLY_OBJECT_ANCHOR",e[e.POLY_OBJECT_START_SPOT_HARMLESS=9301]="POLY_OBJECT_START_SPOT_HARMLESS",e[e.POLY_OBJECT_START_SPOT_CRUSHING=9302]="POLY_OBJECT_START_SPOT_CRUSHING",e[e.POLY_OBJECT_START_SPOT_HARMFUL=9303]="POLY_OBJECT_START_SPOT_HARMFUL",e[e.FLOOR_LINE=9500]="FLOOR_LINE",e[e.CEILING_LINE=9501]="CEILING_LINE",e[e.FLOOR_TILT=9502]="FLOOR_TILT",e[e.CEILING_TILT=9503]="CEILING_TILT",e[e.COPY_FLOOR_SLOPE=9510]="COPY_FLOOR_SLOPE",e[e.COPY_CEILING_SLOPE=9511]="COPY_CEILING_SLOPE",e[e.POINT_LIGHT=9800]="POINT_LIGHT",e[e.POINT_LIGHT_PULSE=9801]="POINT_LIGHT_PULSE",e[e.POINT_LIGHT_FLICKER=9802]="POINT_LIGHT_FLICKER",e[e.SECTOR_POINT_LIGHT=9803]="SECTOR_POINT_LIGHT",e[e.POINT_LIGHT_FLICKER_RANDOM=9804]="POINT_LIGHT_FLICKER_RANDOM",e[e.POINT_LIGHT_ADDITIVE=9810]="POINT_LIGHT_ADDITIVE",e[e.POINT_LIGHT_PULSE_ADDITIVE=9811]="POINT_LIGHT_PULSE_ADDITIVE",e[e.POINT_LIGHT_FLICKER_ADDITIVE=9812]="POINT_LIGHT_FLICKER_ADDITIVE",e[e.SECTOR_POINT_LIGHT_ADDITIVE=9813]="SECTOR_POINT_LIGHT_ADDITIVE",e[e.POINT_LIGHT_FLICKER_RANDOM_ADDITIVE=9814]="POINT_LIGHT_FLICKER_RANDOM_ADDITIVE",e[e.POINT_LIGHT_SUBTRACTIVE=9820]="POINT_LIGHT_SUBTRACTIVE",e[e.POINT_LIGHT_PULSE_SUBTRACTIVE=9821]="POINT_LIGHT_PULSE_SUBTRACTIVE",e[e.POINT_LIGHT_FLICKER_SUBTRACTIVE=9822]="POINT_LIGHT_FLICKER_SUBTRACTIVE",e[e.SECTOR_POINT_LIGHT_SUBTRACTIVE=9823]="SECTOR_POINT_LIGHT_SUBTRACTIVE",e[e.POINT_LIGHT_FLICKER_RANDOM_SUBTRACTIVE=9824]="POINT_LIGHT_FLICKER_RANDOM_SUBTRACTIVE",e[e.VAVOOM_LIGHT=9825]="VAVOOM_LIGHT",e[e.SEC_ACT_EYES_ABOVE_C=9982]="SEC_ACT_EYES_ABOVE_C",e[e.SEC_ACT_EYES_BELOW_C=9983]="SEC_ACT_EYES_BELOW_C",e[e.CUSTOM_SPRITE=9988]="CUSTOM_SPRITE",e[e.SEC_ACT_HIT_FAKE_FLOOR=9989]="SEC_ACT_HIT_FAKE_FLOOR",e[e.INVISIBLE_BRIDGE=9990]="INVISIBLE_BRIDGE",e[e.CUSTOM_BRIDGE=9991]="CUSTOM_BRIDGE",e[e.SEC_ACT_EYES_SURFACE=9992]="SEC_ACT_EYES_SURFACE",e[e.SEC_ACT_EYES_DIVE=9993]="SEC_ACT_EYES_DIVE",e[e.SEC_ACT_USE_WALL=9994]="SEC_ACT_USE_WALL",e[e.SEC_ACT_USE=9995]="SEC_ACT_USE",e[e.SEC_ACT_HIT_CEIL=9996]="SEC_ACT_HIT_CEIL",e[e.SEC_ACT_EXIT=9997]="SEC_ACT_EXIT",e[e.SEC_ACT_ENTER=9998]="SEC_ACT_ENTER",e[e.SEC_ACT_HIT_FLOOR=9999]="SEC_ACT_HIT_FLOOR",e[e.AMBIENT_SOUND=14001]="AMBIENT_SOUND",e[e.SOUND_SEQUENCE=14066]="SOUND_SEQUENCE",e[e.AMBIENT_SOUND_NO_GRAVITY=14067]="AMBIENT_SOUND_NO_GRAVITY",e[e.MUSIC_CHANGER=14101]="MUSIC_CHANGER",e[e.DOOM_BUILDER_CAMERA=32e3]="DOOM_BUILDER_CAMERA"}(U||(U={}));const B=Object.keys(U).filter((e=>Number.isNaN(Number(e)))),G={PLAYER_START_1:x.OTHER,PLAYER_START_2:x.OTHER,PLAYER_START_3:x.OTHER,PLAYER_START_4:x.OTHER,PLAYER_START_5:x.OTHER,PLAYER_START_6:x.OTHER,PLAYER_START_7:x.OTHER,PLAYER_START_8:x.OTHER,DEATHMATCH_START:x.OTHER,TELEPORT_DEST:x.OTHER,TELEPORT_SWIRL:x.OTHER,LOREMASTER:x.MONSTER,INQUISITOR:x.MONSTER,PROGRAMMER:x.MONSTER,REAVER:x.MONSTER,CRUSADER:x.MONSTER,SENTINEL:x.MONSTER,ACOLYTE_SHADOW:x.MONSTER,ALIEN_SPECTRE_1:x.MONSTER,ALIEN_SPECTRE_2:x.MONSTER,ALIEN_SPECTRE_3:x.MONSTER,ALIEN_SPECTRE_4:x.MONSTER,ALIEN_SPECTRE_5:x.MONSTER,STALKER:x.MONSTER,STRIFE_BISHOP:x.MONSTER,ORACLE:x.MONSTER,MACIL_1:x.MONSTER,MACIL_2:x.MONSTER,ACOLYTE_TO_BE:x.MONSTER,ACOLYTE_BLUE:x.MONSTER,ACOLYTE_RED:x.MONSTER,ACOLYTE_RUST:x.MONSTER,ACOLYTE_GRAY:x.MONSTER,ACOLYTE_DGREEN:x.MONSTER,ACOLYTE_GOLD:x.MONSTER,ACOLYTE_LGREEN:x.MONSTER,ACOLYTE_TAN:x.MONSTER,TEMPLAR:x.MONSTER,ENTITY_BOSS:x.MONSTER,ENTITY_NEST:x.MONSTER,ENTITY_POD:x.MONSTER,CEILING_TURRET:x.MONSTER,ZOMBIE:x.MONSTER,ZOMBIE_SPAWNER:x.MONSTER,REBEL_1:x.OTHER,REBEL_2:x.OTHER,REBEL_3:x.OTHER,REBEL_4:x.OTHER,REBEL_5:x.OTHER,REBEL_6:x.OTHER,BAR_KEEP:x.OTHER,ARMORER:x.OTHER,MEDIC:x.OTHER,WEAPON_SMITH:x.OTHER,BEGGAR_1:x.OTHER,BEGGAR_2:x.OTHER,BEGGAR_3:x.OTHER,BEGGAR_4:x.OTHER,BEGGAR_5:x.OTHER,KNEELING_GUY:x.OTHER,PEASANT_1:x.OTHER,PEASANT_2:x.OTHER,PEASANT_3:x.OTHER,PEASANT_4:x.OTHER,PEASANT_5:x.OTHER,PEASANT_6:x.OTHER,PEASANT_7:x.OTHER,PEASANT_8:x.OTHER,PEASANT_9:x.OTHER,PEASANT_10:x.OTHER,PEASANT_11:x.OTHER,PEASANT_12:x.OTHER,PEASANT_13:x.OTHER,PEASANT_14:x.OTHER,PEASANT_15:x.OTHER,PEASANT_16:x.OTHER,PEASANT_17:x.OTHER,PEASANT_18:x.OTHER,PEASANT_19:x.OTHER,PEASANT_20:x.OTHER,PEASANT_21:x.OTHER,PEASANT_22:x.OTHER,RAT_BUDDY:x.OTHER,TARGET_PRACTICE:x.OTHER,STRIFE_CROSSBOW:x.WEAPON,ASSAULT_GUN:x.WEAPON,MINI_MISSILE_LAUNCHER:x.WEAPON,MAULER:x.WEAPON,FLAME_THROWER:x.WEAPON,ASSAULT_GUN_STANDING:x.WEAPON,STRIFE_GRENADE_LAUNCHER:x.WEAPON,SIGIL_1:x.WEAPON,SIGIL_2:x.WEAPON,SIGIL_3:x.WEAPON,SIGIL_4:x.WEAPON,SIGIL_5:x.WEAPON,CLIP_OF_BULLETS:x.AMMO,MINI_MISSILES:x.AMMO,ENERGY_PACK:x.AMMO,ENERGY_POD:x.AMMO,HEGRENADE_ROUNDS:x.AMMO,PHOSPHORUS_GRENADE_ROUNDS:x.AMMO,ELECTRIC_BOLTS:x.AMMO,POISON_BOLTS:x.AMMO,BOX_OF_BULLETS:x.AMMO,CRATE_OF_MISSILES:x.AMMO,AMMO_SATCHEL:x.AMMO,AMMO_FILLER:x.AMMO,MED_PATCH:x.POWERUP,MEDICAL_KIT:x.POWERUP,SURGERY_KIT:x.POWERUP,LEATHER_ARMOR:x.POWERUP,METAL_ARMOR:x.POWERUP,SHADOW_ARMOR:x.POWERUP,ENVIRONMENTAL_SUIT:x.POWERUP,IDCARD:x.KEY,BLUE_CRYSTAL_KEY:x.KEY,BRASS_KEY:x.KEY,BROKEN_POWER_COUPLING:x.KEY,CHAPEL_KEY:x.KEY,CORE_KEY:x.KEY,FACTORY_KEY:x.KEY,GOLD_KEY:x.KEY,IDBADGE:x.KEY,MAULER_KEY:x.KEY,MINE_KEY:x.KEY,OFFICERS_UNIFORM:x.KEY,ORACLE_KEY:x.KEY,ORDER_KEY:x.KEY,PASSCARD:x.KEY,RED_CRYSTAL_KEY:x.KEY,SEVERED_HAND:x.KEY,SILVER_KEY:x.KEY,WAREHOUSE_KEY:x.KEY,BASE_KEY:x.KEY,GUARD_UNIFORM:x.KEY,DEGNIN_ORE:x.KEY,OFFERING_CHALICE:x.KEY,POWER_COUPLING:x.KEY,POWER_CRYSTAL:x.KEY,COMPUTER:x.KEY,FORCE_FIELD_GUARD:x.KEY,TELEPORTER_BEACON:x.ARTIFACT,COMMUNICATOR:x.ARTIFACT,TARGETER:x.ARTIFACT,STRIFE_MAP:x.ARTIFACT,SCANNER:x.ARTIFACT,SIGIL_BANNER:x.ARTIFACT,GOLD_10:x.ARTIFACT,GOLD_25:x.ARTIFACT,GOLD_50:x.ARTIFACT,COIN:x.ARTIFACT,EXPLOSIVE_BARREL_2:x.OBSTACLE,WOODEN_BARREL:x.OBSTACLE,STRIFE_BURNING_BARREL:x.OBSTACLE,ANVIL:x.OBSTACLE,BIG_TREE_2:x.OBSTACLE,TECH_LAMP_BRASS:x.OBSTACLE,TECH_LAMP_SILVER:x.OBSTACLE,BARRICADE_COLUMN:x.OBSTACLE,BURNING_BOWL:x.OBSTACLE,BURNING_BRAZIER:x.OBSTACLE,STRIFE_CANDELABRA:x.OBSTACLE,CAVE_PILLAR_TOP:x.OBSTACLE,CAVE_PILLAR_BOTTOM:x.OBSTACLE,CHIMNEY_STACK:x.OBSTACLE,PILLAR_AZTEC:x.OBSTACLE,PILLAR_AZTEC_DAMAGED:x.OBSTACLE,PILLAR_AZTEC_RUINED:x.OBSTACLE,PILLAR_HUGE_TECH:x.OBSTACLE,PILLAR_ALIEN_POWER:x.OBSTACLE,HEARTS_IN_TANK:x.OBSTACLE,HUGE_TORCH:x.OBSTACLE,LARGE_TORCH:x.OBSTACLE,MEDIUM_TORCH:x.OBSTACLE,OUTSIDE_LAMP:x.OBSTACLE,PALM_TREE:x.OBSTACLE,PISTON:x.OBSTACLE,POLE_LANTERN:x.OBSTACLE,POTTED_TREE:x.OBSTACLE,STATUE:x.OBSTACLE,STATUE_RUINED:x.OBSTACLE,SSTALACTITE_BIG:x.OBSTACLE,SSTALACTITE_SMALL:x.OBSTACLE,SSTALAGMITE_BIG:x.OBSTACLE,SSTALAGMITE_SMALL:x.OBSTACLE,SHORT_BUSH:x.OBSTACLE,TALL_BUSH:x.OBSTACLE,TANK_1:x.OBSTACLE,TANK_2:x.OBSTACLE,TANK_3:x.OBSTACLE,TANK_4:x.OBSTACLE,TANK_5:x.OBSTACLE,TANK_6:x.OBSTACLE,TRAY:x.OBSTACLE,TREE_STUB:x.OBSTACLE,PILLAR_TECHNO:x.OBSTACLE,ALIEN_BUBBLE_COLUMN:x.OBSTACLE,ALIEN_FLOOR_BUBBLE:x.OBSTACLE,ALIEN_CEILING_BUBBLE:x.OBSTACLE,ALIEN_ASP_CLIMBER:x.OBSTACLE,ALIEN_SPIDER_LIGHT:x.OBSTACLE,LIGHT_GLOBE:x.OBSTACLE,DEAD_STRIFE_PLAYER:x.DECORATION,DEAD_PEASANT:x.DECORATION,DEAD_REBEL:x.DECORATION,DEAD_REAVER:x.DECORATION,DEAD_ACOLYTE:x.DECORATION,DEAD_CRUSADER:x.DECORATION,CAGE_LIGHT:x.DECORATION,CANDLE:x.DECORATION,CEILING_CHAIN:x.DECORATION,WATER_DRIP:x.DECORATION,WATER_DROP_ON_FLOOR:x.DECORATION,WATERFALL_SPLASH:x.DECORATION,KLAXON_WARNING_LIGHT:x.DECORATION,METAL_POT:x.DECORATION,MUG:x.DECORATION,REBEL_BOOTS:x.DECORATION,REBEL_HELMET:x.DECORATION,REBEL_SHIRT:x.DECORATION,SROCK_1:x.DECORATION,SROCK_2:x.DECORATION,SROCK_3:x.DECORATION,SROCK_4:x.DECORATION,RUBBLE_1:x.DECORATION,RUBBLE_2:x.DECORATION,RUBBLE_3:x.DECORATION,RUBBLE_4:x.DECORATION,RUBBLE_5:x.DECORATION,RUBBLE_6:x.DECORATION,RUBBLE_7:x.DECORATION,RUBBLE_8:x.DECORATION,SACRIFICED_GUY:x.DECORATION,LIGHT_SILVER_FLUORESCENT:x.DECORATION,LIGHT_BROWN_FLUORESCENT:x.DECORATION,LIGHT_GOLD_FLUORESCENT:x.DECORATION,SMALL_TORCH_LIT:x.DECORATION,SMALL_TORCH_UNLIT:x.DECORATION,STICK_IN_WATER:x.DECORATION,STOOL:x.DECORATION,PITCHER:x.DECORATION,POT:x.DECORATION,TUB:x.DECORATION,WATER_BOTTLE:x.DECORATION,WATER_FOUNTAIN:x.DECORATION,SURGERY_CRAB:x.DECORATION,MBFHELPER_DOG:x.SPECIAL,SOUND_SEQUENCE_THING_0:x.SPECIAL,SOUND_SEQUENCE_THING_1:x.SPECIAL,SOUND_SEQUENCE_THING_2:x.SPECIAL,SOUND_SEQUENCE_THING_3:x.SPECIAL,SOUND_SEQUENCE_THING_4:x.SPECIAL,SOUND_SEQUENCE_THING_5:x.SPECIAL,SOUND_SEQUENCE_THING_6:x.SPECIAL,SOUND_SEQUENCE_THING_7:x.SPECIAL,SOUND_SEQUENCE_THING_8:x.SPECIAL,SOUND_SEQUENCE_THING_9:x.SPECIAL,SOUND_SEQUENCE_THING_ARG:x.SPECIAL,FLOOR_SLOPE:x.SPECIAL,CEILING_SLOPE:x.SPECIAL,VAVOOM_LIGHT_WHITE:x.SPECIAL,VAVOOM_LIGHT_COLOR:x.SPECIAL,FLOOR_VERTEX_HEIGHT:x.SPECIAL,CEILING_VERTEX_HEIGHT:x.SPECIAL,POINT_PUSHER:x.SPECIAL,POINT_PULLER:x.SPECIAL,FS_MAPSPOT:x.SPECIAL,INVISIBLE_BRIDGE_32:x.SPECIAL,INVISIBLE_BRIDGE_16:x.SPECIAL,INVISIBLE_BRIDGE_8:x.SPECIAL,MAP_SPOT:x.SPECIAL,MAP_SPOT_GRAVITY:x.SPECIAL,PATROL_POINT:x.SPECIAL,SECURITY_CAMERA:x.SPECIAL,SPARK:x.SPECIAL,RED_PARTICLE_FOUNTAIN:x.SPECIAL,GREEN_PARTICLE_FOUNTAIN:x.SPECIAL,BLUE_PARTICLE_FOUNTAIN:x.SPECIAL,YELLOW_PARTICLE_FOUNTAIN:x.SPECIAL,PURPLE_PARTICLE_FOUNTAIN:x.SPECIAL,BLACK_PARTICLE_FOUNTAIN:x.SPECIAL,WHITE_PARTICLE_FOUNTAIN:x.SPECIAL,BETA_SKULL:x.SPECIAL,COLOR_SETTER:x.SPECIAL,FADE_SETTER:x.SPECIAL,MAP_MARKER:x.SPECIAL,SECTOR_FLAG_SETTER:x.SPECIAL,TELEPORT_DEST_3:x.SPECIAL,TELEPORT_DEST_2:x.SPECIAL,WATER_ZONE:x.SPECIAL,SECRET_TRIGGER:x.SPECIAL,PATROL_SPECIAL:x.SPECIAL,SOUND_ENVIRONMENT:x.SPECIAL,INTERPOLATION_POINT:x.SPECIAL,PATH_FOLLOWER:x.SPECIAL,MOVING_CAMERA:x.SPECIAL,AIMING_CAMERA:x.SPECIAL,ACTOR_MOVER:x.SPECIAL,INTERPOLATION_SPECIAL:x.SPECIAL,HATE_TARGET:x.SPECIAL,UPPER_STACK_LOOK_ONLY:x.SPECIAL,LOWER_STACK_LOOK_ONLY:x.SPECIAL,SKY_VIEWPOINT:x.SPECIAL,SKY_PICKER:x.SPECIAL,SECTOR_SILENCER:x.SPECIAL,DECAL:x.SPECIAL,POLY_OBJECT_ANCHOR:x.SPECIAL,POLY_OBJECT_START_SPOT_HARMLESS:x.SPECIAL,POLY_OBJECT_START_SPOT_CRUSHING:x.SPECIAL,POLY_OBJECT_START_SPOT_HARMFUL:x.SPECIAL,FLOOR_LINE:x.SPECIAL,CEILING_LINE:x.SPECIAL,FLOOR_TILT:x.SPECIAL,CEILING_TILT:x.SPECIAL,COPY_FLOOR_SLOPE:x.SPECIAL,COPY_CEILING_SLOPE:x.SPECIAL,POINT_LIGHT:x.SPECIAL,POINT_LIGHT_PULSE:x.SPECIAL,POINT_LIGHT_FLICKER:x.SPECIAL,SECTOR_POINT_LIGHT:x.SPECIAL,POINT_LIGHT_FLICKER_RANDOM:x.SPECIAL,POINT_LIGHT_ADDITIVE:x.SPECIAL,POINT_LIGHT_PULSE_ADDITIVE:x.SPECIAL,POINT_LIGHT_FLICKER_ADDITIVE:x.SPECIAL,SECTOR_POINT_LIGHT_ADDITIVE:x.SPECIAL,POINT_LIGHT_FLICKER_RANDOM_ADDITIVE:x.SPECIAL,POINT_LIGHT_SUBTRACTIVE:x.SPECIAL,POINT_LIGHT_PULSE_SUBTRACTIVE:x.SPECIAL,POINT_LIGHT_FLICKER_SUBTRACTIVE:x.SPECIAL,SECTOR_POINT_LIGHT_SUBTRACTIVE:x.SPECIAL,POINT_LIGHT_FLICKER_RANDOM_SUBTRACTIVE:x.SPECIAL,VAVOOM_LIGHT:x.SPECIAL,SEC_ACT_EYES_ABOVE_C:x.SPECIAL,SEC_ACT_EYES_BELOW_C:x.SPECIAL,CUSTOM_SPRITE:x.SPECIAL,SEC_ACT_HIT_FAKE_FLOOR:x.SPECIAL,INVISIBLE_BRIDGE:x.SPECIAL,CUSTOM_BRIDGE:x.SPECIAL,SEC_ACT_EYES_SURFACE:x.SPECIAL,SEC_ACT_EYES_DIVE:x.SPECIAL,SEC_ACT_USE_WALL:x.SPECIAL,SEC_ACT_USE:x.SPECIAL,SEC_ACT_HIT_CEIL:x.SPECIAL,SEC_ACT_EXIT:x.SPECIAL,SEC_ACT_ENTER:x.SPECIAL,SEC_ACT_HIT_FLOOR:x.SPECIAL,AMBIENT_SOUND:x.SPECIAL,SOUND_SEQUENCE:x.SPECIAL,AMBIENT_SOUND_NO_GRAVITY:x.SPECIAL,MUSIC_CHANGER:x.SPECIAL,DOOM_BUILDER_CAMERA:x.SPECIAL};var H;!function(e){e[e.ON_SKILL_EASY=1]="ON_SKILL_EASY",e[e.ON_SKILL_MEDIUM=2]="ON_SKILL_MEDIUM",e[e.ON_SKILL_HARD=4]="ON_SKILL_HARD",e[e.AMBUSH=8]="AMBUSH",e[e.NET_ONLY=16]="NET_ONLY"}(H||(H={}));const F=e=>Object.entries(H).filter((([t,r])=>e&r)).map((([e])=>e)),k={...I,...C,...P,...D,...G},Y=e=>k[e]||x.UNKNOWN,W={PLAYER_START_1:16,PLAYER_START_2:16,PLAYER_START_3:16,PLAYER_START_4:16,BLUE_CARD:20,YELLOW_CARD:20,SPIDER_MASTERMIND:128,BACKPACK:20,SHOTGUN_GUY:20,GIBBED_MARINE:20,DEATHMATCH_START:16,GIBBED_MARINE_EXTRA:20,RED_CARD:20,TELEPORT_DEST:20,DEAD_MARINE:20,CYBERDEMON:40,CELL_PACK:20,DEAD_ZOMBIE_MAN:20,DEAD_SHOTGUN_GUY:20,DEAD_DOOM_IMP:20,DEAD_DEMON:20,DEAD_CACODEMON:20,DEAD_LOST_SOUL:20,GIBS:20,DEAD_STICK:16,LIVE_STICK:16,HEAD_ON_ASTICK:16,HEADS_ON_ASTICK:16,HEAD_CANDLES:16,TALL_GREEN_COLUMN:16,SHORT_GREEN_COLUMN:16,TALL_RED_COLUMN:16,SHORT_RED_COLUMN:16,CANDLESTICK:20,CANDELABRA:16,HEART_COLUMN:16,SKULL_COLUMN:16,RED_SKULL:20,YELLOW_SKULL:20,BLUE_SKULL:20,EVIL_EYE:16,FLOATING_SKULL:16,TORCH_TREE:16,BLUE_TORCH:16,GREEN_TORCH:16,RED_TORCH:16,STALAGTITE:16,TECH_PILLAR:16,BLOODY_TWITCH:16,MEAT_2:16,MEAT_3:16,MEAT_4:16,MEAT_5:16,BIG_TREE:32,SHORT_BLUE_TORCH:16,SHORT_GREEN_TORCH:16,SHORT_RED_TORCH:16,SPECTRE:30,ARCHVILE:20,CHAINGUN_GUY:20,REVENANT:20,FATSO:48,ARACHNOTRON:64,HELL_KNIGHT:24,BURNING_BARREL:16,PAIN_ELEMENTAL:31,COMMANDER_KEEN:16,HANG_NO_GUTS:16,HANG_BNO_BRAIN:16,HANG_TLOOKING_DOWN:16,HANG_TSKULL:16,HANG_TLOOKING_UP:16,HANG_TNO_BRAIN:16,COLON_GIBS:20,SMALL_BLOOD_POOL:20,BRAIN_STEM:20,SUPER_SHOTGUN:20,MEGASPHERE:20,WOLFENSTEIN_SS:20,TECH_LAMP:16,TECH_LAMP_2:16,BOSS_TARGET:20,BOSS_BRAIN:16,BOSS_EYE:20,SHOTGUN:20,CHAINGUN:20,ROCKET_LAUNCHER:20,PLASMA_RIFLE:20,CHAINSAW:20,BFG_9000:20,CLIP:20,SHELL:20,ROCKET_AMMO:20,STIMPACK:20,MEDIKIT:20,SOULSPHERE:20,HEALTH_BONUS:20,ARMOR_BONUS:20,GREEN_ARMOR:20,BLUE_ARMOR:20,INVULNERABILITY_SPHERE:20,BERSERK:20,BLUR_SPHERE:20,RAD_SUIT:20,ALLMAP:20,COLUMN:16,EXPLOSIVE_BARREL:10,INFRARED:20,ROCKET_BOX:20,CELL:20,CLIP_BOX:20,SHELL_BOX:20,DOOM_IMP:20,DEMON:30,BARON_OF_HELL:24,ZOMBIE_MAN:20,CACODEMON:31,LOST_SOUL:16},X=e=>W[e]||20;var V;!function(e){e.SUBNODE="SUBNODE",e.SUBSECTOR="SUBSECTOR"}(V||(V={}));const K={xOrigin:0,yOrigin:0,columns:0,rows:0,offsets:[],blockList:[]};var j;!function(e){e[e.BLOCK_PLAYER_MONSTER=1]="BLOCK_PLAYER_MONSTER",e[e.BLOCK_MONSTER=2]="BLOCK_MONSTER",e[e.TWO_SIDED=4]="TWO_SIDED",e[e.UPPER_TEX_UNPEGGED=8]="UPPER_TEX_UNPEGGED",e[e.LOWER_TEX_UNPEGGED=16]="LOWER_TEX_UNPEGGED",e[e.SECRET=32]="SECRET",e[e.BLOCK_SOUND=64]="BLOCK_SOUND",e[e.HIDE_ON_MAP=128]="HIDE_ON_MAP",e[e.ALWAYS_ON_MAP=256]="ALWAYS_ON_MAP"}(j||(j={}));const z=e=>{const t=[];for(const n in j)r=j[n],e&r&&t.push(j[r]);var r;return t};var Z;!function(e){e.DOOM="DOOM",e.HEXEN="HEXEN",e.UDMF="UDMF"}(Z||(Z={}));const $=["HEADER","THINGS","LINEDEFS","SIDEDEFS","VERTEXES","SEGS","SSECTORS","NODES","SECTORS","REJECT","BLOCKMAP","BEHAVIOR","SCRIPTS","TEXTMAP","DIALOGUE","ZNODES","ENDMAP"],q=e=>$.includes(e),Q={name:"",things:[],linedefs:[],sidedefs:[],vertices:[],segments:[],subSectors:[],nodes:[],sectors:[],rejectTable:[],blockMap:{...K}},J=(e,t,r,n=xe)=>{const i=n.typedPlaypal[0];let o="cyan";const s={...r.sidedefs[t.frontSideDef]},a={...r.sectors[s.sector]},h=a.floorHeight,c=a.ceilingHeight,l={...r.sidedefs[t.backSideDef]},u={...r.sectors[l.sector]},d=u.floorHeight,f=u.ceilingHeight,p=9===a.specialType||9===u.specialType,_=t.flagsString.includes("SECRET"),E=t.flagsString.includes("TWO_SIDED");var g;return g=t.specialType,[26,32,99,133].includes(g)?o=i[e.blueDoor].hex:(e=>[28,33,134,135].includes(e))(t.specialType)?o=i[e.redDoor].hex:(e=>[27,34,136,137].includes(e))(t.specialType)?o=i[e.yellowDoor].hex:(e=>[11,52,197,51,124,198].includes(e))(t.specialType)?o=i[e.exit].hex:(e=>[195,174,97,39,126,125,269,268,210,209,208,207,244,243,263,262,267,266,265,264].includes(e))(t.specialType)?o=i[e.teleporter].hex:E&&!_?p&&!_?o=i[e.secretArea].hex:h!==d?o=i[e.changeFloorHeight].hex:c!==f?o=i[e.changeCeilHeight].hex:c===f&&h===d?o=i[e.noChangeInHeight].hex:c===h&&f===d&&(o=i[e.floorAndCeilEqual].hex):o=p&&!_?i[e.secretArea].hex:i[e.oneSidedWall].hex,o},ee=(e,t=xe)=>{const r=t.typedPlaypal[0];return[r[e.grid32].hex,r[195].hex]},te=(e,t=xe)=>t.typedPlaypal[0][e.blockmap].hex,re=(e,t=xe)=>t.typedPlaypal[0][e.background].hex,ne=[{name:"DSDA Doom",getBackground:re,getLineColor:J,getGridColor:ee,getBlockmapColor:te,background:247,grid32:104,grid64:195,blockmap:107,oneSidedWall:23,changeFloorHeight:55,changeCeilHeight:215,floorAndCeilEqual:208,noChangeInHeight:88,redDoor:175,blueDoor:204,yellowDoor:231,teleporter:119,secretArea:252,exit:112},{name:"Eternity Engine",getBackground:re,getLineColor:J,getGridColor:ee,getBlockmapColor:te,background:0,grid32:104,grid64:195,blockmap:107,oneSidedWall:181,changeFloorHeight:166,changeCeilHeight:231,floorAndCeilEqual:231,noChangeInHeight:88,redDoor:175,blueDoor:204,yellowDoor:231,teleporter:119,secretArea:176,exit:112},{name:"omgifol",getBackground:()=>"#ffffff",getLineColor:(e,t)=>{let r="#000000";return t.flagsString.includes("TWO_SIDED")&&(r="#909090"),0!==t.specialType&&(r="#DC8232"),r},getGridColor:ee,getBlockmapColor:te,background:0,grid32:0,grid64:0,blockmap:0,oneSidedWall:0,changeFloorHeight:0,changeCeilHeight:0,floorAndCeilEqual:0,noChangeInHeight:0,redDoor:0,blueDoor:0,yellowDoor:0,teleporter:0,secretArea:0,exit:0}];var ie;!function(e){e.DOOM="DOOM",e.HEXEN="HEXEN",e.HERETIC="HERETIC",e.CHEX="CHEX",e.STRIFE="STRIFE"}(ie||(ie={}));const oe={header:void 0,directory:void 0,mapGroups:void 0,maps:void 0,playpal:void 0,colormap:void 0,endoom:void 0,textures:void 0,flats:void 0,sprites:void 0,dehacked:void 0,detectedType:void 0,menuGraphics:void 0,music:void 0,mapInfo:void 0,musInfo:void 0},se={things:[],frames:[],pointers:[],sounds:[],ammo:[],weapons:[],misc:{},texts:[],bexStrings:[],helperThing:void 0,bexMusic:[],bexSounds:[],bexSprites:[],pars:[],cheats:{}};var ae,he,ce;function le(e){const t=[];for(const r of Object.values(ae))(e&r)===r&&t.push(r);return t}function ue(e){const t=[];for(const r of Object.values(he))(e&r)===r&&t.push(r);return t}function de(e){const t=[];for(const r of Object.values(ce))(e&r)===r&&t.push(r);return t}!function(e){e[e.SPECIAL=1]="SPECIAL",e[e.SOLID=2]="SOLID",e[e.SHOOTABLE=4]="SHOOTABLE",e[e.NOSECTOR=8]="NOSECTOR",e[e.NOBLOCKMAP=16]="NOBLOCKMAP",e[e.AMBUSH=32]="AMBUSH",e[e.JUSTHIT=64]="JUSTHIT",e[e.JUSTATTACKED=128]="JUSTATTACKED",e[e.SPAWNCEILING=256]="SPAWNCEILING",e[e.NOGRAVITY=512]="NOGRAVITY",e[e.DROPOFF=1024]="DROPOFF",e[e.PICKUP=2048]="PICKUP",e[e.NOCLIP=4096]="NOCLIP",e[e.SLIDE=8192]="SLIDE",e[e.FLOAT=16384]="FLOAT",e[e.TELEPORT=32768]="TELEPORT",e[e.MISSILE=65536]="MISSILE",e[e.DROPPED=131072]="DROPPED",e[e.SHADOW=262144]="SHADOW",e[e.NOBLOOD=524288]="NOBLOOD",e[e.CORPSE=1048576]="CORPSE",e[e.INFLOAT=2097152]="INFLOAT",e[e.COUNTKILL=4194304]="COUNTKILL",e[e.COUNTITEM=8388608]="COUNTITEM",e[e.SKULLFLY=16777216]="SKULLFLY",e[e.NOTDMATCH=33554432]="NOTDMATCH",e[e.TRANSLATION1=67108864]="TRANSLATION1",e[e.TRANSLATION2=134217728]="TRANSLATION2",e[e.TOUCHY=268435456]="TOUCHY",e[e.BOUNCES=536870912]="BOUNCES",e[e.FRIEND=1073741824]="FRIEND",e[e.TRANSLUCENT=2147483648]="TRANSLUCENT"}(ae||(ae={})),function(e){e[e.LOGRAV=1]="LOGRAV",e[e.SHORTMRANGE=2]="SHORTMRANGE",e[e.DMGIGNORED=4]="DMGIGNORED",e[e.NORADIUSDMG=8]="NORADIUSDMG",e[e.FORCERADIUSDMG=16]="FORCERADIUSDMG",e[e.HIGHERMPROB=32]="HIGHERMPROB",e[e.RANGEHALF=64]="RANGEHALF",e[e.NOTHRESHOLD=128]="NOTHRESHOLD",e[e.LONGMELEE=256]="LONGMELEE",e[e.BOSS=512]="BOSS",e[e.MAP07BOSS1=1024]="MAP07BOSS1",e[e.MAP07BOSS2=2048]="MAP07BOSS2",e[e.E1M8BOSS=4096]="E1M8BOSS",e[e.E2M8BOSS=8192]="E2M8BOSS",e[e.E3M8BOSS=16384]="E3M8BOSS",e[e.E4M6BOSS=32768]="E4M6BOSS",e[e.E4M8BOSS=65536]="E4M8BOSS",e[e.RIP=131072]="RIP",e[e.FULLVOLSOUNDS=262144]="FULLVOLSOUNDS"}(he||(he={})),function(e){e[e.NOTHRUST=1]="NOTHRUST",e[e.SILENT=2]="SILENT",e[e.NOAUTOFIRE=4]="NOAUTOFIRE",e[e.FLEEMELEE=8]="FLEEMELEE",e[e.AUTOSWITCHFROM=16]="AUTOSWITCHFROM",e[e.NOAUTOSWITCHTO=32]="NOAUTOSWITCHTO"}(ce||(ce={}));const fe={HUSTR_1:"MAP01",HUSTR_2:"MAP02",HUSTR_3:"MAP03",HUSTR_4:"MAP04",HUSTR_5:"MAP05",HUSTR_6:"MAP06",HUSTR_7:"MAP07",HUSTR_8:"MAP08",HUSTR_9:"MAP09",HUSTR_10:"MAP10",HUSTR_11:"MAP11",HUSTR_12:"MAP12",HUSTR_13:"MAP13",HUSTR_14:"MAP14",HUSTR_15:"MAP15",HUSTR_16:"MAP16",HUSTR_17:"MAP17",HUSTR_18:"MAP18",HUSTR_19:"MAP19",HUSTR_20:"MAP20",HUSTR_21:"MAP21",HUSTR_22:"MAP22",HUSTR_23:"MAP23",HUSTR_24:"MAP24",HUSTR_25:"MAP25",HUSTR_26:"MAP26",HUSTR_27:"MAP27",HUSTR_28:"MAP28",HUSTR_29:"MAP29",HUSTR_30:"MAP30",HUSTR_31:"MAP31",HUSTR_32:"MAP32"},pe={dehackedString:"",thingTranslations:[],parsed:se,source:""},_e={1:null,2:3004,3:9,4:64,5:null,6:66,7:null,8:null,9:67,10:null,11:65,12:3001,13:3002,14:58,15:3005,16:3003,17:null,18:69,19:3006,20:7,21:68,22:16,23:71,24:84,25:72,26:88,27:89,28:87,29:null,30:null,31:2035,32:null,33:null,34:null,35:null,36:null,37:null,38:null,39:null,40:null,41:null,42:14,43:null,44:2018,45:2019,46:2014,47:2015,48:5,49:13,50:6,51:39,52:38,53:40,54:2011,55:2012,56:2013,57:2022,58:2023,59:2024,60:2025,61:2026,62:2045,63:83,64:2007,65:2048,66:2010,67:2046,68:2047,69:17,70:2008,71:2049,72:8,73:2006,74:2002,75:2005,76:2003,77:2004,78:2001,79:82,80:85,81:86,82:2028,83:30,84:31,85:32,86:33,87:37,88:36,89:41,90:42,91:43,92:44,93:45,94:46,95:55,96:56,97:57,98:47,99:48,100:34,101:35,102:49,103:50,104:51,105:52,106:53,107:59,108:60,109:61,110:62,111:63,112:22,113:15,114:18,115:21,116:23,117:20,118:19,119:10,120:12,121:28,122:24,123:27,124:29,125:25,126:26,127:54,128:70,129:73,130:74,131:75,132:76,133:77,134:78,135:79,136:80,137:81,138:5001,139:5002,140:888,141:null,142:null,143:2016,144:2017,145:14164,146:null,147:null,148:null,149:null,150:null,151:null,152:null,153:null,154:null,155:null,156:null,157:null,158:null,159:null,160:null,161:null,162:null,163:null,164:null,165:null,166:null,167:null,168:null,169:null,170:null,171:null,172:null,173:null,174:null,175:null,176:null,177:null,178:null,179:null,180:null,181:null,182:null,183:null,184:null,185:null,186:null,187:null,188:null,189:null,190:null,191:null,192:null,193:null,194:null,195:null,196:null,197:null,198:null,199:null,200:null,201:null,202:null,203:null,204:null,205:null,206:null,207:null,208:null,209:null,210:null,211:null,212:null,213:null,214:null,215:null,216:null,217:null,218:null,219:null,220:null,221:null,222:null,223:null,224:null,225:null,226:null,227:null,228:null,229:null,230:null,231:null,232:null,233:null,234:null,235:null,236:null,237:null,238:null,239:null,240:null,241:null,242:null,243:null,244:null,245:null,246:null,247:null,248:null,249:null,250:null};var Ee;!function(e){e.MAPMARKER="MAPMARKER",e.MAPDATA="MAPDATA",e.MAPINFO="MAPINFO",e.TEXTURES1="TEXTURES1",e.TEXTURES2="TEXTURES2",e.SPRITE_START="SPRITE_START",e.SPRITE="SPRITE",e.SPRITE_END="SPRITE_END",e.PATCH_START="PATCH_START",e.PATCH="PATCH",e.PATCH_END="PATCH_END",e.FLAT_START="FLAT_START",e.FLAT="FLAT",e.FLAT_END="FLAT_END",e.PNAMES="PNAMES",e.TX_START="TX_START",e.TX_PATCH="TX_PATCH",e.TX_END="TX_END",e.HI_START="HI_START",e.HI_PATCH="HI_PATCH",e.HI_END="HI_END",e.STBAR_PATCH="STBAR_PATCH",e.MENU_PATCH="MENU_PATCH",e.COLORMAP="COLORMAP",e.ENDOOM="ENDOOM",e.DEHACKED="DEHACKED",e.PLAYPAL="PLAYPAL",e.DEMO="DEMO",e.COMPLVL="COMPLVL",e.TEXT="TEXT",e.MUSIC="MUSIC",e.SFX="SFX",e.MUSINFO="MUSINFO",e.UNKNOWN="UNKNOWN"}(Ee||(Ee={}));const ge=["#000000","#0000aa","#00aa00","#00aaaa","#aa0000","#aa00aa","#aa5500","#aaaaaa","#555555","#5555ff","#55ff55","#55ffff","#ff5555","#ff55ff","#ffff55","#ffffff"];var be,me;!function(e){e.FILE_LOADED="FILE_LOADED",e.HEADER_PARSING="HEADER_PARSING",e.DETECTED_TYPE_SET="DETECTED_TYPE_SET",e.PLAYPAL_PARSING="PLAYPAL_PARSING",e.COLORMAP_PARSING="COLORMAP_PARSING",e.DIRECTORY_PARSING="DIRECTORY_PARSING",e.MAPGROUPS_PARSING="MAPGROUPS_PARSING",e.MAP_THINGS_PARSING="DEBUG_MAP_THINGS_PARSING",e.MAP_LININGEFS_PARSING="DEBUG_MAP_LININGEFS_PARSING",e.MAP_SIDINGEFS_PARSING="DEBUG_MAP_SIDINGEFS_PARSING",e.MAP_VERTICES_PARSING="DEBUG_MAP_VERTICES_PARSING",e.MAP_SEGMENTS_PARSING="DEBUG_MAP_SEGMENTS_PARSING",e.MAP_SKIPPING_SEGMENTS="DEBUG_MAP_SKIPPING_SEGMENTS",e.MAP_SUBSECTORS_PARSING="DEBUG_MAP_SUBSECTORS_PARSING",e.MAP_SKIPPING_SUBSECTORS="DEBUG_MAP_SKIPPING_SUBSECTORS",e.MAP_NODES_PARSING="DEBUG_MAP_NODES_PARSING",e.MAP_SKIPPING_NODES="DEBUG_MAP_SKIPPING_NODES",e.MAP_SECTORS_PARSING="DEBUG_MAP_SECTORS_PARSING",e.MAP_REJECT_TABLE_PARSING="DEBUG_MAP_REJECT_TABLE_PARSING",e.MAP_SKIPPING_REJECT_TABLE="DEBUG_MAP_SKIPPING_REJECT_TABLE",e.MAP_BLOCKMAP_PARSING="DEBUG_MAP_BLOCKMAP_PARSING",e.MAP_SKIPPING_BLOCKLIST="DEBUG_MAP_SKIPPING_BLOCKLIST",e.MAPS_PARSING="MAPS_PARSING",e.MAP_PARSING="MAP_PARSING",e.LOADING_READY="LOADING_READY",e.ENDOOM_PARSING="ENDOOM_PARSING",e.DEHACKED_PARSING="DEHACKED_PARSING",e.TEXTURES_PARSING="TEXTURES_PARSING",e.FLATS_PARSING="FLATS_PARSING",e.SPRITES_PARSING="SPRITES_PARSING",e.MENU_GRAPHICS_PARSING="MENU_GRAPHICS_PARSING",e.STBAR_GRAPHICS_PARSING="STBAR_GRAPHICS_PARSING",e.MUSIC_PARSING="MUSIC_PARSING",e.MISSING_READYCB="MISSING_READYCB",e.PARSED_COUNT="PARSED_COUNT",e.NOT_WAD="NOT_WAD"}(be||(be={})),function(e){e.PWAD="PWAD",e.IWAD="IWAD",e.UNKNOWN="UNKNOWN"}(me||(me={}));const Te={type:me.UNKNOWN,directoryEntryCount:0,directoryLocation:0},Ae={rawPlaypal:[],typedPlaypal:[]},xe={rawPlaypal:[[0,0,0,31,23,11,23,15,7,75,75,75,255,255,255,27,27,27,19,19,19,11,11,11,7,7,7,47,55,31,35,43,15,23,31,7,15,23,0,79,59,43,71,51,35,63,43,27,255,183,183,247,171,171,243,163,163,235,151,151,231,143,143,223,135,135,219,123,123,211,115,115,203,107,107,199,99,99,191,91,91,187,87,87,179,79,79,175,71,71,167,63,63,163,59,59,155,51,51,151,47,47,143,43,43,139,35,35,131,31,31,127,27,27,119,23,23,115,19,19,107,15,15,103,11,11,95,7,7,91,7,7,83,7,7,79,0,0,71,0,0,67,0,0,255,235,223,255,227,211,255,219,199,255,211,187,255,207,179,255,199,167,255,191,155,255,187,147,255,179,131,247,171,123,239,163,115,231,155,107,223,147,99,215,139,91,207,131,83,203,127,79,191,123,75,179,115,71,171,111,67,163,107,63,155,99,59,143,95,55,135,87,51,127,83,47,119,79,43,107,71,39,95,67,35,83,63,31,75,55,27,63,47,23,51,43,19,43,35,15,239,239,239,231,231,231,223,223,223,219,219,219,211,211,211,203,203,203,199,199,199,191,191,191,183,183,183,179,179,179,171,171,171,167,167,167,159,159,159,151,151,151,147,147,147,139,139,139,131,131,131,127,127,127,119,119,119,111,111,111,107,107,107,99,99,99,91,91,91,87,87,87,79,79,79,71,71,71,67,67,67,59,59,59,55,55,55,47,47,47,39,39,39,35,35,35,119,255,111,111,239,103,103,223,95,95,207,87,91,191,79,83,175,71,75,159,63,67,147,55,63,131,47,55,115,43,47,99,35,39,83,27,31,67,23,23,51,15,19,35,11,11,23,7,191,167,143,183,159,135,175,151,127,167,143,119,159,135,111,155,127,107,147,123,99,139,115,91,131,107,87,123,99,79,119,95,75,111,87,67,103,83,63,95,75,55,87,67,51,83,63,47,159,131,99,143,119,83,131,107,75,119,95,63,103,83,51,91,71,43,79,59,35,67,51,27,123,127,99,111,115,87,103,107,79,91,99,71,83,87,59,71,79,51,63,71,43,55,63,39,255,255,115,235,219,87,215,187,67,195,155,47,175,123,31,155,91,19,135,67,7,115,43,0,255,255,255,255,219,219,255,187,187,255,155,155,255,123,123,255,95,95,255,63,63,255,31,31,255,0,0,239,0,0,227,0,0,215,0,0,203,0,0,191,0,0,179,0,0,167,0,0,155,0,0,139,0,0,127,0,0,115,0,0,103,0,0,91,0,0,79,0,0,67,0,0,231,231,255,199,199,255,171,171,255,143,143,255,115,115,255,83,83,255,55,55,255,27,27,255,0,0,255,0,0,227,0,0,203,0,0,179,0,0,155,0,0,131,0,0,107,0,0,83,255,255,255,255,235,219,255,215,187,255,199,155,255,179,123,255,163,91,255,143,59,255,127,27,243,115,23,235,111,15,223,103,15,215,95,11,203,87,7,195,79,0,183,71,0,175,67,0,255,255,255,255,255,215,255,255,179,255,255,143,255,255,107,255,255,71,255,255,35,255,255,0,167,63,0,159,55,0,147,47,0,135,35,0,79,59,39,67,47,27,55,35,19,47,27,11,0,0,83,0,0,71,0,0,59,0,0,47,0,0,35,0,0,23,0,0,11,0,0,0,255,159,67,255,231,75,255,123,255,255,0,255,207,0,207,159,0,155,111,0,107,167,107,107],[28,0,0,55,21,10,48,14,7,95,67,67,255,227,227,52,24,24,45,17,17,38,10,10,34,7,7,70,49,28,59,39,14,48,28,7,41,21,0,98,53,39,91,46,32,84,39,24,255,163,163,247,152,152,244,145,145,237,135,135,233,128,128,226,120,120,223,110,110,215,103,103,208,96,96,205,88,88,198,81,81,194,78,78,187,71,71,183,64,64,176,56,56,173,53,53,166,46,46,162,42,42,155,39,39,151,32,32,144,28,28,141,24,24,134,21,21,130,17,17,123,14,14,119,10,10,112,7,7,109,7,7,102,7,7,98,0,0,91,0,0,87,0,0,255,209,199,255,202,188,255,195,177,255,188,167,255,184,160,255,177,149,255,170,138,255,167,131,255,160,117,247,152,110,240,145,103,233,138,96,226,131,88,219,124,81,212,117,74,208,113,71,198,110,67,187,103,64,180,99,60,173,96,56,166,88,53,155,85,49,148,78,46,141,74,42,134,71,39,123,64,35,112,60,32,102,56,28,95,49,24,84,42,21,73,39,17,66,32,14,240,213,213,233,206,206,226,199,199,223,195,195,215,188,188,208,181,181,205,177,177,198,170,170,191,163,163,187,160,160,180,152,152,176,149,149,169,142,142,162,135,135,159,131,131,151,124,124,144,117,117,141,113,113,134,106,106,127,99,99,123,96,96,116,88,88,109,81,81,105,78,78,98,71,71,91,64,64,87,60,60,80,53,53,77,49,49,70,42,42,63,35,35,59,32,32,134,227,99,127,213,92,119,199,85,112,184,78,109,170,71,102,156,64,95,142,56,87,131,49,84,117,42,77,103,39,70,88,32,63,74,24,55,60,21,48,46,14,45,32,10,38,21,7,198,149,128,191,142,120,183,135,113,176,128,106,169,120,99,166,113,96,159,110,88,151,103,81,144,96,78,137,88,71,134,85,67,127,78,60,119,74,56,112,67,49,105,60,46,102,56,42,169,117,88,155,106,74,144,96,67,134,85,56,119,74,46,109,64,39,98,53,32,87,46,24,137,113,88,127,103,78,119,96,71,109,88,64,102,78,53,91,71,46,84,64,39,77,56,35,255,227,103,237,195,78,219,167,60,201,138,42,183,110,28,166,81,17,148,60,7,130,39,0,255,227,227,255,195,195,255,167,167,255,138,138,255,110,110,255,85,85,255,56,56,255,28,28,255,0,0,240,0,0,230,0,0,219,0,0,208,0,0,198,0,0,187,0,0,176,0,0,166,0,0,151,0,0,141,0,0,130,0,0,119,0,0,109,0,0,98,0,0,87,0,0,233,206,227,205,177,227,180,152,227,155,128,227,130,103,227,102,74,227,77,49,227,52,24,227,28,0,227,28,0,202,28,0,181,28,0,160,28,0,138,28,0,117,28,0,96,28,0,74,255,227,227,255,209,195,255,192,167,255,177,138,255,160,110,255,145,81,255,128,53,255,113,24,244,103,21,237,99,14,226,92,14,219,85,10,208,78,7,201,71,0,191,64,0,183,60,0,255,227,227,255,227,192,255,227,160,255,227,128,255,227,96,255,227,64,255,227,32,255,227,0,176,56,0,169,49,0,159,42,0,148,32,0,98,53,35,87,42,24,77,32,17,70,24,10,28,0,74,28,0,64,28,0,53,28,0,42,28,0,32,28,0,21,28,0,10,28,0,0,255,142,60,255,206,67,255,110,227,255,0,227,212,0,184,169,0,138,127,0,96,176,96,96],[56,0,0,80,18,9,74,12,6,115,59,59,255,199,199,77,21,21,71,15,15,65,9,9,62,6,6,93,43,25,83,34,12,74,25,6,68,18,0,118,46,34,111,40,28,105,34,21,255,143,143,248,133,133,245,127,127,239,118,118,236,112,112,230,105,105,227,96,96,220,90,90,214,84,84,211,77,77,205,71,71,202,68,68,195,62,62,192,56,56,186,49,49,183,46,46,177,40,40,174,37,37,167,34,34,164,28,28,158,25,25,155,21,21,149,18,18,146,15,15,139,12,12,136,9,9,130,6,6,127,6,6,121,6,6,118,0,0,111,0,0,108,0,0,255,183,174,255,177,165,255,171,155,255,165,146,255,161,140,255,155,130,255,149,121,255,146,115,255,140,102,248,133,96,242,127,90,236,121,84,230,115,77,223,109,71,217,102,65,214,99,62,205,96,59,195,90,56,189,87,53,183,84,49,177,77,46,167,74,43,161,68,40,155,65,37,149,62,34,139,56,31,130,53,28,121,49,25,115,43,21,105,37,18,96,34,15,90,28,12,242,186,186,236,180,180,230,174,174,227,171,171,220,165,165,214,158,158,211,155,155,205,149,149,199,143,143,195,140,140,189,133,133,186,130,130,180,124,124,174,118,118,171,115,115,164,109,109,158,102,102,155,99,99,149,93,93,143,87,87,139,84,84,133,77,77,127,71,71,124,68,68,118,62,62,111,56,56,108,53,53,102,46,46,99,43,43,93,37,37,87,31,31,83,28,28,149,199,87,143,186,81,136,174,74,130,161,68,127,149,62,121,137,56,115,124,49,108,115,43,105,102,37,99,90,34,93,77,28,87,65,21,80,53,18,74,40,12,71,28,9,65,18,6,205,130,112,199,124,105,192,118,99,186,112,93,180,105,87,177,99,84,171,96,77,164,90,71,158,84,68,152,77,62,149,74,59,143,68,53,136,65,49,130,59,43,124,53,40,121,49,37,180,102,77,167,93,65,158,84,59,149,74,49,136,65,40,127,56,34,118,46,28,108,40,21,152,99,77,143,90,68,136,84,62,127,77,56,121,68,46,111,62,40,105,56,34,99,49,31,255,199,90,239,171,68,223,146,53,208,121,37,192,96,25,177,71,15,161,53,6,146,34,0,255,199,199,255,171,171,255,146,146,255,121,121,255,96,96,255,74,74,255,49,49,255,25,25,255,0,0,242,0,0,233,0,0,223,0,0,214,0,0,205,0,0,195,0,0,186,0,0,177,0,0,164,0,0,155,0,0,146,0,0,136,0,0,127,0,0,118,0,0,108,0,0,236,180,199,211,155,199,189,133,199,167,112,199,146,90,199,121,65,199,99,43,199,77,21,199,56,0,199,56,0,177,56,0,158,56,0,140,56,0,121,56,0,102,56,0,84,56,0,65,255,199,199,255,183,171,255,168,146,255,155,121,255,140,96,255,127,71,255,112,46,255,99,21,245,90,18,239,87,12,230,81,12,223,74,9,214,68,6,208,62,0,199,56,0,192,53,0,255,199,199,255,199,168,255,199,140,255,199,112,255,199,84,255,199,56,255,199,28,255,199,0,186,49,0,180,43,0,171,37,0,161,28,0,118,46,31,108,37,21,99,28,15,93,21,9,56,0,65,56,0,56,56,0,46,56,0,37,56,0,28,56,0,18,56,0,9,56,0,0,255,124,53,255,180,59,255,96,199,255,0,199,217,0,161,180,0,121,143,0,84,186,84,84],[85,0,0,105,16,8,100,10,5,135,50,50,255,170,170,103,18,18,97,13,13,92,8,8,89,5,5,116,37,21,108,29,10,100,21,5,95,16,0,137,40,29,132,34,24,127,29,18,255,122,122,249,114,114,247,109,109,241,101,101,239,96,96,233,90,90,231,82,82,225,77,77,220,72,72,217,66,66,212,61,61,209,58,58,204,53,53,201,48,48,196,42,42,193,40,40,188,34,34,185,32,32,180,29,29,177,24,24,172,21,21,169,18,18,164,16,16,161,13,13,156,10,10,153,8,8,148,5,5,145,5,5,140,5,5,137,0,0,132,0,0,129,0,0,255,157,149,255,152,141,255,146,133,255,141,125,255,138,120,255,133,112,255,128,104,255,125,98,255,120,88,249,114,82,244,109,77,239,104,72,233,98,66,228,93,61,223,88,56,220,85,53,212,82,50,204,77,48,199,74,45,193,72,42,188,66,40,180,64,37,175,58,34,169,56,32,164,53,29,156,48,26,148,45,24,140,42,21,135,37,18,127,32,16,119,29,13,113,24,10,244,160,160,239,154,154,233,149,149,231,146,146,225,141,141,220,136,136,217,133,133,212,128,128,207,122,122,204,120,120,199,114,114,196,112,112,191,106,106,185,101,101,183,98,98,177,93,93,172,88,88,169,85,85,164,80,80,159,74,74,156,72,72,151,66,66,145,61,61,143,58,58,137,53,53,132,48,48,129,45,45,124,40,40,121,37,37,116,32,32,111,26,26,108,24,24,164,170,74,159,160,69,153,149,64,148,138,58,145,128,53,140,117,48,135,106,42,129,98,37,127,88,32,121,77,29,116,66,24,111,56,18,105,45,16,100,34,10,97,24,8,92,16,5,212,112,96,207,106,90,201,101,85,196,96,80,191,90,74,188,85,72,183,82,66,177,77,61,172,72,58,167,66,53,164,64,50,159,58,45,153,56,42,148,50,37,143,45,34,140,42,32,191,88,66,180,80,56,172,72,50,164,64,42,153,56,34,145,48,29,137,40,24,129,34,18,167,85,66,159,77,58,153,72,53,145,66,48,140,58,40,132,53,34,127,48,29,121,42,26,255,170,77,241,146,58,228,125,45,215,104,32,201,82,21,188,61,13,175,45,5,161,29,0,255,170,170,255,146,146,255,125,125,255,104,104,255,82,82,255,64,64,255,42,42,255,21,21,255,0,0,244,0,0,236,0,0,228,0,0,220,0,0,212,0,0,204,0,0,196,0,0,188,0,0,177,0,0,169,0,0,161,0,0,153,0,0,145,0,0,137,0,0,129,0,0,239,154,170,217,133,170,199,114,170,180,96,170,161,77,170,140,56,170,121,37,170,103,18,170,85,0,170,85,0,152,85,0,136,85,0,120,85,0,104,85,0,88,85,0,72,85,0,56,255,170,170,255,157,146,255,144,125,255,133,104,255,120,82,255,109,61,255,96,40,255,85,18,247,77,16,241,74,10,233,69,10,228,64,8,220,58,5,215,53,0,207,48,0,201,45,0,255,170,170,255,170,144,255,170,120,255,170,96,255,170,72,255,170,48,255,170,24,255,170,0,196,42,0,191,37,0,183,32,0,175,24,0,137,40,26,129,32,18,121,24,13,116,18,8,85,0,56,85,0,48,85,0,40,85,0,32,85,0,24,85,0,16,85,0,8,85,0,0,255,106,45,255,154,50,255,82,170,255,0,170,223,0,138,191,0,104,159,0,72,196,72,72],[113,0,0,130,13,7,126,9,4,155,42,42,255,142,142,128,15,15,123,11,11,119,7,7,117,4,4,139,31,18,132,24,9,126,18,4,121,13,0,157,33,24,152,29,20,148,24,15,255,102,102,250,95,95,248,91,91,243,84,84,241,80,80,237,75,75,235,69,69,230,64,64,226,60,60,223,55,55,219,51,51,217,49,49,212,44,44,210,40,40,206,35,35,203,33,33,199,29,29,197,27,27,192,24,24,190,20,20,186,18,18,183,15,15,179,13,13,177,11,11,172,9,9,170,7,7,166,4,4,163,4,4,159,4,4,157,0,0,152,0,0,150,0,0,255,131,124,255,127,118,255,122,111,255,118,104,255,115,100,255,111,93,255,107,87,255,104,82,255,100,73,250,95,69,246,91,64,241,87,60,237,82,55,232,78,51,228,73,47,226,71,44,219,69,42,212,64,40,208,62,38,203,60,35,199,55,33,192,53,31,188,49,29,183,47,27,179,44,24,172,40,22,166,38,20,159,35,18,155,31,15,148,27,13,141,24,11,137,20,9,246,133,133,241,129,129,237,124,124,235,122,122,230,118,118,226,113,113,223,111,111,219,107,107,215,102,102,212,100,100,208,95,95,206,93,93,201,89,89,197,84,84,195,82,82,190,78,78,186,73,73,183,71,71,179,67,67,175,62,62,172,60,60,168,55,55,163,51,51,161,49,49,157,44,44,152,40,40,150,38,38,146,33,33,143,31,31,139,27,27,135,22,22,132,20,20,179,142,62,175,133,58,170,124,53,166,115,49,163,107,44,159,98,40,155,89,35,150,82,31,148,73,27,143,64,24,139,55,20,135,47,15,130,38,13,126,29,9,123,20,7,119,13,4,219,93,80,215,89,75,210,84,71,206,80,67,201,75,62,199,71,60,195,69,55,190,64,51,186,60,49,181,55,44,179,53,42,175,49,38,170,47,35,166,42,31,161,38,29,159,35,27,201,73,55,192,67,47,186,60,42,179,53,35,170,47,29,163,40,24,157,33,20,150,29,15,181,71,55,175,64,49,170,60,44,163,55,40,159,49,33,152,44,29,148,40,24,143,35,22,255,142,64,243,122,49,232,104,38,221,87,27,210,69,18,199,51,11,188,38,4,177,24,0,255,142,142,255,122,122,255,104,104,255,87,87,255,69,69,255,53,53,255,35,35,255,18,18,255,0,0,246,0,0,239,0,0,232,0,0,226,0,0,219,0,0,212,0,0,206,0,0,199,0,0,190,0,0,183,0,0,177,0,0,170,0,0,163,0,0,157,0,0,150,0,0,241,129,142,223,111,142,208,95,142,192,80,142,177,64,142,159,47,142,143,31,142,128,15,142,113,0,142,113,0,127,113,0,113,113,0,100,113,0,87,113,0,73,113,0,60,113,0,47,255,142,142,255,131,122,255,120,104,255,111,87,255,100,69,255,91,51,255,80,33,255,71,15,248,64,13,243,62,9,237,58,9,232,53,7,226,49,4,221,44,0,215,40,0,210,38,0,255,142,142,255,142,120,255,142,100,255,142,80,255,142,60,255,142,40,255,142,20,255,142,0,206,35,0,201,31,0,195,27,0,188,20,0,157,33,22,150,27,15,143,20,11,139,15,7,113,0,47,113,0,40,113,0,33,113,0,27,113,0,20,113,0,13,113,0,7,113,0,0,255,89,38,255,129,42,255,69,142,255,0,142,228,0,115,201,0,87,175,0,60,206,60,60],[141,0,0,155,11,5,151,7,4,175,34,34,255,114,114,153,12,12,150,9,9,146,5,5,144,4,4,162,25,14,157,20,7,151,14,4,148,11,0,176,27,20,173,23,16,169,20,12,255,82,82,251,76,76,249,73,73,246,68,68,244,64,64,240,60,60,239,55,55,235,52,52,231,48,48,230,44,44,226,41,41,224,39,39,221,36,36,219,32,32,215,28,28,214,27,27,210,23,23,208,21,21,205,20,20,203,16,16,199,14,14,198,12,12,194,11,11,192,9,9,189,7,7,187,5,5,183,4,4,182,4,4,178,4,4,176,0,0,173,0,0,171,0,0,255,105,100,255,101,94,255,98,89,255,94,84,255,92,80,255,89,75,255,85,69,255,84,66,255,80,59,251,76,55,247,73,52,244,69,48,240,66,44,237,62,41,233,59,37,231,57,36,226,55,34,221,52,32,217,50,30,214,48,28,210,44,27,205,43,25,201,39,23,198,37,21,194,36,20,189,32,18,183,30,16,178,28,14,175,25,12,169,21,11,164,20,9,160,16,7,247,107,107,244,103,103,240,100,100,239,98,98,235,94,94,231,91,91,230,89,89,226,85,85,223,82,82,221,80,80,217,76,76,215,75,75,212,71,71,208,68,68,207,66,66,203,62,62,199,59,59,198,57,57,194,53,53,191,50,50,189,48,48,185,44,44,182,41,41,180,39,39,176,36,36,173,32,32,171,30,30,167,27,27,166,25,25,162,21,21,159,18,18,157,16,16,194,114,50,191,107,46,187,100,43,183,92,39,182,85,36,178,78,32,175,71,28,171,66,25,169,59,21,166,52,20,162,44,16,159,37,12,155,30,11,151,23,7,150,16,5,146,11,4,226,75,64,223,71,60,219,68,57,215,64,53,212,60,50,210,57,48,207,55,44,203,52,41,199,48,39,196,44,36,194,43,34,191,39,30,187,37,28,183,34,25,180,30,23,178,28,21,212,59,44,205,53,37,199,48,34,194,43,28,187,37,23,182,32,20,176,27,16,171,23,12,196,57,44,191,52,39,187,48,36,182,44,32,178,39,27,173,36,23,169,32,20,166,28,18,255,114,52,246,98,39,237,84,30,228,69,21,219,55,14,210,41,9,201,30,4,192,20,0,255,114,114,255,98,98,255,84,84,255,69,69,255,55,55,255,43,43,255,28,28,255,14,14,255,0,0,247,0,0,242,0,0,237,0,0,231,0,0,226,0,0,221,0,0,215,0,0,210,0,0,203,0,0,198,0,0,192,0,0,187,0,0,182,0,0,176,0,0,171,0,0,244,103,114,230,89,114,217,76,114,205,64,114,192,52,114,178,37,114,166,25,114,153,12,114,141,0,114,141,0,101,141,0,91,141,0,80,141,0,69,141,0,59,141,0,48,141,0,37,255,114,114,255,105,98,255,96,84,255,89,69,255,80,55,255,73,41,255,64,27,255,57,12,249,52,11,246,50,7,240,46,7,237,43,5,231,39,4,228,36,0,223,32,0,219,30,0,255,114,114,255,114,96,255,114,80,255,114,64,255,114,48,255,114,32,255,114,16,255,114,0,215,28,0,212,25,0,207,21,0,201,16,0,176,27,18,171,21,12,166,16,9,162,12,5,141,0,37,141,0,32,141,0,27,141,0,21,141,0,16,141,0,11,141,0,5,141,0,0,255,71,30,255,103,34,255,55,114,255,0,114,233,0,92,212,0,69,191,0,48,215,48,48],[170,0,0,180,8,4,177,5,3,195,25,25,255,85,85,179,9,9,176,7,7,173,4,4,172,3,3,185,19,11,181,15,5,177,11,3,175,8,0,196,20,15,193,17,12,191,15,9,255,61,61,252,57,57,251,55,55,248,51,51,247,48,48,244,45,45,243,41,41,240,39,39,237,36,36,236,33,33,233,31,31,232,29,29,229,27,27,228,24,24,225,21,21,224,20,20,221,17,17,220,16,16,217,15,15,216,12,12,213,11,11,212,9,9,209,8,8,208,7,7,205,5,5,204,4,4,201,3,3,200,3,3,197,3,3,196,0,0,193,0,0,192,0,0,255,79,75,255,76,71,255,73,67,255,71,63,255,69,60,255,67,56,255,64,52,255,63,49,255,60,44,252,57,41,249,55,39,247,52,36,244,49,33,241,47,31,239,44,28,237,43,27,233,41,25,229,39,24,227,37,23,224,36,21,221,33,20,217,32,19,215,29,17,212,28,16,209,27,15,205,24,13,201,23,12,197,21,11,195,19,9,191,16,8,187,15,7,184,12,5,249,80,80,247,77,77,244,75,75,243,73,73,240,71,71,237,68,68,236,67,67,233,64,64,231,61,61,229,60,60,227,57,57,225,56,56,223,53,53,220,51,51,219,49,49,216,47,47,213,44,44,212,43,43,209,40,40,207,37,37,205,36,36,203,33,33,200,31,31,199,29,29,196,27,27,193,24,24,192,23,23,189,20,20,188,19,19,185,16,16,183,13,13,181,12,12,209,85,37,207,80,35,204,75,32,201,69,29,200,64,27,197,59,24,195,53,21,192,49,19,191,44,16,188,39,15,185,33,12,183,28,9,180,23,8,177,17,5,176,12,4,173,8,3,233,56,48,231,53,45,228,51,43,225,48,40,223,45,37,221,43,36,219,41,33,216,39,31,213,36,29,211,33,27,209,32,25,207,29,23,204,28,21,201,25,19,199,23,17,197,21,16,223,44,33,217,40,28,213,36,25,209,32,21,204,28,17,200,24,15,196,20,12,192,17,9,211,43,33,207,39,29,204,36,27,200,33,24,197,29,20,193,27,17,191,24,15,188,21,13,255,85,39,248,73,29,241,63,23,235,52,16,228,41,11,221,31,7,215,23,3,208,15,0,255,85,85,255,73,73,255,63,63,255,52,52,255,41,41,255,32,32,255,21,21,255,11,11,255,0,0,249,0,0,245,0,0,241,0,0,237,0,0,233,0,0,229,0,0,225,0,0,221,0,0,216,0,0,212,0,0,208,0,0,204,0,0,200,0,0,196,0,0,192,0,0,247,77,85,236,67,85,227,57,85,217,48,85,208,39,85,197,28,85,188,19,85,179,9,85,170,0,85,170,0,76,170,0,68,170,0,60,170,0,52,170,0,44,170,0,36,170,0,28,255,85,85,255,79,73,255,72,63,255,67,52,255,60,41,255,55,31,255,48,20,255,43,9,251,39,8,248,37,5,244,35,5,241,32,4,237,29,3,235,27,0,231,24,0,228,23,0,255,85,85,255,85,72,255,85,60,255,85,48,255,85,36,255,85,24,255,85,12,255,85,0,225,21,0,223,19,0,219,16,0,215,12,0,196,20,13,192,16,9,188,12,7,185,9,4,170,0,28,170,0,24,170,0,20,170,0,16,170,0,12,170,0,8,170,0,4,170,0,0,255,53,23,255,77,25,255,41,85,255,0,85,239,0,69,223,0,52,207,0,36,225,36,36],[198,0,0,205,6,3,203,4,2,215,17,17,255,57,57,204,6,6,202,5,5,200,3,3,199,2,2,208,13,7,206,10,4,203,7,2,201,6,0,215,14,10,214,12,8,212,10,6,255,41,41,253,38,38,252,37,37,250,34,34,249,32,32,247,30,30,247,28,28,245,26,26,243,24,24,242,22,22,240,21,21,239,20,20,238,18,18,237,16,16,235,14,14,234,14,14,232,12,12,231,11,11,230,10,10,229,8,8,227,7,7,226,6,6,224,6,6,223,5,5,222,4,4,221,3,3,219,2,2,218,2,2,216,2,2,215,0,0,214,0,0,213,0,0,255,53,50,255,51,47,255,49,45,255,47,42,255,46,40,255,45,38,255,43,35,255,42,33,255,40,30,253,38,28,251,37,26,249,35,24,247,33,22,246,31,21,244,30,19,243,29,18,240,28,17,238,26,16,236,25,15,234,24,14,232,22,14,230,22,13,228,20,12,226,19,11,224,18,10,222,16,9,219,15,8,216,14,7,215,13,6,212,11,6,209,10,5,207,8,4,251,54,54,249,52,52,247,50,50,247,49,49,245,47,47,243,46,46,242,45,45,240,43,43,239,41,41,238,40,40,236,38,38,235,38,38,233,36,36,231,34,34,231,33,33,229,31,31,227,30,30,226,29,29,224,27,27,223,25,25,222,24,24,220,22,22,218,21,21,217,20,20,215,18,18,214,16,16,213,15,15,211,14,14,210,13,13,208,11,11,207,9,9,206,8,8,224,57,25,223,54,23,221,50,22,219,46,20,218,43,18,216,39,16,215,36,14,213,33,13,212,30,11,210,26,10,208,22,8,207,19,6,205,15,6,203,12,4,202,8,3,200,6,2,240,38,32,239,36,30,237,34,29,235,32,27,233,30,25,232,29,24,231,28,22,229,26,21,227,24,20,225,22,18,224,22,17,223,20,15,221,19,14,219,17,13,217,15,12,216,14,11,233,30,22,230,27,19,227,24,17,224,22,14,221,19,12,218,16,10,215,14,8,213,12,6,225,29,22,223,26,20,221,24,18,218,22,16,216,20,14,214,18,12,212,16,10,210,14,9,255,57,26,250,49,20,246,42,15,241,35,11,237,28,7,232,21,5,228,15,2,223,10,0,255,57,57,255,49,49,255,42,42,255,35,35,255,28,28,255,22,22,255,14,14,255,7,7,255,0,0,251,0,0,248,0,0,246,0,0,243,0,0,240,0,0,238,0,0,235,0,0,232,0,0,229,0,0,226,0,0,223,0,0,221,0,0,218,0,0,215,0,0,213,0,0,249,52,57,242,45,57,236,38,57,230,32,57,223,26,57,216,19,57,210,13,57,204,6,57,198,0,57,198,0,51,198,0,46,198,0,40,198,0,35,198,0,30,198,0,24,198,0,19,255,57,57,255,53,49,255,48,42,255,45,35,255,40,28,255,37,21,255,32,14,255,29,6,252,26,6,250,25,4,247,23,4,246,22,3,243,20,2,241,18,0,239,16,0,237,15,0,255,57,57,255,57,48,255,57,40,255,57,32,255,57,24,255,57,16,255,57,8,255,57,0,235,14,0,233,13,0,231,11,0,228,8,0,215,14,9,213,11,6,210,8,5,208,6,3,198,0,19,198,0,16,198,0,14,198,0,11,198,0,8,198,0,6,198,0,3,198,0,0,255,36,15,255,52,17,255,28,57,255,0,57,244,0,46,233,0,35,223,0,24,235,24,24],[226,0,0,230,3,2,229,2,1,235,9,9,255,29,29,229,3,3,228,3,3,227,2,2,227,1,1,231,7,4,230,5,2,229,4,1,228,3,0,235,7,5,234,6,4,233,5,3,255,21,21,254,19,19,253,19,19,252,17,17,252,16,16,251,15,15,251,14,14,250,13,13,249,12,12,248,11,11,247,11,11,247,10,10,246,9,9,246,8,8,245,7,7,244,7,7,243,6,6,243,6,6,242,5,5,242,4,4,241,4,4,240,3,3,239,3,3,239,3,3,238,2,2,238,2,2,237,1,1,236,1,1,235,1,1,235,0,0,234,0,0,234,0,0,255,27,25,255,26,24,255,25,23,255,24,21,255,23,20,255,23,19,255,22,18,255,21,17,255,20,15,254,19,14,253,19,13,252,18,12,251,17,11,250,16,11,249,15,10,249,15,9,247,14,9,246,13,8,245,13,8,244,12,7,243,11,7,242,11,7,241,10,6,240,10,6,239,9,5,238,8,5,237,8,4,235,7,4,235,7,3,233,6,3,232,5,3,231,4,2,253,27,27,252,26,26,251,25,25,251,25,25,250,24,24,249,23,23,248,23,23,247,22,22,247,21,21,246,20,20,245,19,19,245,19,19,244,18,18,243,17,17,243,17,17,242,16,16,241,15,15,240,15,15,239,14,14,239,13,13,238,12,12,237,11,11,236,11,11,236,10,10,235,9,9,234,8,8,234,8,8,233,7,7,232,7,7,231,6,6,231,5,5,230,4,4,239,29,13,239,27,12,238,25,11,237,23,10,236,22,9,235,20,8,235,18,7,234,17,7,233,15,6,232,13,5,231,11,4,231,10,3,230,8,3,229,6,2,228,4,2,227,3,1,247,19,16,247,18,15,246,17,15,245,16,14,244,15,13,243,15,12,243,14,11,242,13,11,241,12,10,240,11,9,239,11,9,239,10,8,238,10,7,237,9,7,236,8,6,235,7,6,244,15,11,242,14,10,241,12,9,239,11,7,238,10,6,236,8,5,235,7,4,234,6,3,240,15,11,239,13,10,238,12,9,236,11,8,235,10,7,234,9,6,233,8,5,232,7,5,255,29,13,252,25,10,250,21,8,248,18,6,246,14,4,243,11,3,241,8,1,239,5,0,255,29,29,255,25,25,255,21,21,255,18,18,255,14,14,255,11,11,255,7,7,255,4,4,255,0,0,253,0,0,251,0,0,250,0,0,249,0,0,247,0,0,246,0,0,245,0,0,243,0,0,242,0,0,240,0,0,239,0,0,238,0,0,236,0,0,235,0,0,234,0,0,252,26,29,248,23,29,245,19,29,242,16,29,239,13,29,235,10,29,232,7,29,229,3,29,226,0,29,226,0,26,226,0,23,226,0,20,226,0,18,226,0,15,226,0,12,226,0,10,255,29,29,255,27,25,255,24,21,255,23,18,255,20,14,255,19,11,255,16,7,255,15,3,253,13,3,252,13,2,251,12,2,250,11,2,249,10,1,248,9,0,247,8,0,246,8,0,255,29,29,255,29,24,255,29,20,255,29,16,255,29,12,255,29,8,255,29,4,255,29,0,245,7,0,244,7,0,243,6,0,241,4,0,235,7,5,234,6,3,232,4,3,231,3,2,226,0,10,226,0,8,226,0,7,226,0,6,226,0,4,226,0,3,226,0,2,226,0,0,255,18,8,255,26,9,255,14,29,255,0,29,249,0,23,244,0,18,239,0,12,245,12,12],[26,23,8,54,43,18,47,36,14,92,88,75,250,247,232,50,46,32,43,39,25,36,32,18,33,29,14,68,71,35,57,60,21,47,50,14,40,43,8,96,74,46,89,67,39,82,60,32,250,183,169,243,172,159,240,165,152,233,155,141,229,148,134,222,141,127,219,130,117,211,123,110,204,116,103,201,109,96,194,102,89,190,99,85,183,92,78,180,85,71,173,78,63,169,74,60,162,67,53,159,64,49,152,60,46,148,53,39,141,50,35,138,46,32,131,43,28,127,39,25,120,36,21,117,32,18,110,29,14,106,29,14,99,29,14,96,23,8,89,23,8,85,23,8,250,229,204,250,222,194,250,215,183,250,208,173,250,205,166,250,198,155,250,191,145,250,187,138,250,179,124,243,172,117,236,165,110,229,158,103,222,151,96,215,144,89,208,137,82,204,134,78,194,130,75,183,123,71,176,120,67,169,116,63,162,109,60,152,106,56,145,99,53,138,95,49,131,92,46,120,85,42,110,81,39,99,78,35,92,71,32,82,64,28,71,60,25,64,53,21,236,233,218,229,226,211,222,219,204,219,215,201,211,208,194,204,201,187,201,198,183,194,191,176,187,183,169,183,179,166,176,172,159,173,169,155,166,162,148,159,155,141,155,151,138,148,144,131,141,137,124,138,134,120,131,127,113,124,120,106,120,116,103,113,109,96,106,102,89,103,99,85,96,92,78,89,85,71,85,81,67,78,74,60,75,71,56,68,64,49,61,57,42,57,53,39,131,247,106,124,233,99,117,219,92,110,205,85,106,191,78,99,176,71,92,162,63,85,151,56,82,137,49,75,123,46,68,109,39,61,95,32,54,81,28,47,67,21,43,53,18,36,43,14,194,169,134,187,162,127,180,155,120,173,148,113,166,141,106,162,134,103,155,130,96,148,123,89,141,116,85,134,109,78,131,106,75,124,99,67,117,95,63,110,88,56,103,81,53,99,78,49,166,137,96,152,127,82,141,116,75,131,106,63,117,95,53,106,85,46,96,74,39,85,67,32,134,134,96,124,123,85,117,116,78,106,109,71,99,99,60,89,92,53,82,85,46,75,78,42,250,247,110,233,215,85,215,187,67,197,158,49,180,130,35,162,102,25,145,81,14,127,60,8,250,247,232,250,215,201,250,187,173,250,158,145,250,130,117,250,106,92,250,78,63,250,50,35,250,23,8,236,23,8,226,23,8,215,23,8,204,23,8,194,23,8,183,23,8,173,23,8,162,23,8,148,23,8,138,23,8,127,23,8,117,23,8,106,23,8,96,23,8,85,23,8,229,226,232,201,198,232,176,172,232,152,148,232,127,123,232,99,95,232,75,71,232,50,46,232,26,23,232,26,23,208,26,23,187,26,23,166,26,23,145,26,23,124,26,23,103,26,23,82,250,247,232,250,229,201,250,212,173,250,198,145,250,179,117,250,165,89,250,148,60,250,134,32,240,123,28,233,120,21,222,113,21,215,106,18,204,99,14,197,92,8,187,85,8,180,81,8,250,247,232,250,247,197,250,247,166,250,247,134,250,247,103,250,247,71,250,247,39,250,247,8,173,78,8,166,71,8,155,64,8,145,53,8,96,74,42,85,64,32,75,53,25,68,46,18,26,23,82,26,23,71,26,23,60,26,23,49,26,23,39,26,23,28,26,23,18,26,23,8,250,162,67,250,226,75,250,130,232,250,23,232,208,23,190,166,23,145,124,23,103,173,116,103],[53,46,17,77,63,25,71,57,22,110,102,74,245,238,209,74,66,37,68,60,31,62,54,25,59,51,22,89,87,40,80,78,28,71,69,22,65,63,17,113,90,49,107,84,43,101,78,37,245,183,155,239,174,146,236,168,140,230,159,131,227,153,125,221,147,119,218,138,110,212,132,104,206,126,98,203,120,92,197,114,86,194,111,83,188,105,77,185,99,71,179,93,64,176,90,61,170,84,55,167,81,52,161,78,49,158,72,43,152,69,40,149,66,37,143,63,34,140,60,31,134,57,28,131,54,25,125,51,22,122,51,22,116,51,22,113,46,17,107,46,17,104,46,17,245,223,185,245,217,176,245,211,167,245,205,158,245,202,152,245,196,143,245,190,134,245,187,128,245,180,116,239,174,110,233,168,104,227,162,98,221,156,92,215,150,86,209,144,80,206,141,77,197,138,74,188,132,71,182,129,67,176,126,64,170,120,61,161,117,58,155,111,55,149,108,52,143,105,49,134,99,46,125,96,43,116,93,40,110,87,37,101,81,34,92,78,31,86,72,28,233,226,197,227,220,191,221,214,185,218,211,182,212,205,176,206,199,170,203,196,167,197,190,161,191,183,155,188,180,152,182,174,146,179,171,143,173,165,137,167,159,131,164,156,128,158,150,122,152,144,116,149,141,113,143,135,107,137,129,101,134,126,98,128,120,92,122,114,86,119,111,83,113,105,77,107,99,71,104,96,67,98,90,61,95,87,58,89,81,52,83,75,46,80,72,43,143,238,101,137,226,95,131,214,89,125,202,83,122,190,77,116,177,71,110,165,64,104,156,58,101,144,52,95,132,49,89,120,43,83,108,37,77,96,34,71,84,28,68,72,25,62,63,22,197,171,125,191,165,119,185,159,113,179,153,107,173,147,101,170,141,98,164,138,92,158,132,86,152,126,83,146,120,77,143,117,74,137,111,67,131,108,64,125,102,58,119,96,55,116,93,52,173,144,92,161,135,80,152,126,74,143,117,64,131,108,55,122,99,49,113,90,43,104,84,37,146,141,92,137,132,83,131,126,77,122,120,71,116,111,61,107,105,55,101,99,49,95,93,46,245,238,104,230,211,83,215,187,67,200,162,52,185,138,40,170,114,31,155,96,22,140,78,17,245,238,209,245,211,182,245,187,158,245,162,134,245,138,110,245,117,89,245,93,64,245,69,40,245,46,17,233,46,17,224,46,17,215,46,17,206,46,17,197,46,17,188,46,17,179,46,17,170,46,17,158,46,17,149,46,17,140,46,17,131,46,17,122,46,17,113,46,17,104,46,17,227,220,209,203,196,209,182,174,209,161,153,209,140,132,209,116,108,209,95,87,209,74,66,209,53,46,209,53,46,188,53,46,170,53,46,152,53,46,134,53,46,116,53,46,98,53,46,80,245,238,209,245,223,182,245,208,158,245,196,134,245,180,110,245,168,86,245,153,61,245,141,37,236,132,34,230,129,28,221,123,28,215,117,25,206,111,22,200,105,17,191,99,17,185,96,17,245,238,209,245,238,179,245,238,152,245,238,125,245,238,98,245,238,71,245,238,43,245,238,17,179,93,17,173,87,17,164,81,17,155,72,17,113,90,46,104,81,37,95,72,31,89,66,25,53,46,80,53,46,71,53,46,61,53,46,52,53,46,43,53,46,34,53,46,25,53,46,17,245,165,67,245,220,74,245,138,209,245,46,209,209,46,173,173,46,134,137,46,98,179,126,98],[80,69,25,100,84,32,95,79,30,127,116,73,240,230,186,97,86,42,92,81,37,87,76,32,85,74,30,110,104,45,102,96,35,95,89,30,90,84,25,130,106,52,125,101,47,120,96,42,240,184,141,235,176,133,233,171,128,228,164,121,225,159,116,220,154,111,218,146,103,212,141,98,207,136,93,205,131,88,200,126,83,197,124,81,192,119,76,190,114,71,185,109,65,182,106,62,177,101,57,175,99,55,170,96,52,167,91,47,162,89,45,160,86,42,155,84,40,152,81,37,147,79,35,145,76,32,140,74,30,137,74,30,132,74,30,130,69,25,125,69,25,122,69,25,240,217,166,240,212,158,240,207,151,240,202,143,240,200,138,240,195,131,240,190,123,240,187,118,240,181,108,235,176,103,230,171,98,225,166,93,220,161,88,215,156,83,210,151,78,207,149,76,200,146,73,192,141,71,187,139,67,182,136,65,177,131,62,170,129,60,165,124,57,160,121,55,155,119,52,147,114,50,140,111,47,132,109,45,127,104,42,120,99,40,112,96,37,107,91,35,230,220,176,225,215,171,220,210,166,218,207,163,212,202,158,207,197,153,205,195,151,200,190,146,195,184,141,192,181,138,187,176,133,185,174,131,180,169,126,175,164,121,172,161,118,167,156,113,162,151,108,160,149,106,155,144,101,150,139,96,147,136,93,142,131,88,137,126,83,135,124,81,130,119,76,125,114,71,122,111,67,117,106,62,115,104,60,110,99,55,105,94,50,102,91,47,155,230,96,150,220,91,145,210,86,140,200,81,137,190,76,132,179,71,127,169,65,122,161,60,120,151,55,115,141,52,110,131,47,105,121,42,100,111,40,95,101,35,92,91,32,87,84,30,200,174,116,195,169,111,190,164,106,185,159,101,180,154,96,177,149,93,172,146,88,167,141,83,162,136,81,157,131,76,155,129,73,150,124,67,145,121,65,140,116,60,135,111,57,132,109,55,180,151,88,170,144,78,162,136,73,155,129,65,145,121,57,137,114,52,130,106,47,122,101,42,157,149,88,150,141,81,145,136,76,137,131,71,132,124,62,125,119,57,120,114,52,115,109,50,240,230,98,228,207,81,215,187,67,202,166,55,190,146,45,177,126,37,165,111,30,152,96,25,240,230,186,240,207,163,240,187,143,240,166,123,240,146,103,240,129,86,240,109,65,240,89,45,240,69,25,230,69,25,223,69,25,215,69,25,207,69,25,200,69,25,192,69,25,185,69,25,177,69,25,167,69,25,160,69,25,152,69,25,145,69,25,137,69,25,130,69,25,122,69,25,225,215,186,205,195,186,187,176,186,170,159,186,152,141,186,132,121,186,115,104,186,97,86,186,80,69,186,80,69,168,80,69,153,80,69,138,80,69,123,80,69,108,80,69,93,80,69,78,240,230,186,240,217,163,240,205,143,240,195,123,240,181,103,240,171,83,240,159,62,240,149,42,233,141,40,228,139,35,220,134,35,215,129,32,207,124,30,202,119,25,195,114,25,190,111,25,240,230,186,240,230,161,240,230,138,240,230,116,240,230,93,240,230,71,240,230,47,240,230,25,185,109,25,180,104,25,172,99,25,165,91,25,130,106,50,122,99,42,115,91,37,110,86,32,80,69,78,80,69,71,80,69,62,80,69,55,80,69,47,80,69,40,80,69,32,80,69,25,240,169,67,240,215,73,240,146,186,240,69,186,210,69,156,180,69,123,150,69,93,185,136,93],[107,93,34,123,104,40,119,100,38,145,130,72,235,221,162,121,106,48,117,102,44,113,98,40,111,96,38,131,120,50,125,114,42,119,108,38,115,104,34,147,122,56,143,118,52,139,114,48,235,184,126,231,178,120,229,174,116,225,168,110,223,164,106,219,160,102,217,154,96,213,150,92,209,146,88,207,142,84,203,138,80,201,136,78,197,132,74,195,128,70,191,124,66,189,122,64,185,118,60,183,116,58,179,114,56,177,110,52,173,108,50,171,106,48,167,104,46,165,102,44,161,100,42,159,98,40,155,96,38,153,96,38,149,96,38,147,93,34,143,93,34,141,93,34,235,211,146,235,207,140,235,203,134,235,199,128,235,197,124,235,193,118,235,189,112,235,187,108,235,182,100,231,178,96,227,174,92,223,170,88,219,166,84,215,162,80,211,158,76,209,156,74,203,154,72,197,150,70,193,148,68,189,146,66,185,142,64,179,140,62,175,136,60,171,134,58,167,132,56,161,128,54,155,126,52,149,124,50,145,120,48,139,116,46,133,114,44,129,110,42,227,213,154,223,209,150,219,205,146,217,203,144,213,199,140,209,195,136,207,193,134,203,189,130,199,184,126,197,182,124,193,178,120,191,176,118,187,172,114,183,168,110,181,166,108,177,162,104,173,158,100,171,156,98,167,152,94,163,148,90,161,146,88,157,142,84,153,138,80,151,136,78,147,132,74,143,128,70,141,126,68,137,122,64,135,120,62,131,116,58,127,112,54,125,110,52,167,221,90,163,213,86,159,205,82,155,197,78,153,189,74,149,180,70,145,172,66,141,166,62,139,158,58,135,150,56,131,142,52,127,134,48,123,126,46,119,118,42,117,110,40,113,104,38,203,176,106,199,172,102,195,168,98,191,164,94,187,160,90,185,156,88,181,154,84,177,150,80,173,146,78,169,142,74,167,140,72,163,136,68,159,134,66,155,130,62,151,126,60,149,124,58,187,158,84,179,152,76,173,146,72,167,140,66,159,134,60,153,128,56,147,122,52,141,118,48,169,156,84,163,150,78,159,146,74,153,142,70,149,136,64,143,132,60,139,128,56,135,124,54,235,221,92,225,203,78,215,187,68,205,170,58,195,154,50,185,138,44,175,126,38,165,114,34,235,221,162,235,203,144,235,187,128,235,170,112,235,154,96,235,140,82,235,124,66,235,108,50,235,93,34,227,93,34,221,93,34,215,93,34,209,93,34,203,93,34,197,93,34,191,93,34,185,93,34,177,93,34,171,93,34,165,93,34,159,93,34,153,93,34,147,93,34,141,93,34,223,209,162,207,193,162,193,178,162,179,164,162,165,150,162,149,134,162,135,120,162,121,106,162,107,93,162,107,93,148,107,93,136,107,93,124,107,93,112,107,93,100,107,93,88,107,93,76,235,221,162,235,211,144,235,201,128,235,193,112,235,182,96,235,174,80,235,164,64,235,156,48,229,150,46,225,148,42,219,144,42,215,140,40,209,136,38,205,132,34,199,128,34,195,126,34,235,221,162,235,221,142,235,221,124,235,221,106,235,221,88,235,221,70,235,221,52,235,221,34,191,124,34,187,120,34,181,116,34,175,110,34,147,122,54,141,116,48,135,110,44,131,106,40,107,93,76,107,93,70,107,93,64,107,93,58,107,93,52,107,93,46,107,93,40,107,93,34,235,172,68,235,209,72,235,154,162,235,93,162,211,93,138,187,93,112,163,93,88,191,146,88],[0,32,0,28,52,10,21,45,7,66,97,66,224,255,224,24,55,24,17,48,17,10,41,10,7,38,7,42,80,28,31,69,14,21,59,7,14,52,0,70,83,38,63,76,31,56,69,24,224,192,161,217,181,150,213,174,143,206,164,133,203,157,126,196,150,119,192,139,108,185,132,101,178,125,94,175,118,87,168,111,80,164,108,77,157,101,70,154,94,63,147,87,56,143,83,52,136,76,45,133,73,42,126,69,38,122,62,31,115,59,28,112,55,24,105,52,21,101,48,17,94,45,14,91,41,10,84,38,7,80,38,7,73,38,7,70,32,0,63,32,0,59,32,0,224,237,196,224,230,185,224,223,175,224,216,164,224,213,157,224,206,147,224,199,136,224,195,129,224,188,115,217,181,108,210,174,101,203,167,94,196,160,87,189,153,80,182,146,73,178,143,70,168,139,66,157,132,63,150,129,59,143,125,56,136,118,52,126,115,49,119,108,45,112,104,42,105,101,38,94,94,35,84,90,31,73,87,28,66,80,24,56,73,21,45,69,17,38,62,14,210,241,210,203,234,203,196,227,196,192,223,192,185,216,185,178,209,178,175,206,175,168,199,168,161,192,161,157,188,157,150,181,150,147,178,147,140,171,140,133,164,133,129,160,129,122,153,122,115,146,115,112,143,112,105,136,105,98,129,98,94,125,94,87,118,87,80,111,80,77,108,77,70,101,70,63,94,63,59,90,59,52,83,52,49,80,49,42,73,42,35,66,35,31,62,31,105,255,98,98,241,91,91,227,84,84,213,77,80,199,70,73,185,63,66,171,56,59,160,49,56,146,42,49,132,38,42,118,31,35,104,24,28,90,21,21,76,14,17,62,10,10,52,7,168,178,126,161,171,119,154,164,112,147,157,105,140,150,98,136,143,94,129,139,87,122,132,80,115,125,77,108,118,70,105,115,66,98,108,59,91,104,56,84,97,49,77,90,45,73,87,42,140,146,87,126,136,73,115,125,66,105,115,56,91,104,45,80,94,38,70,83,31,59,76,24,108,143,87,98,132,77,91,125,70,80,118,63,73,108,52,63,101,45,56,94,38,49,87,35,224,255,101,206,223,77,189,195,59,171,167,42,154,139,28,136,111,17,119,90,7,101,69,0,224,255,224,224,223,192,224,195,164,224,167,136,224,139,108,224,115,84,224,87,56,224,59,28,224,32,0,210,32,0,199,32,0,189,32,0,178,32,0,168,32,0,157,32,0,147,32,0,136,32,0,122,32,0,112,32,0,101,32,0,91,32,0,80,32,0,70,32,0,59,32,0,203,234,224,175,206,224,150,181,224,126,157,224,101,132,224,73,104,224,49,80,224,24,55,224,0,32,224,0,32,199,0,32,178,0,32,157,0,32,136,0,32,115,0,32,94,0,32,73,224,255,224,224,237,192,224,220,164,224,206,136,224,188,108,224,174,80,224,157,52,224,143,24,213,132,21,206,129,14,196,122,14,189,115,10,178,108,7,171,101,0,161,94,0,154,90,0,224,255,224,224,255,189,224,255,157,224,255,126,224,255,94,224,255,63,224,255,31,224,255,0,147,87,0,140,80,0,129,73,0,119,62,0,70,83,35,59,73,24,49,62,17,42,55,10,0,32,73,0,32,63,0,32,52,0,32,42,0,32,31,0,32,21,0,32,10,0,32,0,224,171,59,224,234,66,224,139,224,224,32,224,182,32,182,140,32,136,98,32,94,147,125,94]],typedPlaypal:[[{r:0,g:0,b:0,hex:"#000000"},{r:31,g:23,b:11,hex:"#1f170b"},{r:23,g:15,b:7,hex:"#170f07"},{r:75,g:75,b:75,hex:"#4b4b4b"},{r:255,g:255,b:255,hex:"#ffffff"},{r:27,g:27,b:27,hex:"#1b1b1b"},{r:19,g:19,b:19,hex:"#131313"},{r:11,g:11,b:11,hex:"#0b0b0b"},{r:7,g:7,b:7,hex:"#070707"},{r:47,g:55,b:31,hex:"#2f371f"},{r:35,g:43,b:15,hex:"#232b0f"},{r:23,g:31,b:7,hex:"#171f07"},{r:15,g:23,b:0,hex:"#0f1700"},{r:79,g:59,b:43,hex:"#4f3b2b"},{r:71,g:51,b:35,hex:"#473323"},{r:63,g:43,b:27,hex:"#3f2b1b"},{r:255,g:183,b:183,hex:"#ffb7b7"},{r:247,g:171,b:171,hex:"#f7abab"},{r:243,g:163,b:163,hex:"#f3a3a3"},{r:235,g:151,b:151,hex:"#eb9797"},{r:231,g:143,b:143,hex:"#e78f8f"},{r:223,g:135,b:135,hex:"#df8787"},{r:219,g:123,b:123,hex:"#db7b7b"},{r:211,g:115,b:115,hex:"#d37373"},{r:203,g:107,b:107,hex:"#cb6b6b"},{r:199,g:99,b:99,hex:"#c76363"},{r:191,g:91,b:91,hex:"#bf5b5b"},{r:187,g:87,b:87,hex:"#bb5757"},{r:179,g:79,b:79,hex:"#b34f4f"},{r:175,g:71,b:71,hex:"#af4747"},{r:167,g:63,b:63,hex:"#a73f3f"},{r:163,g:59,b:59,hex:"#a33b3b"},{r:155,g:51,b:51,hex:"#9b3333"},{r:151,g:47,b:47,hex:"#972f2f"},{r:143,g:43,b:43,hex:"#8f2b2b"},{r:139,g:35,b:35,hex:"#8b2323"},{r:131,g:31,b:31,hex:"#831f1f"},{r:127,g:27,b:27,hex:"#7f1b1b"},{r:119,g:23,b:23,hex:"#771717"},{r:115,g:19,b:19,hex:"#731313"},{r:107,g:15,b:15,hex:"#6b0f0f"},{r:103,g:11,b:11,hex:"#670b0b"},{r:95,g:7,b:7,hex:"#5f0707"},{r:91,g:7,b:7,hex:"#5b0707"},{r:83,g:7,b:7,hex:"#530707"},{r:79,g:0,b:0,hex:"#4f0000"},{r:71,g:0,b:0,hex:"#470000"},{r:67,g:0,b:0,hex:"#430000"},{r:255,g:235,b:223,hex:"#ffebdf"},{r:255,g:227,b:211,hex:"#ffe3d3"},{r:255,g:219,b:199,hex:"#ffdbc7"},{r:255,g:211,b:187,hex:"#ffd3bb"},{r:255,g:207,b:179,hex:"#ffcfb3"},{r:255,g:199,b:167,hex:"#ffc7a7"},{r:255,g:191,b:155,hex:"#ffbf9b"},{r:255,g:187,b:147,hex:"#ffbb93"},{r:255,g:179,b:131,hex:"#ffb383"},{r:247,g:171,b:123,hex:"#f7ab7b"},{r:239,g:163,b:115,hex:"#efa373"},{r:231,g:155,b:107,hex:"#e79b6b"},{r:223,g:147,b:99,hex:"#df9363"},{r:215,g:139,b:91,hex:"#d78b5b"},{r:207,g:131,b:83,hex:"#cf8353"},{r:203,g:127,b:79,hex:"#cb7f4f"},{r:191,g:123,b:75,hex:"#bf7b4b"},{r:179,g:115,b:71,hex:"#b37347"},{r:171,g:111,b:67,hex:"#ab6f43"},{r:163,g:107,b:63,hex:"#a36b3f"},{r:155,g:99,b:59,hex:"#9b633b"},{r:143,g:95,b:55,hex:"#8f5f37"},{r:135,g:87,b:51,hex:"#875733"},{r:127,g:83,b:47,hex:"#7f532f"},{r:119,g:79,b:43,hex:"#774f2b"},{r:107,g:71,b:39,hex:"#6b4727"},{r:95,g:67,b:35,hex:"#5f4323"},{r:83,g:63,b:31,hex:"#533f1f"},{r:75,g:55,b:27,hex:"#4b371b"},{r:63,g:47,b:23,hex:"#3f2f17"},{r:51,g:43,b:19,hex:"#332b13"},{r:43,g:35,b:15,hex:"#2b230f"},{r:239,g:239,b:239,hex:"#efefef"},{r:231,g:231,b:231,hex:"#e7e7e7"},{r:223,g:223,b:223,hex:"#dfdfdf"},{r:219,g:219,b:219,hex:"#dbdbdb"},{r:211,g:211,b:211,hex:"#d3d3d3"},{r:203,g:203,b:203,hex:"#cbcbcb"},{r:199,g:199,b:199,hex:"#c7c7c7"},{r:191,g:191,b:191,hex:"#bfbfbf"},{r:183,g:183,b:183,hex:"#b7b7b7"},{r:179,g:179,b:179,hex:"#b3b3b3"},{r:171,g:171,b:171,hex:"#ababab"},{r:167,g:167,b:167,hex:"#a7a7a7"},{r:159,g:159,b:159,hex:"#9f9f9f"},{r:151,g:151,b:151,hex:"#979797"},{r:147,g:147,b:147,hex:"#939393"},{r:139,g:139,b:139,hex:"#8b8b8b"},{r:131,g:131,b:131,hex:"#838383"},{r:127,g:127,b:127,hex:"#7f7f7f"},{r:119,g:119,b:119,hex:"#777777"},{r:111,g:111,b:111,hex:"#6f6f6f"},{r:107,g:107,b:107,hex:"#6b6b6b"},{r:99,g:99,b:99,hex:"#636363"},{r:91,g:91,b:91,hex:"#5b5b5b"},{r:87,g:87,b:87,hex:"#575757"},{r:79,g:79,b:79,hex:"#4f4f4f"},{r:71,g:71,b:71,hex:"#474747"},{r:67,g:67,b:67,hex:"#434343"},{r:59,g:59,b:59,hex:"#3b3b3b"},{r:55,g:55,b:55,hex:"#373737"},{r:47,g:47,b:47,hex:"#2f2f2f"},{r:39,g:39,b:39,hex:"#272727"},{r:35,g:35,b:35,hex:"#232323"},{r:119,g:255,b:111,hex:"#77ff6f"},{r:111,g:239,b:103,hex:"#6fef67"},{r:103,g:223,b:95,hex:"#67df5f"},{r:95,g:207,b:87,hex:"#5fcf57"},{r:91,g:191,b:79,hex:"#5bbf4f"},{r:83,g:175,b:71,hex:"#53af47"},{r:75,g:159,b:63,hex:"#4b9f3f"},{r:67,g:147,b:55,hex:"#439337"},{r:63,g:131,b:47,hex:"#3f832f"},{r:55,g:115,b:43,hex:"#37732b"},{r:47,g:99,b:35,hex:"#2f6323"},{r:39,g:83,b:27,hex:"#27531b"},{r:31,g:67,b:23,hex:"#1f4317"},{r:23,g:51,b:15,hex:"#17330f"},{r:19,g:35,b:11,hex:"#13230b"},{r:11,g:23,b:7,hex:"#0b1707"},{r:191,g:167,b:143,hex:"#bfa78f"},{r:183,g:159,b:135,hex:"#b79f87"},{r:175,g:151,b:127,hex:"#af977f"},{r:167,g:143,b:119,hex:"#a78f77"},{r:159,g:135,b:111,hex:"#9f876f"},{r:155,g:127,b:107,hex:"#9b7f6b"},{r:147,g:123,b:99,hex:"#937b63"},{r:139,g:115,b:91,hex:"#8b735b"},{r:131,g:107,b:87,hex:"#836b57"},{r:123,g:99,b:79,hex:"#7b634f"},{r:119,g:95,b:75,hex:"#775f4b"},{r:111,g:87,b:67,hex:"#6f5743"},{r:103,g:83,b:63,hex:"#67533f"},{r:95,g:75,b:55,hex:"#5f4b37"},{r:87,g:67,b:51,hex:"#574333"},{r:83,g:63,b:47,hex:"#533f2f"},{r:159,g:131,b:99,hex:"#9f8363"},{r:143,g:119,b:83,hex:"#8f7753"},{r:131,g:107,b:75,hex:"#836b4b"},{r:119,g:95,b:63,hex:"#775f3f"},{r:103,g:83,b:51,hex:"#675333"},{r:91,g:71,b:43,hex:"#5b472b"},{r:79,g:59,b:35,hex:"#4f3b23"},{r:67,g:51,b:27,hex:"#43331b"},{r:123,g:127,b:99,hex:"#7b7f63"},{r:111,g:115,b:87,hex:"#6f7357"},{r:103,g:107,b:79,hex:"#676b4f"},{r:91,g:99,b:71,hex:"#5b6347"},{r:83,g:87,b:59,hex:"#53573b"},{r:71,g:79,b:51,hex:"#474f33"},{r:63,g:71,b:43,hex:"#3f472b"},{r:55,g:63,b:39,hex:"#373f27"},{r:255,g:255,b:115,hex:"#ffff73"},{r:235,g:219,b:87,hex:"#ebdb57"},{r:215,g:187,b:67,hex:"#d7bb43"},{r:195,g:155,b:47,hex:"#c39b2f"},{r:175,g:123,b:31,hex:"#af7b1f"},{r:155,g:91,b:19,hex:"#9b5b13"},{r:135,g:67,b:7,hex:"#874307"},{r:115,g:43,b:0,hex:"#732b00"},{r:255,g:255,b:255,hex:"#ffffff"},{r:255,g:219,b:219,hex:"#ffdbdb"},{r:255,g:187,b:187,hex:"#ffbbbb"},{r:255,g:155,b:155,hex:"#ff9b9b"},{r:255,g:123,b:123,hex:"#ff7b7b"},{r:255,g:95,b:95,hex:"#ff5f5f"},{r:255,g:63,b:63,hex:"#ff3f3f"},{r:255,g:31,b:31,hex:"#ff1f1f"},{r:255,g:0,b:0,hex:"#ff0000"},{r:239,g:0,b:0,hex:"#ef0000"},{r:227,g:0,b:0,hex:"#e30000"},{r:215,g:0,b:0,hex:"#d70000"},{r:203,g:0,b:0,hex:"#cb0000"},{r:191,g:0,b:0,hex:"#bf0000"},{r:179,g:0,b:0,hex:"#b30000"},{r:167,g:0,b:0,hex:"#a70000"},{r:155,g:0,b:0,hex:"#9b0000"},{r:139,g:0,b:0,hex:"#8b0000"},{r:127,g:0,b:0,hex:"#7f0000"},{r:115,g:0,b:0,hex:"#730000"},{r:103,g:0,b:0,hex:"#670000"},{r:91,g:0,b:0,hex:"#5b0000"},{r:79,g:0,b:0,hex:"#4f0000"},{r:67,g:0,b:0,hex:"#430000"},{r:231,g:231,b:255,hex:"#e7e7ff"},{r:199,g:199,b:255,hex:"#c7c7ff"},{r:171,g:171,b:255,hex:"#ababff"},{r:143,g:143,b:255,hex:"#8f8fff"},{r:115,g:115,b:255,hex:"#7373ff"},{r:83,g:83,b:255,hex:"#5353ff"},{r:55,g:55,b:255,hex:"#3737ff"},{r:27,g:27,b:255,hex:"#1b1bff"},{r:0,g:0,b:255,hex:"#0000ff"},{r:0,g:0,b:227,hex:"#0000e3"},{r:0,g:0,b:203,hex:"#0000cb"},{r:0,g:0,b:179,hex:"#0000b3"},{r:0,g:0,b:155,hex:"#00009b"},{r:0,g:0,b:131,hex:"#000083"},{r:0,g:0,b:107,hex:"#00006b"},{r:0,g:0,b:83,hex:"#000053"},{r:255,g:255,b:255,hex:"#ffffff"},{r:255,g:235,b:219,hex:"#ffebdb"},{r:255,g:215,b:187,hex:"#ffd7bb"},{r:255,g:199,b:155,hex:"#ffc79b"},{r:255,g:179,b:123,hex:"#ffb37b"},{r:255,g:163,b:91,hex:"#ffa35b"},{r:255,g:143,b:59,hex:"#ff8f3b"},{r:255,g:127,b:27,hex:"#ff7f1b"},{r:243,g:115,b:23,hex:"#f37317"},{r:235,g:111,b:15,hex:"#eb6f0f"},{r:223,g:103,b:15,hex:"#df670f"},{r:215,g:95,b:11,hex:"#d75f0b"},{r:203,g:87,b:7,hex:"#cb5707"},{r:195,g:79,b:0,hex:"#c34f00"},{r:183,g:71,b:0,hex:"#b74700"},{r:175,g:67,b:0,hex:"#af4300"},{r:255,g:255,b:255,hex:"#ffffff"},{r:255,g:255,b:215,hex:"#ffffd7"},{r:255,g:255,b:179,hex:"#ffffb3"},{r:255,g:255,b:143,hex:"#ffff8f"},{r:255,g:255,b:107,hex:"#ffff6b"},{r:255,g:255,b:71,hex:"#ffff47"},{r:255,g:255,b:35,hex:"#ffff23"},{r:255,g:255,b:0,hex:"#ffff00"},{r:167,g:63,b:0,hex:"#a73f00"},{r:159,g:55,b:0,hex:"#9f3700"},{r:147,g:47,b:0,hex:"#932f00"},{r:135,g:35,b:0,hex:"#872300"},{r:79,g:59,b:39,hex:"#4f3b27"},{r:67,g:47,b:27,hex:"#432f1b"},{r:55,g:35,b:19,hex:"#372313"},{r:47,g:27,b:11,hex:"#2f1b0b"},{r:0,g:0,b:83,hex:"#000053"},{r:0,g:0,b:71,hex:"#000047"},{r:0,g:0,b:59,hex:"#00003b"},{r:0,g:0,b:47,hex:"#00002f"},{r:0,g:0,b:35,hex:"#000023"},{r:0,g:0,b:23,hex:"#000017"},{r:0,g:0,b:11,hex:"#00000b"},{r:0,g:0,b:0,hex:"#000000"},{r:255,g:159,b:67,hex:"#ff9f43"},{r:255,g:231,b:75,hex:"#ffe74b"},{r:255,g:123,b:255,hex:"#ff7bff"},{r:255,g:0,b:255,hex:"#ff00ff"},{r:207,g:0,b:207,hex:"#cf00cf"},{r:159,g:0,b:155,hex:"#9f009b"},{r:111,g:0,b:107,hex:"#6f006b"},{r:167,g:107,b:107,hex:"#a76b6b"}],[{r:28,g:0,b:0,hex:"#1c0000"},{r:55,g:21,b:10,hex:"#37150a"},{r:48,g:14,b:7,hex:"#300e07"},{r:95,g:67,b:67,hex:"#5f4343"},{r:255,g:227,b:227,hex:"#ffe3e3"},{r:52,g:24,b:24,hex:"#341818"},{r:45,g:17,b:17,hex:"#2d1111"},{r:38,g:10,b:10,hex:"#260a0a"},{r:34,g:7,b:7,hex:"#220707"},{r:70,g:49,b:28,hex:"#46311c"},{r:59,g:39,b:14,hex:"#3b270e"},{r:48,g:28,b:7,hex:"#301c07"},{r:41,g:21,b:0,hex:"#291500"},{r:98,g:53,b:39,hex:"#623527"},{r:91,g:46,b:32,hex:"#5b2e20"},{r:84,g:39,b:24,hex:"#542718"},{r:255,g:163,b:163,hex:"#ffa3a3"},{r:247,g:152,b:152,hex:"#f79898"},{r:244,g:145,b:145,hex:"#f49191"},{r:237,g:135,b:135,hex:"#ed8787"},{r:233,g:128,b:128,hex:"#e98080"},{r:226,g:120,b:120,hex:"#e27878"},{r:223,g:110,b:110,hex:"#df6e6e"},{r:215,g:103,b:103,hex:"#d76767"},{r:208,g:96,b:96,hex:"#d06060"},{r:205,g:88,b:88,hex:"#cd5858"},{r:198,g:81,b:81,hex:"#c65151"},{r:194,g:78,b:78,hex:"#c24e4e"},{r:187,g:71,b:71,hex:"#bb4747"},{r:183,g:64,b:64,hex:"#b74040"},{r:176,g:56,b:56,hex:"#b03838"},{r:173,g:53,b:53,hex:"#ad3535"},{r:166,g:46,b:46,hex:"#a62e2e"},{r:162,g:42,b:42,hex:"#a22a2a"},{r:155,g:39,b:39,hex:"#9b2727"},{r:151,g:32,b:32,hex:"#972020"},{r:144,g:28,b:28,hex:"#901c1c"},{r:141,g:24,b:24,hex:"#8d1818"},{r:134,g:21,b:21,hex:"#861515"},{r:130,g:17,b:17,hex:"#821111"},{r:123,g:14,b:14,hex:"#7b0e0e"},{r:119,g:10,b:10,hex:"#770a0a"},{r:112,g:7,b:7,hex:"#700707"},{r:109,g:7,b:7,hex:"#6d0707"},{r:102,g:7,b:7,hex:"#660707"},{r:98,g:0,b:0,hex:"#620000"},{r:91,g:0,b:0,hex:"#5b0000"},{r:87,g:0,b:0,hex:"#570000"},{r:255,g:209,b:199,hex:"#ffd1c7"},{r:255,g:202,b:188,hex:"#ffcabc"},{r:255,g:195,b:177,hex:"#ffc3b1"},{r:255,g:188,b:167,hex:"#ffbca7"},{r:255,g:184,b:160,hex:"#ffb8a0"},{r:255,g:177,b:149,hex:"#ffb195"},{r:255,g:170,b:138,hex:"#ffaa8a"},{r:255,g:167,b:131,hex:"#ffa783"},{r:255,g:160,b:117,hex:"#ffa075"},{r:247,g:152,b:110,hex:"#f7986e"},{r:240,g:145,b:103,hex:"#f09167"},{r:233,g:138,b:96,hex:"#e98a60"},{r:226,g:131,b:88,hex:"#e28358"},{r:219,g:124,b:81,hex:"#db7c51"},{r:212,g:117,b:74,hex:"#d4754a"},{r:208,g:113,b:71,hex:"#d07147"},{r:198,g:110,b:67,hex:"#c66e43"},{r:187,g:103,b:64,hex:"#bb6740"},{r:180,g:99,b:60,hex:"#b4633c"},{r:173,g:96,b:56,hex:"#ad6038"},{r:166,g:88,b:53,hex:"#a65835"},{r:155,g:85,b:49,hex:"#9b5531"},{r:148,g:78,b:46,hex:"#944e2e"},{r:141,g:74,b:42,hex:"#8d4a2a"},{r:134,g:71,b:39,hex:"#864727"},{r:123,g:64,b:35,hex:"#7b4023"},{r:112,g:60,b:32,hex:"#703c20"},{r:102,g:56,b:28,hex:"#66381c"},{r:95,g:49,b:24,hex:"#5f3118"},{r:84,g:42,b:21,hex:"#542a15"},{r:73,g:39,b:17,hex:"#492711"},{r:66,g:32,b:14,hex:"#42200e"},{r:240,g:213,b:213,hex:"#f0d5d5"},{r:233,g:206,b:206,hex:"#e9cece"},{r:226,g:199,b:199,hex:"#e2c7c7"},{r:223,g:195,b:195,hex:"#dfc3c3"},{r:215,g:188,b:188,hex:"#d7bcbc"},{r:208,g:181,b:181,hex:"#d0b5b5"},{r:205,g:177,b:177,hex:"#cdb1b1"},{r:198,g:170,b:170,hex:"#c6aaaa"},{r:191,g:163,b:163,hex:"#bfa3a3"},{r:187,g:160,b:160,hex:"#bba0a0"},{r:180,g:152,b:152,hex:"#b49898"},{r:176,g:149,b:149,hex:"#b09595"},{r:169,g:142,b:142,hex:"#a98e8e"},{r:162,g:135,b:135,hex:"#a28787"},{r:159,g:131,b:131,hex:"#9f8383"},{r:151,g:124,b:124,hex:"#977c7c"},{r:144,g:117,b:117,hex:"#907575"},{r:141,g:113,b:113,hex:"#8d7171"},{r:134,g:106,b:106,hex:"#866a6a"},{r:127,g:99,b:99,hex:"#7f6363"},{r:123,g:96,b:96,hex:"#7b6060"},{r:116,g:88,b:88,hex:"#745858"},{r:109,g:81,b:81,hex:"#6d5151"},{r:105,g:78,b:78,hex:"#694e4e"},{r:98,g:71,b:71,hex:"#624747"},{r:91,g:64,b:64,hex:"#5b4040"},{r:87,g:60,b:60,hex:"#573c3c"},{r:80,g:53,b:53,hex:"#503535"},{r:77,g:49,b:49,hex:"#4d3131"},{r:70,g:42,b:42,hex:"#462a2a"},{r:63,g:35,b:35,hex:"#3f2323"},{r:59,g:32,b:32,hex:"#3b2020"},{r:134,g:227,b:99,hex:"#86e363"},{r:127,g:213,b:92,hex:"#7fd55c"},{r:119,g:199,b:85,hex:"#77c755"},{r:112,g:184,b:78,hex:"#70b84e"},{r:109,g:170,b:71,hex:"#6daa47"},{r:102,g:156,b:64,hex:"#669c40"},{r:95,g:142,b:56,hex:"#5f8e38"},{r:87,g:131,b:49,hex:"#578331"},{r:84,g:117,b:42,hex:"#54752a"},{r:77,g:103,b:39,hex:"#4d6727"},{r:70,g:88,b:32,hex:"#465820"},{r:63,g:74,b:24,hex:"#3f4a18"},{r:55,g:60,b:21,hex:"#373c15"},{r:48,g:46,b:14,hex:"#302e0e"},{r:45,g:32,b:10,hex:"#2d200a"},{r:38,g:21,b:7,hex:"#261507"},{r:198,g:149,b:128,hex:"#c69580"},{r:191,g:142,b:120,hex:"#bf8e78"},{r:183,g:135,b:113,hex:"#b78771"},{r:176,g:128,b:106,hex:"#b0806a"},{r:169,g:120,b:99,hex:"#a97863"},{r:166,g:113,b:96,hex:"#a67160"},{r:159,g:110,b:88,hex:"#9f6e58"},{r:151,g:103,b:81,hex:"#976751"},{r:144,g:96,b:78,hex:"#90604e"},{r:137,g:88,b:71,hex:"#895847"},{r:134,g:85,b:67,hex:"#865543"},{r:127,g:78,b:60,hex:"#7f4e3c"},{r:119,g:74,b:56,hex:"#774a38"},{r:112,g:67,b:49,hex:"#704331"},{r:105,g:60,b:46,hex:"#693c2e"},{r:102,g:56,b:42,hex:"#66382a"},{r:169,g:117,b:88,hex:"#a97558"},{r:155,g:106,b:74,hex:"#9b6a4a"},{r:144,g:96,b:67,hex:"#906043"},{r:134,g:85,b:56,hex:"#865538"},{r:119,g:74,b:46,hex:"#774a2e"},{r:109,g:64,b:39,hex:"#6d4027"},{r:98,g:53,b:32,hex:"#623520"},{r:87,g:46,b:24,hex:"#572e18"},{r:137,g:113,b:88,hex:"#897158"},{r:127,g:103,b:78,hex:"#7f674e"},{r:119,g:96,b:71,hex:"#776047"},{r:109,g:88,b:64,hex:"#6d5840"},{r:102,g:78,b:53,hex:"#664e35"},{r:91,g:71,b:46,hex:"#5b472e"},{r:84,g:64,b:39,hex:"#544027"},{r:77,g:56,b:35,hex:"#4d3823"},{r:255,g:227,b:103,hex:"#ffe367"},{r:237,g:195,b:78,hex:"#edc34e"},{r:219,g:167,b:60,hex:"#dba73c"},{r:201,g:138,b:42,hex:"#c98a2a"},{r:183,g:110,b:28,hex:"#b76e1c"},{r:166,g:81,b:17,hex:"#a65111"},{r:148,g:60,b:7,hex:"#943c07"},{r:130,g:39,b:0,hex:"#822700"},{r:255,g:227,b:227,hex:"#ffe3e3"},{r:255,g:195,b:195,hex:"#ffc3c3"},{r:255,g:167,b:167,hex:"#ffa7a7"},{r:255,g:138,b:138,hex:"#ff8a8a"},{r:255,g:110,b:110,hex:"#ff6e6e"},{r:255,g:85,b:85,hex:"#ff5555"},{r:255,g:56,b:56,hex:"#ff3838"},{r:255,g:28,b:28,hex:"#ff1c1c"},{r:255,g:0,b:0,hex:"#ff0000"},{r:240,g:0,b:0,hex:"#f00000"},{r:230,g:0,b:0,hex:"#e60000"},{r:219,g:0,b:0,hex:"#db0000"},{r:208,g:0,b:0,hex:"#d00000"},{r:198,g:0,b:0,hex:"#c60000"},{r:187,g:0,b:0,hex:"#bb0000"},{r:176,g:0,b:0,hex:"#b00000"},{r:166,g:0,b:0,hex:"#a60000"},{r:151,g:0,b:0,hex:"#970000"},{r:141,g:0,b:0,hex:"#8d0000"},{r:130,g:0,b:0,hex:"#820000"},{r:119,g:0,b:0,hex:"#770000"},{r:109,g:0,b:0,hex:"#6d0000"},{r:98,g:0,b:0,hex:"#620000"},{r:87,g:0,b:0,hex:"#570000"},{r:233,g:206,b:227,hex:"#e9cee3"},{r:205,g:177,b:227,hex:"#cdb1e3"},{r:180,g:152,b:227,hex:"#b498e3"},{r:155,g:128,b:227,hex:"#9b80e3"},{r:130,g:103,b:227,hex:"#8267e3"},{r:102,g:74,b:227,hex:"#664ae3"},{r:77,g:49,b:227,hex:"#4d31e3"},{r:52,g:24,b:227,hex:"#3418e3"},{r:28,g:0,b:227,hex:"#1c00e3"},{r:28,g:0,b:202,hex:"#1c00ca"},{r:28,g:0,b:181,hex:"#1c00b5"},{r:28,g:0,b:160,hex:"#1c00a0"},{r:28,g:0,b:138,hex:"#1c008a"},{r:28,g:0,b:117,hex:"#1c0075"},{r:28,g:0,b:96,hex:"#1c0060"},{r:28,g:0,b:74,hex:"#1c004a"},{r:255,g:227,b:227,hex:"#ffe3e3"},{r:255,g:209,b:195,hex:"#ffd1c3"},{r:255,g:192,b:167,hex:"#ffc0a7"},{r:255,g:177,b:138,hex:"#ffb18a"},{r:255,g:160,b:110,hex:"#ffa06e"},{r:255,g:145,b:81,hex:"#ff9151"},{r:255,g:128,b:53,hex:"#ff8035"},{r:255,g:113,b:24,hex:"#ff7118"},{r:244,g:103,b:21,hex:"#f46715"},{r:237,g:99,b:14,hex:"#ed630e"},{r:226,g:92,b:14,hex:"#e25c0e"},{r:219,g:85,b:10,hex:"#db550a"},{r:208,g:78,b:7,hex:"#d04e07"},{r:201,g:71,b:0,hex:"#c94700"},{r:191,g:64,b:0,hex:"#bf4000"},{r:183,g:60,b:0,hex:"#b73c00"},{r:255,g:227,b:227,hex:"#ffe3e3"},{r:255,g:227,b:192,hex:"#ffe3c0"},{r:255,g:227,b:160,hex:"#ffe3a0"},{r:255,g:227,b:128,hex:"#ffe380"},{r:255,g:227,b:96,hex:"#ffe360"},{r:255,g:227,b:64,hex:"#ffe340"},{r:255,g:227,b:32,hex:"#ffe320"},{r:255,g:227,b:0,hex:"#ffe300"},{r:176,g:56,b:0,hex:"#b03800"},{r:169,g:49,b:0,hex:"#a93100"},{r:159,g:42,b:0,hex:"#9f2a00"},{r:148,g:32,b:0,hex:"#942000"},{r:98,g:53,b:35,hex:"#623523"},{r:87,g:42,b:24,hex:"#572a18"},{r:77,g:32,b:17,hex:"#4d2011"},{r:70,g:24,b:10,hex:"#46180a"},{r:28,g:0,b:74,hex:"#1c004a"},{r:28,g:0,b:64,hex:"#1c0040"},{r:28,g:0,b:53,hex:"#1c0035"},{r:28,g:0,b:42,hex:"#1c002a"},{r:28,g:0,b:32,hex:"#1c0020"},{r:28,g:0,b:21,hex:"#1c0015"},{r:28,g:0,b:10,hex:"#1c000a"},{r:28,g:0,b:0,hex:"#1c0000"},{r:255,g:142,b:60,hex:"#ff8e3c"},{r:255,g:206,b:67,hex:"#ffce43"},{r:255,g:110,b:227,hex:"#ff6ee3"},{r:255,g:0,b:227,hex:"#ff00e3"},{r:212,g:0,b:184,hex:"#d400b8"},{r:169,g:0,b:138,hex:"#a9008a"},{r:127,g:0,b:96,hex:"#7f0060"},{r:176,g:96,b:96,hex:"#b06060"}],[{r:56,g:0,b:0,hex:"#380000"},{r:80,g:18,b:9,hex:"#501209"},{r:74,g:12,b:6,hex:"#4a0c06"},{r:115,g:59,b:59,hex:"#733b3b"},{r:255,g:199,b:199,hex:"#ffc7c7"},{r:77,g:21,b:21,hex:"#4d1515"},{r:71,g:15,b:15,hex:"#470f0f"},{r:65,g:9,b:9,hex:"#410909"},{r:62,g:6,b:6,hex:"#3e0606"},{r:93,g:43,b:25,hex:"#5d2b19"},{r:83,g:34,b:12,hex:"#53220c"},{r:74,g:25,b:6,hex:"#4a1906"},{r:68,g:18,b:0,hex:"#441200"},{r:118,g:46,b:34,hex:"#762e22"},{r:111,g:40,b:28,hex:"#6f281c"},{r:105,g:34,b:21,hex:"#692215"},{r:255,g:143,b:143,hex:"#ff8f8f"},{r:248,g:133,b:133,hex:"#f88585"},{r:245,g:127,b:127,hex:"#f57f7f"},{r:239,g:118,b:118,hex:"#ef7676"},{r:236,g:112,b:112,hex:"#ec7070"},{r:230,g:105,b:105,hex:"#e66969"},{r:227,g:96,b:96,hex:"#e36060"},{r:220,g:90,b:90,hex:"#dc5a5a"},{r:214,g:84,b:84,hex:"#d65454"},{r:211,g:77,b:77,hex:"#d34d4d"},{r:205,g:71,b:71,hex:"#cd4747"},{r:202,g:68,b:68,hex:"#ca4444"},{r:195,g:62,b:62,hex:"#c33e3e"},{r:192,g:56,b:56,hex:"#c03838"},{r:186,g:49,b:49,hex:"#ba3131"},{r:183,g:46,b:46,hex:"#b72e2e"},{r:177,g:40,b:40,hex:"#b12828"},{r:174,g:37,b:37,hex:"#ae2525"},{r:167,g:34,b:34,hex:"#a72222"},{r:164,g:28,b:28,hex:"#a41c1c"},{r:158,g:25,b:25,hex:"#9e1919"},{r:155,g:21,b:21,hex:"#9b1515"},{r:149,g:18,b:18,hex:"#951212"},{r:146,g:15,b:15,hex:"#920f0f"},{r:139,g:12,b:12,hex:"#8b0c0c"},{r:136,g:9,b:9,hex:"#880909"},{r:130,g:6,b:6,hex:"#820606"},{r:127,g:6,b:6,hex:"#7f0606"},{r:121,g:6,b:6,hex:"#790606"},{r:118,g:0,b:0,hex:"#760000"},{r:111,g:0,b:0,hex:"#6f0000"},{r:108,g:0,b:0,hex:"#6c0000"},{r:255,g:183,b:174,hex:"#ffb7ae"},{r:255,g:177,b:165,hex:"#ffb1a5"},{r:255,g:171,b:155,hex:"#ffab9b"},{r:255,g:165,b:146,hex:"#ffa592"},{r:255,g:161,b:140,hex:"#ffa18c"},{r:255,g:155,b:130,hex:"#ff9b82"},{r:255,g:149,b:121,hex:"#ff9579"},{r:255,g:146,b:115,hex:"#ff9273"},{r:255,g:140,b:102,hex:"#ff8c66"},{r:248,g:133,b:96,hex:"#f88560"},{r:242,g:127,b:90,hex:"#f27f5a"},{r:236,g:121,b:84,hex:"#ec7954"},{r:230,g:115,b:77,hex:"#e6734d"},{r:223,g:109,b:71,hex:"#df6d47"},{r:217,g:102,b:65,hex:"#d96641"},{r:214,g:99,b:62,hex:"#d6633e"},{r:205,g:96,b:59,hex:"#cd603b"},{r:195,g:90,b:56,hex:"#c35a38"},{r:189,g:87,b:53,hex:"#bd5735"},{r:183,g:84,b:49,hex:"#b75431"},{r:177,g:77,b:46,hex:"#b14d2e"},{r:167,g:74,b:43,hex:"#a74a2b"},{r:161,g:68,b:40,hex:"#a14428"},{r:155,g:65,b:37,hex:"#9b4125"},{r:149,g:62,b:34,hex:"#953e22"},{r:139,g:56,b:31,hex:"#8b381f"},{r:130,g:53,b:28,hex:"#82351c"},{r:121,g:49,b:25,hex:"#793119"},{r:115,g:43,b:21,hex:"#732b15"},{r:105,g:37,b:18,hex:"#692512"},{r:96,g:34,b:15,hex:"#60220f"},{r:90,g:28,b:12,hex:"#5a1c0c"},{r:242,g:186,b:186,hex:"#f2baba"},{r:236,g:180,b:180,hex:"#ecb4b4"},{r:230,g:174,b:174,hex:"#e6aeae"},{r:227,g:171,b:171,hex:"#e3abab"},{r:220,g:165,b:165,hex:"#dca5a5"},{r:214,g:158,b:158,hex:"#d69e9e"},{r:211,g:155,b:155,hex:"#d39b9b"},{r:205,g:149,b:149,hex:"#cd9595"},{r:199,g:143,b:143,hex:"#c78f8f"},{r:195,g:140,b:140,hex:"#c38c8c"},{r:189,g:133,b:133,hex:"#bd8585"},{r:186,g:130,b:130,hex:"#ba8282"},{r:180,g:124,b:124,hex:"#b47c7c"},{r:174,g:118,b:118,hex:"#ae7676"},{r:171,g:115,b:115,hex:"#ab7373"},{r:164,g:109,b:109,hex:"#a46d6d"},{r:158,g:102,b:102,hex:"#9e6666"},{r:155,g:99,b:99,hex:"#9b6363"},{r:149,g:93,b:93,hex:"#955d5d"},{r:143,g:87,b:87,hex:"#8f5757"},{r:139,g:84,b:84,hex:"#8b5454"},{r:133,g:77,b:77,hex:"#854d4d"},{r:127,g:71,b:71,hex:"#7f4747"},{r:124,g:68,b:68,hex:"#7c4444"},{r:118,g:62,b:62,hex:"#763e3e"},{r:111,g:56,b:56,hex:"#6f3838"},{r:108,g:53,b:53,hex:"#6c3535"},{r:102,g:46,b:46,hex:"#662e2e"},{r:99,g:43,b:43,hex:"#632b2b"},{r:93,g:37,b:37,hex:"#5d2525"},{r:87,g:31,b:31,hex:"#571f1f"},{r:83,g:28,b:28,hex:"#531c1c"},{r:149,g:199,b:87,hex:"#95c757"},{r:143,g:186,b:81,hex:"#8fba51"},{r:136,g:174,b:74,hex:"#88ae4a"},{r:130,g:161,b:68,hex:"#82a144"},{r:127,g:149,b:62,hex:"#7f953e"},{r:121,g:137,b:56,hex:"#798938"},{r:115,g:124,b:49,hex:"#737c31"},{r:108,g:115,b:43,hex:"#6c732b"},{r:105,g:102,b:37,hex:"#696625"},{r:99,g:90,b:34,hex:"#635a22"},{r:93,g:77,b:28,hex:"#5d4d1c"},{r:87,g:65,b:21,hex:"#574115"},{r:80,g:53,b:18,hex:"#503512"},{r:74,g:40,b:12,hex:"#4a280c"},{r:71,g:28,b:9,hex:"#471c09"},{r:65,g:18,b:6,hex:"#411206"},{r:205,g:130,b:112,hex:"#cd8270"},{r:199,g:124,b:105,hex:"#c77c69"},{r:192,g:118,b:99,hex:"#c07663"},{r:186,g:112,b:93,hex:"#ba705d"},{r:180,g:105,b:87,hex:"#b46957"},{r:177,g:99,b:84,hex:"#b16354"},{r:171,g:96,b:77,hex:"#ab604d"},{r:164,g:90,b:71,hex:"#a45a47"},{r:158,g:84,b:68,hex:"#9e5444"},{r:152,g:77,b:62,hex:"#984d3e"},{r:149,g:74,b:59,hex:"#954a3b"},{r:143,g:68,b:53,hex:"#8f4435"},{r:136,g:65,b:49,hex:"#884131"},{r:130,g:59,b:43,hex:"#823b2b"},{r:124,g:53,b:40,hex:"#7c3528"},{r:121,g:49,b:37,hex:"#793125"},{r:180,g:102,b:77,hex:"#b4664d"},{r:167,g:93,b:65,hex:"#a75d41"},{r:158,g:84,b:59,hex:"#9e543b"},{r:149,g:74,b:49,hex:"#954a31"},{r:136,g:65,b:40,hex:"#884128"},{r:127,g:56,b:34,hex:"#7f3822"},{r:118,g:46,b:28,hex:"#762e1c"},{r:108,g:40,b:21,hex:"#6c2815"},{r:152,g:99,b:77,hex:"#98634d"},{r:143,g:90,b:68,hex:"#8f5a44"},{r:136,g:84,b:62,hex:"#88543e"},{r:127,g:77,b:56,hex:"#7f4d38"},{r:121,g:68,b:46,hex:"#79442e"},{r:111,g:62,b:40,hex:"#6f3e28"},{r:105,g:56,b:34,hex:"#693822"},{r:99,g:49,b:31,hex:"#63311f"},{r:255,g:199,b:90,hex:"#ffc75a"},{r:239,g:171,b:68,hex:"#efab44"},{r:223,g:146,b:53,hex:"#df9235"},{r:208,g:121,b:37,hex:"#d07925"},{r:192,g:96,b:25,hex:"#c06019"},{r:177,g:71,b:15,hex:"#b1470f"},{r:161,g:53,b:6,hex:"#a13506"},{r:146,g:34,b:0,hex:"#922200"},{r:255,g:199,b:199,hex:"#ffc7c7"},{r:255,g:171,b:171,hex:"#ffabab"},{r:255,g:146,b:146,hex:"#ff9292"},{r:255,g:121,b:121,hex:"#ff7979"},{r:255,g:96,b:96,hex:"#ff6060"},{r:255,g:74,b:74,hex:"#ff4a4a"},{r:255,g:49,b:49,hex:"#ff3131"},{r:255,g:25,b:25,hex:"#ff1919"},{r:255,g:0,b:0,hex:"#ff0000"},{r:242,g:0,b:0,hex:"#f20000"},{r:233,g:0,b:0,hex:"#e90000"},{r:223,g:0,b:0,hex:"#df0000"},{r:214,g:0,b:0,hex:"#d60000"},{r:205,g:0,b:0,hex:"#cd0000"},{r:195,g:0,b:0,hex:"#c30000"},{r:186,g:0,b:0,hex:"#ba0000"},{r:177,g:0,b:0,hex:"#b10000"},{r:164,g:0,b:0,hex:"#a40000"},{r:155,g:0,b:0,hex:"#9b0000"},{r:146,g:0,b:0,hex:"#920000"},{r:136,g:0,b:0,hex:"#880000"},{r:127,g:0,b:0,hex:"#7f0000"},{r:118,g:0,b:0,hex:"#760000"},{r:108,g:0,b:0,hex:"#6c0000"},{r:236,g:180,b:199,hex:"#ecb4c7"},{r:211,g:155,b:199,hex:"#d39bc7"},{r:189,g:133,b:199,hex:"#bd85c7"},{r:167,g:112,b:199,hex:"#a770c7"},{r:146,g:90,b:199,hex:"#925ac7"},{r:121,g:65,b:199,hex:"#7941c7"},{r:99,g:43,b:199,hex:"#632bc7"},{r:77,g:21,b:199,hex:"#4d15c7"},{r:56,g:0,b:199,hex:"#3800c7"},{r:56,g:0,b:177,hex:"#3800b1"},{r:56,g:0,b:158,hex:"#38009e"},{r:56,g:0,b:140,hex:"#38008c"},{r:56,g:0,b:121,hex:"#380079"},{r:56,g:0,b:102,hex:"#380066"},{r:56,g:0,b:84,hex:"#380054"},{r:56,g:0,b:65,hex:"#380041"},{r:255,g:199,b:199,hex:"#ffc7c7"},{r:255,g:183,b:171,hex:"#ffb7ab"},{r:255,g:168,b:146,hex:"#ffa892"},{r:255,g:155,b:121,hex:"#ff9b79"},{r:255,g:140,b:96,hex:"#ff8c60"},{r:255,g:127,b:71,hex:"#ff7f47"},{r:255,g:112,b:46,hex:"#ff702e"},{r:255,g:99,b:21,hex:"#ff6315"},{r:245,g:90,b:18,hex:"#f55a12"},{r:239,g:87,b:12,hex:"#ef570c"},{r:230,g:81,b:12,hex:"#e6510c"},{r:223,g:74,b:9,hex:"#df4a09"},{r:214,g:68,b:6,hex:"#d64406"},{r:208,g:62,b:0,hex:"#d03e00"},{r:199,g:56,b:0,hex:"#c73800"},{r:192,g:53,b:0,hex:"#c03500"},{r:255,g:199,b:199,hex:"#ffc7c7"},{r:255,g:199,b:168,hex:"#ffc7a8"},{r:255,g:199,b:140,hex:"#ffc78c"},{r:255,g:199,b:112,hex:"#ffc770"},{r:255,g:199,b:84,hex:"#ffc754"},{r:255,g:199,b:56,hex:"#ffc738"},{r:255,g:199,b:28,hex:"#ffc71c"},{r:255,g:199,b:0,hex:"#ffc700"},{r:186,g:49,b:0,hex:"#ba3100"},{r:180,g:43,b:0,hex:"#b42b00"},{r:171,g:37,b:0,hex:"#ab2500"},{r:161,g:28,b:0,hex:"#a11c00"},{r:118,g:46,b:31,hex:"#762e1f"},{r:108,g:37,b:21,hex:"#6c2515"},{r:99,g:28,b:15,hex:"#631c0f"},{r:93,g:21,b:9,hex:"#5d1509"},{r:56,g:0,b:65,hex:"#380041"},{r:56,g:0,b:56,hex:"#380038"},{r:56,g:0,b:46,hex:"#38002e"},{r:56,g:0,b:37,hex:"#380025"},{r:56,g:0,b:28,hex:"#38001c"},{r:56,g:0,b:18,hex:"#380012"},{r:56,g:0,b:9,hex:"#380009"},{r:56,g:0,b:0,hex:"#380000"},{r:255,g:124,b:53,hex:"#ff7c35"},{r:255,g:180,b:59,hex:"#ffb43b"},{r:255,g:96,b:199,hex:"#ff60c7"},{r:255,g:0,b:199,hex:"#ff00c7"},{r:217,g:0,b:161,hex:"#d900a1"},{r:180,g:0,b:121,hex:"#b40079"},{r:143,g:0,b:84,hex:"#8f0054"},{r:186,g:84,b:84,hex:"#ba5454"}],[{r:85,g:0,b:0,hex:"#550000"},{r:105,g:16,b:8,hex:"#691008"},{r:100,g:10,b:5,hex:"#640a05"},{r:135,g:50,b:50,hex:"#873232"},{r:255,g:170,b:170,hex:"#ffaaaa"},{r:103,g:18,b:18,hex:"#671212"},{r:97,g:13,b:13,hex:"#610d0d"},{r:92,g:8,b:8,hex:"#5c0808"},{r:89,g:5,b:5,hex:"#590505"},{r:116,g:37,b:21,hex:"#742515"},{r:108,g:29,b:10,hex:"#6c1d0a"},{r:100,g:21,b:5,hex:"#641505"},{r:95,g:16,b:0,hex:"#5f1000"},{r:137,g:40,b:29,hex:"#89281d"},{r:132,g:34,b:24,hex:"#842218"},{r:127,g:29,b:18,hex:"#7f1d12"},{r:255,g:122,b:122,hex:"#ff7a7a"},{r:249,g:114,b:114,hex:"#f97272"},{r:247,g:109,b:109,hex:"#f76d6d"},{r:241,g:101,b:101,hex:"#f16565"},{r:239,g:96,b:96,hex:"#ef6060"},{r:233,g:90,b:90,hex:"#e95a5a"},{r:231,g:82,b:82,hex:"#e75252"},{r:225,g:77,b:77,hex:"#e14d4d"},{r:220,g:72,b:72,hex:"#dc4848"},{r:217,g:66,b:66,hex:"#d94242"},{r:212,g:61,b:61,hex:"#d43d3d"},{r:209,g:58,b:58,hex:"#d13a3a"},{r:204,g:53,b:53,hex:"#cc3535"},{r:201,g:48,b:48,hex:"#c93030"},{r:196,g:42,b:42,hex:"#c42a2a"},{r:193,g:40,b:40,hex:"#c12828"},{r:188,g:34,b:34,hex:"#bc2222"},{r:185,g:32,b:32,hex:"#b92020"},{r:180,g:29,b:29,hex:"#b41d1d"},{r:177,g:24,b:24,hex:"#b11818"},{r:172,g:21,b:21,hex:"#ac1515"},{r:169,g:18,b:18,hex:"#a91212"},{r:164,g:16,b:16,hex:"#a41010"},{r:161,g:13,b:13,hex:"#a10d0d"},{r:156,g:10,b:10,hex:"#9c0a0a"},{r:153,g:8,b:8,hex:"#990808"},{r:148,g:5,b:5,hex:"#940505"},{r:145,g:5,b:5,hex:"#910505"},{r:140,g:5,b:5,hex:"#8c0505"},{r:137,g:0,b:0,hex:"#890000"},{r:132,g:0,b:0,hex:"#840000"},{r:129,g:0,b:0,hex:"#810000"},{r:255,g:157,b:149,hex:"#ff9d95"},{r:255,g:152,b:141,hex:"#ff988d"},{r:255,g:146,b:133,hex:"#ff9285"},{r:255,g:141,b:125,hex:"#ff8d7d"},{r:255,g:138,b:120,hex:"#ff8a78"},{r:255,g:133,b:112,hex:"#ff8570"},{r:255,g:128,b:104,hex:"#ff8068"},{r:255,g:125,b:98,hex:"#ff7d62"},{r:255,g:120,b:88,hex:"#ff7858"},{r:249,g:114,b:82,hex:"#f97252"},{r:244,g:109,b:77,hex:"#f46d4d"},{r:239,g:104,b:72,hex:"#ef6848"},{r:233,g:98,b:66,hex:"#e96242"},{r:228,g:93,b:61,hex:"#e45d3d"},{r:223,g:88,b:56,hex:"#df5838"},{r:220,g:85,b:53,hex:"#dc5535"},{r:212,g:82,b:50,hex:"#d45232"},{r:204,g:77,b:48,hex:"#cc4d30"},{r:199,g:74,b:45,hex:"#c74a2d"},{r:193,g:72,b:42,hex:"#c1482a"},{r:188,g:66,b:40,hex:"#bc4228"},{r:180,g:64,b:37,hex:"#b44025"},{r:175,g:58,b:34,hex:"#af3a22"},{r:169,g:56,b:32,hex:"#a93820"},{r:164,g:53,b:29,hex:"#a4351d"},{r:156,g:48,b:26,hex:"#9c301a"},{r:148,g:45,b:24,hex:"#942d18"},{r:140,g:42,b:21,hex:"#8c2a15"},{r:135,g:37,b:18,hex:"#872512"},{r:127,g:32,b:16,hex:"#7f2010"},{r:119,g:29,b:13,hex:"#771d0d"},{r:113,g:24,b:10,hex:"#71180a"},{r:244,g:160,b:160,hex:"#f4a0a0"},{r:239,g:154,b:154,hex:"#ef9a9a"},{r:233,g:149,b:149,hex:"#e99595"},{r:231,g:146,b:146,hex:"#e79292"},{r:225,g:141,b:141,hex:"#e18d8d"},{r:220,g:136,b:136,hex:"#dc8888"},{r:217,g:133,b:133,hex:"#d98585"},{r:212,g:128,b:128,hex:"#d48080"},{r:207,g:122,b:122,hex:"#cf7a7a"},{r:204,g:120,b:120,hex:"#cc7878"},{r:199,g:114,b:114,hex:"#c77272"},{r:196,g:112,b:112,hex:"#c47070"},{r:191,g:106,b:106,hex:"#bf6a6a"},{r:185,g:101,b:101,hex:"#b96565"},{r:183,g:98,b:98,hex:"#b76262"},{r:177,g:93,b:93,hex:"#b15d5d"},{r:172,g:88,b:88,hex:"#ac5858"},{r:169,g:85,b:85,hex:"#a95555"},{r:164,g:80,b:80,hex:"#a45050"},{r:159,g:74,b:74,hex:"#9f4a4a"},{r:156,g:72,b:72,hex:"#9c4848"},{r:151,g:66,b:66,hex:"#974242"},{r:145,g:61,b:61,hex:"#913d3d"},{r:143,g:58,b:58,hex:"#8f3a3a"},{r:137,g:53,b:53,hex:"#893535"},{r:132,g:48,b:48,hex:"#843030"},{r:129,g:45,b:45,hex:"#812d2d"},{r:124,g:40,b:40,hex:"#7c2828"},{r:121,g:37,b:37,hex:"#792525"},{r:116,g:32,b:32,hex:"#742020"},{r:111,g:26,b:26,hex:"#6f1a1a"},{r:108,g:24,b:24,hex:"#6c1818"},{r:164,g:170,b:74,hex:"#a4aa4a"},{r:159,g:160,b:69,hex:"#9fa045"},{r:153,g:149,b:64,hex:"#999540"},{r:148,g:138,b:58,hex:"#948a3a"},{r:145,g:128,b:53,hex:"#918035"},{r:140,g:117,b:48,hex:"#8c7530"},{r:135,g:106,b:42,hex:"#876a2a"},{r:129,g:98,b:37,hex:"#816225"},{r:127,g:88,b:32,hex:"#7f5820"},{r:121,g:77,b:29,hex:"#794d1d"},{r:116,g:66,b:24,hex:"#744218"},{r:111,g:56,b:18,hex:"#6f3812"},{r:105,g:45,b:16,hex:"#692d10"},{r:100,g:34,b:10,hex:"#64220a"},{r:97,g:24,b:8,hex:"#611808"},{r:92,g:16,b:5,hex:"#5c1005"},{r:212,g:112,b:96,hex:"#d47060"},{r:207,g:106,b:90,hex:"#cf6a5a"},{r:201,g:101,b:85,hex:"#c96555"},{r:196,g:96,b:80,hex:"#c46050"},{r:191,g:90,b:74,hex:"#bf5a4a"},{r:188,g:85,b:72,hex:"#bc5548"},{r:183,g:82,b:66,hex:"#b75242"},{r:177,g:77,b:61,hex:"#b14d3d"},{r:172,g:72,b:58,hex:"#ac483a"},{r:167,g:66,b:53,hex:"#a74235"},{r:164,g:64,b:50,hex:"#a44032"},{r:159,g:58,b:45,hex:"#9f3a2d"},{r:153,g:56,b:42,hex:"#99382a"},{r:148,g:50,b:37,hex:"#943225"},{r:143,g:45,b:34,hex:"#8f2d22"},{r:140,g:42,b:32,hex:"#8c2a20"},{r:191,g:88,b:66,hex:"#bf5842"},{r:180,g:80,b:56,hex:"#b45038"},{r:172,g:72,b:50,hex:"#ac4832"},{r:164,g:64,b:42,hex:"#a4402a"},{r:153,g:56,b:34,hex:"#993822"},{r:145,g:48,b:29,hex:"#91301d"},{r:137,g:40,b:24,hex:"#892818"},{r:129,g:34,b:18,hex:"#812212"},{r:167,g:85,b:66,hex:"#a75542"},{r:159,g:77,b:58,hex:"#9f4d3a"},{r:153,g:72,b:53,hex:"#994835"},{r:145,g:66,b:48,hex:"#914230"},{r:140,g:58,b:40,hex:"#8c3a28"},{r:132,g:53,b:34,hex:"#843522"},{r:127,g:48,b:29,hex:"#7f301d"},{r:121,g:42,b:26,hex:"#792a1a"},{r:255,g:170,b:77,hex:"#ffaa4d"},{r:241,g:146,b:58,hex:"#f1923a"},{r:228,g:125,b:45,hex:"#e47d2d"},{r:215,g:104,b:32,hex:"#d76820"},{r:201,g:82,b:21,hex:"#c95215"},{r:188,g:61,b:13,hex:"#bc3d0d"},{r:175,g:45,b:5,hex:"#af2d05"},{r:161,g:29,b:0,hex:"#a11d00"},{r:255,g:170,b:170,hex:"#ffaaaa"},{r:255,g:146,b:146,hex:"#ff9292"},{r:255,g:125,b:125,hex:"#ff7d7d"},{r:255,g:104,b:104,hex:"#ff6868"},{r:255,g:82,b:82,hex:"#ff5252"},{r:255,g:64,b:64,hex:"#ff4040"},{r:255,g:42,b:42,hex:"#ff2a2a"},{r:255,g:21,b:21,hex:"#ff1515"},{r:255,g:0,b:0,hex:"#ff0000"},{r:244,g:0,b:0,hex:"#f40000"},{r:236,g:0,b:0,hex:"#ec0000"},{r:228,g:0,b:0,hex:"#e40000"},{r:220,g:0,b:0,hex:"#dc0000"},{r:212,g:0,b:0,hex:"#d40000"},{r:204,g:0,b:0,hex:"#cc0000"},{r:196,g:0,b:0,hex:"#c40000"},{r:188,g:0,b:0,hex:"#bc0000"},{r:177,g:0,b:0,hex:"#b10000"},{r:169,g:0,b:0,hex:"#a90000"},{r:161,g:0,b:0,hex:"#a10000"},{r:153,g:0,b:0,hex:"#990000"},{r:145,g:0,b:0,hex:"#910000"},{r:137,g:0,b:0,hex:"#890000"},{r:129,g:0,b:0,hex:"#810000"},{r:239,g:154,b:170,hex:"#ef9aaa"},{r:217,g:133,b:170,hex:"#d985aa"},{r:199,g:114,b:170,hex:"#c772aa"},{r:180,g:96,b:170,hex:"#b460aa"},{r:161,g:77,b:170,hex:"#a14daa"},{r:140,g:56,b:170,hex:"#8c38aa"},{r:121,g:37,b:170,hex:"#7925aa"},{r:103,g:18,b:170,hex:"#6712aa"},{r:85,g:0,b:170,hex:"#5500aa"},{r:85,g:0,b:152,hex:"#550098"},{r:85,g:0,b:136,hex:"#550088"},{r:85,g:0,b:120,hex:"#550078"},{r:85,g:0,b:104,hex:"#550068"},{r:85,g:0,b:88,hex:"#550058"},{r:85,g:0,b:72,hex:"#550048"},{r:85,g:0,b:56,hex:"#550038"},{r:255,g:170,b:170,hex:"#ffaaaa"},{r:255,g:157,b:146,hex:"#ff9d92"},{r:255,g:144,b:125,hex:"#ff907d"},{r:255,g:133,b:104,hex:"#ff8568"},{r:255,g:120,b:82,hex:"#ff7852"},{r:255,g:109,b:61,hex:"#ff6d3d"},{r:255,g:96,b:40,hex:"#ff6028"},{r:255,g:85,b:18,hex:"#ff5512"},{r:247,g:77,b:16,hex:"#f74d10"},{r:241,g:74,b:10,hex:"#f14a0a"},{r:233,g:69,b:10,hex:"#e9450a"},{r:228,g:64,b:8,hex:"#e44008"},{r:220,g:58,b:5,hex:"#dc3a05"},{r:215,g:53,b:0,hex:"#d73500"},{r:207,g:48,b:0,hex:"#cf3000"},{r:201,g:45,b:0,hex:"#c92d00"},{r:255,g:170,b:170,hex:"#ffaaaa"},{r:255,g:170,b:144,hex:"#ffaa90"},{r:255,g:170,b:120,hex:"#ffaa78"},{r:255,g:170,b:96,hex:"#ffaa60"},{r:255,g:170,b:72,hex:"#ffaa48"},{r:255,g:170,b:48,hex:"#ffaa30"},{r:255,g:170,b:24,hex:"#ffaa18"},{r:255,g:170,b:0,hex:"#ffaa00"},{r:196,g:42,b:0,hex:"#c42a00"},{r:191,g:37,b:0,hex:"#bf2500"},{r:183,g:32,b:0,hex:"#b72000"},{r:175,g:24,b:0,hex:"#af1800"},{r:137,g:40,b:26,hex:"#89281a"},{r:129,g:32,b:18,hex:"#812012"},{r:121,g:24,b:13,hex:"#79180d"},{r:116,g:18,b:8,hex:"#741208"},{r:85,g:0,b:56,hex:"#550038"},{r:85,g:0,b:48,hex:"#550030"},{r:85,g:0,b:40,hex:"#550028"},{r:85,g:0,b:32,hex:"#550020"},{r:85,g:0,b:24,hex:"#550018"},{r:85,g:0,b:16,hex:"#550010"},{r:85,g:0,b:8,hex:"#550008"},{r:85,g:0,b:0,hex:"#550000"},{r:255,g:106,b:45,hex:"#ff6a2d"},{r:255,g:154,b:50,hex:"#ff9a32"},{r:255,g:82,b:170,hex:"#ff52aa"},{r:255,g:0,b:170,hex:"#ff00aa"},{r:223,g:0,b:138,hex:"#df008a"},{r:191,g:0,b:104,hex:"#bf0068"},{r:159,g:0,b:72,hex:"#9f0048"},{r:196,g:72,b:72,hex:"#c44848"}],[{r:113,g:0,b:0,hex:"#710000"},{r:130,g:13,b:7,hex:"#820d07"},{r:126,g:9,b:4,hex:"#7e0904"},{r:155,g:42,b:42,hex:"#9b2a2a"},{r:255,g:142,b:142,hex:"#ff8e8e"},{r:128,g:15,b:15,hex:"#800f0f"},{r:123,g:11,b:11,hex:"#7b0b0b"},{r:119,g:7,b:7,hex:"#770707"},{r:117,g:4,b:4,hex:"#750404"},{r:139,g:31,b:18,hex:"#8b1f12"},{r:132,g:24,b:9,hex:"#841809"},{r:126,g:18,b:4,hex:"#7e1204"},{r:121,g:13,b:0,hex:"#790d00"},{r:157,g:33,b:24,hex:"#9d2118"},{r:152,g:29,b:20,hex:"#981d14"},{r:148,g:24,b:15,hex:"#94180f"},{r:255,g:102,b:102,hex:"#ff6666"},{r:250,g:95,b:95,hex:"#fa5f5f"},{r:248,g:91,b:91,hex:"#f85b5b"},{r:243,g:84,b:84,hex:"#f35454"},{r:241,g:80,b:80,hex:"#f15050"},{r:237,g:75,b:75,hex:"#ed4b4b"},{r:235,g:69,b:69,hex:"#eb4545"},{r:230,g:64,b:64,hex:"#e64040"},{r:226,g:60,b:60,hex:"#e23c3c"},{r:223,g:55,b:55,hex:"#df3737"},{r:219,g:51,b:51,hex:"#db3333"},{r:217,g:49,b:49,hex:"#d93131"},{r:212,g:44,b:44,hex:"#d42c2c"},{r:210,g:40,b:40,hex:"#d22828"},{r:206,g:35,b:35,hex:"#ce2323"},{r:203,g:33,b:33,hex:"#cb2121"},{r:199,g:29,b:29,hex:"#c71d1d"},{r:197,g:27,b:27,hex:"#c51b1b"},{r:192,g:24,b:24,hex:"#c01818"},{r:190,g:20,b:20,hex:"#be1414"},{r:186,g:18,b:18,hex:"#ba1212"},{r:183,g:15,b:15,hex:"#b70f0f"},{r:179,g:13,b:13,hex:"#b30d0d"},{r:177,g:11,b:11,hex:"#b10b0b"},{r:172,g:9,b:9,hex:"#ac0909"},{r:170,g:7,b:7,hex:"#aa0707"},{r:166,g:4,b:4,hex:"#a60404"},{r:163,g:4,b:4,hex:"#a30404"},{r:159,g:4,b:4,hex:"#9f0404"},{r:157,g:0,b:0,hex:"#9d0000"},{r:152,g:0,b:0,hex:"#980000"},{r:150,g:0,b:0,hex:"#960000"},{r:255,g:131,b:124,hex:"#ff837c"},{r:255,g:127,b:118,hex:"#ff7f76"},{r:255,g:122,b:111,hex:"#ff7a6f"},{r:255,g:118,b:104,hex:"#ff7668"},{r:255,g:115,b:100,hex:"#ff7364"},{r:255,g:111,b:93,hex:"#ff6f5d"},{r:255,g:107,b:87,hex:"#ff6b57"},{r:255,g:104,b:82,hex:"#ff6852"},{r:255,g:100,b:73,hex:"#ff6449"},{r:250,g:95,b:69,hex:"#fa5f45"},{r:246,g:91,b:64,hex:"#f65b40"},{r:241,g:87,b:60,hex:"#f1573c"},{r:237,g:82,b:55,hex:"#ed5237"},{r:232,g:78,b:51,hex:"#e84e33"},{r:228,g:73,b:47,hex:"#e4492f"},{r:226,g:71,b:44,hex:"#e2472c"},{r:219,g:69,b:42,hex:"#db452a"},{r:212,g:64,b:40,hex:"#d44028"},{r:208,g:62,b:38,hex:"#d03e26"},{r:203,g:60,b:35,hex:"#cb3c23"},{r:199,g:55,b:33,hex:"#c73721"},{r:192,g:53,b:31,hex:"#c0351f"},{r:188,g:49,b:29,hex:"#bc311d"},{r:183,g:47,b:27,hex:"#b72f1b"},{r:179,g:44,b:24,hex:"#b32c18"},{r:172,g:40,b:22,hex:"#ac2816"},{r:166,g:38,b:20,hex:"#a62614"},{r:159,g:35,b:18,hex:"#9f2312"},{r:155,g:31,b:15,hex:"#9b1f0f"},{r:148,g:27,b:13,hex:"#941b0d"},{r:141,g:24,b:11,hex:"#8d180b"},{r:137,g:20,b:9,hex:"#891409"},{r:246,g:133,b:133,hex:"#f68585"},{r:241,g:129,b:129,hex:"#f18181"},{r:237,g:124,b:124,hex:"#ed7c7c"},{r:235,g:122,b:122,hex:"#eb7a7a"},{r:230,g:118,b:118,hex:"#e67676"},{r:226,g:113,b:113,hex:"#e27171"},{r:223,g:111,b:111,hex:"#df6f6f"},{r:219,g:107,b:107,hex:"#db6b6b"},{r:215,g:102,b:102,hex:"#d76666"},{r:212,g:100,b:100,hex:"#d46464"},{r:208,g:95,b:95,hex:"#d05f5f"},{r:206,g:93,b:93,hex:"#ce5d5d"},{r:201,g:89,b:89,hex:"#c95959"},{r:197,g:84,b:84,hex:"#c55454"},{r:195,g:82,b:82,hex:"#c35252"},{r:190,g:78,b:78,hex:"#be4e4e"},{r:186,g:73,b:73,hex:"#ba4949"},{r:183,g:71,b:71,hex:"#b74747"},{r:179,g:67,b:67,hex:"#b34343"},{r:175,g:62,b:62,hex:"#af3e3e"},{r:172,g:60,b:60,hex:"#ac3c3c"},{r:168,g:55,b:55,hex:"#a83737"},{r:163,g:51,b:51,hex:"#a33333"},{r:161,g:49,b:49,hex:"#a13131"},{r:157,g:44,b:44,hex:"#9d2c2c"},{r:152,g:40,b:40,hex:"#982828"},{r:150,g:38,b:38,hex:"#962626"},{r:146,g:33,b:33,hex:"#922121"},{r:143,g:31,b:31,hex:"#8f1f1f"},{r:139,g:27,b:27,hex:"#8b1b1b"},{r:135,g:22,b:22,hex:"#871616"},{r:132,g:20,b:20,hex:"#841414"},{r:179,g:142,b:62,hex:"#b38e3e"},{r:175,g:133,b:58,hex:"#af853a"},{r:170,g:124,b:53,hex:"#aa7c35"},{r:166,g:115,b:49,hex:"#a67331"},{r:163,g:107,b:44,hex:"#a36b2c"},{r:159,g:98,b:40,hex:"#9f6228"},{r:155,g:89,b:35,hex:"#9b5923"},{r:150,g:82,b:31,hex:"#96521f"},{r:148,g:73,b:27,hex:"#94491b"},{r:143,g:64,b:24,hex:"#8f4018"},{r:139,g:55,b:20,hex:"#8b3714"},{r:135,g:47,b:15,hex:"#872f0f"},{r:130,g:38,b:13,hex:"#82260d"},{r:126,g:29,b:9,hex:"#7e1d09"},{r:123,g:20,b:7,hex:"#7b1407"},{r:119,g:13,b:4,hex:"#770d04"},{r:219,g:93,b:80,hex:"#db5d50"},{r:215,g:89,b:75,hex:"#d7594b"},{r:210,g:84,b:71,hex:"#d25447"},{r:206,g:80,b:67,hex:"#ce5043"},{r:201,g:75,b:62,hex:"#c94b3e"},{r:199,g:71,b:60,hex:"#c7473c"},{r:195,g:69,b:55,hex:"#c34537"},{r:190,g:64,b:51,hex:"#be4033"},{r:186,g:60,b:49,hex:"#ba3c31"},{r:181,g:55,b:44,hex:"#b5372c"},{r:179,g:53,b:42,hex:"#b3352a"},{r:175,g:49,b:38,hex:"#af3126"},{r:170,g:47,b:35,hex:"#aa2f23"},{r:166,g:42,b:31,hex:"#a62a1f"},{r:161,g:38,b:29,hex:"#a1261d"},{r:159,g:35,b:27,hex:"#9f231b"},{r:201,g:73,b:55,hex:"#c94937"},{r:192,g:67,b:47,hex:"#c0432f"},{r:186,g:60,b:42,hex:"#ba3c2a"},{r:179,g:53,b:35,hex:"#b33523"},{r:170,g:47,b:29,hex:"#aa2f1d"},{r:163,g:40,b:24,hex:"#a32818"},{r:157,g:33,b:20,hex:"#9d2114"},{r:150,g:29,b:15,hex:"#961d0f"},{r:181,g:71,b:55,hex:"#b54737"},{r:175,g:64,b:49,hex:"#af4031"},{r:170,g:60,b:44,hex:"#aa3c2c"},{r:163,g:55,b:40,hex:"#a33728"},{r:159,g:49,b:33,hex:"#9f3121"},{r:152,g:44,b:29,hex:"#982c1d"},{r:148,g:40,b:24,hex:"#942818"},{r:143,g:35,b:22,hex:"#8f2316"},{r:255,g:142,b:64,hex:"#ff8e40"},{r:243,g:122,b:49,hex:"#f37a31"},{r:232,g:104,b:38,hex:"#e86826"},{r:221,g:87,b:27,hex:"#dd571b"},{r:210,g:69,b:18,hex:"#d24512"},{r:199,g:51,b:11,hex:"#c7330b"},{r:188,g:38,b:4,hex:"#bc2604"},{r:177,g:24,b:0,hex:"#b11800"},{r:255,g:142,b:142,hex:"#ff8e8e"},{r:255,g:122,b:122,hex:"#ff7a7a"},{r:255,g:104,b:104,hex:"#ff6868"},{r:255,g:87,b:87,hex:"#ff5757"},{r:255,g:69,b:69,hex:"#ff4545"},{r:255,g:53,b:53,hex:"#ff3535"},{r:255,g:35,b:35,hex:"#ff2323"},{r:255,g:18,b:18,hex:"#ff1212"},{r:255,g:0,b:0,hex:"#ff0000"},{r:246,g:0,b:0,hex:"#f60000"},{r:239,g:0,b:0,hex:"#ef0000"},{r:232,g:0,b:0,hex:"#e80000"},{r:226,g:0,b:0,hex:"#e20000"},{r:219,g:0,b:0,hex:"#db0000"},{r:212,g:0,b:0,hex:"#d40000"},{r:206,g:0,b:0,hex:"#ce0000"},{r:199,g:0,b:0,hex:"#c70000"},{r:190,g:0,b:0,hex:"#be0000"},{r:183,g:0,b:0,hex:"#b70000"},{r:177,g:0,b:0,hex:"#b10000"},{r:170,g:0,b:0,hex:"#aa0000"},{r:163,g:0,b:0,hex:"#a30000"},{r:157,g:0,b:0,hex:"#9d0000"},{r:150,g:0,b:0,hex:"#960000"},{r:241,g:129,b:142,hex:"#f1818e"},{r:223,g:111,b:142,hex:"#df6f8e"},{r:208,g:95,b:142,hex:"#d05f8e"},{r:192,g:80,b:142,hex:"#c0508e"},{r:177,g:64,b:142,hex:"#b1408e"},{r:159,g:47,b:142,hex:"#9f2f8e"},{r:143,g:31,b:142,hex:"#8f1f8e"},{r:128,g:15,b:142,hex:"#800f8e"},{r:113,g:0,b:142,hex:"#71008e"},{r:113,g:0,b:127,hex:"#71007f"},{r:113,g:0,b:113,hex:"#710071"},{r:113,g:0,b:100,hex:"#710064"},{r:113,g:0,b:87,hex:"#710057"},{r:113,g:0,b:73,hex:"#710049"},{r:113,g:0,b:60,hex:"#71003c"},{r:113,g:0,b:47,hex:"#71002f"},{r:255,g:142,b:142,hex:"#ff8e8e"},{r:255,g:131,b:122,hex:"#ff837a"},{r:255,g:120,b:104,hex:"#ff7868"},{r:255,g:111,b:87,hex:"#ff6f57"},{r:255,g:100,b:69,hex:"#ff6445"},{r:255,g:91,b:51,hex:"#ff5b33"},{r:255,g:80,b:33,hex:"#ff5021"},{r:255,g:71,b:15,hex:"#ff470f"},{r:248,g:64,b:13,hex:"#f8400d"},{r:243,g:62,b:9,hex:"#f33e09"},{r:237,g:58,b:9,hex:"#ed3a09"},{r:232,g:53,b:7,hex:"#e83507"},{r:226,g:49,b:4,hex:"#e23104"},{r:221,g:44,b:0,hex:"#dd2c00"},{r:215,g:40,b:0,hex:"#d72800"},{r:210,g:38,b:0,hex:"#d22600"},{r:255,g:142,b:142,hex:"#ff8e8e"},{r:255,g:142,b:120,hex:"#ff8e78"},{r:255,g:142,b:100,hex:"#ff8e64"},{r:255,g:142,b:80,hex:"#ff8e50"},{r:255,g:142,b:60,hex:"#ff8e3c"},{r:255,g:142,b:40,hex:"#ff8e28"},{r:255,g:142,b:20,hex:"#ff8e14"},{r:255,g:142,b:0,hex:"#ff8e00"},{r:206,g:35,b:0,hex:"#ce2300"},{r:201,g:31,b:0,hex:"#c91f00"},{r:195,g:27,b:0,hex:"#c31b00"},{r:188,g:20,b:0,hex:"#bc1400"},{r:157,g:33,b:22,hex:"#9d2116"},{r:150,g:27,b:15,hex:"#961b0f"},{r:143,g:20,b:11,hex:"#8f140b"},{r:139,g:15,b:7,hex:"#8b0f07"},{r:113,g:0,b:47,hex:"#71002f"},{r:113,g:0,b:40,hex:"#710028"},{r:113,g:0,b:33,hex:"#710021"},{r:113,g:0,b:27,hex:"#71001b"},{r:113,g:0,b:20,hex:"#710014"},{r:113,g:0,b:13,hex:"#71000d"},{r:113,g:0,b:7,hex:"#710007"},{r:113,g:0,b:0,hex:"#710000"},{r:255,g:89,b:38,hex:"#ff5926"},{r:255,g:129,b:42,hex:"#ff812a"},{r:255,g:69,b:142,hex:"#ff458e"},{r:255,g:0,b:142,hex:"#ff008e"},{r:228,g:0,b:115,hex:"#e40073"},{r:201,g:0,b:87,hex:"#c90057"},{r:175,g:0,b:60,hex:"#af003c"},{r:206,g:60,b:60,hex:"#ce3c3c"}],[{r:141,g:0,b:0,hex:"#8d0000"},{r:155,g:11,b:5,hex:"#9b0b05"},{r:151,g:7,b:4,hex:"#970704"},{r:175,g:34,b:34,hex:"#af2222"},{r:255,g:114,b:114,hex:"#ff7272"},{r:153,g:12,b:12,hex:"#990c0c"},{r:150,g:9,b:9,hex:"#960909"},{r:146,g:5,b:5,hex:"#920505"},{r:144,g:4,b:4,hex:"#900404"},{r:162,g:25,b:14,hex:"#a2190e"},{r:157,g:20,b:7,hex:"#9d1407"},{r:151,g:14,b:4,hex:"#970e04"},{r:148,g:11,b:0,hex:"#940b00"},{r:176,g:27,b:20,hex:"#b01b14"},{r:173,g:23,b:16,hex:"#ad1710"},{r:169,g:20,b:12,hex:"#a9140c"},{r:255,g:82,b:82,hex:"#ff5252"},{r:251,g:76,b:76,hex:"#fb4c4c"},{r:249,g:73,b:73,hex:"#f94949"},{r:246,g:68,b:68,hex:"#f64444"},{r:244,g:64,b:64,hex:"#f44040"},{r:240,g:60,b:60,hex:"#f03c3c"},{r:239,g:55,b:55,hex:"#ef3737"},{r:235,g:52,b:52,hex:"#eb3434"},{r:231,g:48,b:48,hex:"#e73030"},{r:230,g:44,b:44,hex:"#e62c2c"},{r:226,g:41,b:41,hex:"#e22929"},{r:224,g:39,b:39,hex:"#e02727"},{r:221,g:36,b:36,hex:"#dd2424"},{r:219,g:32,b:32,hex:"#db2020"},{r:215,g:28,b:28,hex:"#d71c1c"},{r:214,g:27,b:27,hex:"#d61b1b"},{r:210,g:23,b:23,hex:"#d21717"},{r:208,g:21,b:21,hex:"#d01515"},{r:205,g:20,b:20,hex:"#cd1414"},{r:203,g:16,b:16,hex:"#cb1010"},{r:199,g:14,b:14,hex:"#c70e0e"},{r:198,g:12,b:12,hex:"#c60c0c"},{r:194,g:11,b:11,hex:"#c20b0b"},{r:192,g:9,b:9,hex:"#c00909"},{r:189,g:7,b:7,hex:"#bd0707"},{r:187,g:5,b:5,hex:"#bb0505"},{r:183,g:4,b:4,hex:"#b70404"},{r:182,g:4,b:4,hex:"#b60404"},{r:178,g:4,b:4,hex:"#b20404"},{r:176,g:0,b:0,hex:"#b00000"},{r:173,g:0,b:0,hex:"#ad0000"},{r:171,g:0,b:0,hex:"#ab0000"},{r:255,g:105,b:100,hex:"#ff6964"},{r:255,g:101,b:94,hex:"#ff655e"},{r:255,g:98,b:89,hex:"#ff6259"},{r:255,g:94,b:84,hex:"#ff5e54"},{r:255,g:92,b:80,hex:"#ff5c50"},{r:255,g:89,b:75,hex:"#ff594b"},{r:255,g:85,b:69,hex:"#ff5545"},{r:255,g:84,b:66,hex:"#ff5442"},{r:255,g:80,b:59,hex:"#ff503b"},{r:251,g:76,b:55,hex:"#fb4c37"},{r:247,g:73,b:52,hex:"#f74934"},{r:244,g:69,b:48,hex:"#f44530"},{r:240,g:66,b:44,hex:"#f0422c"},{r:237,g:62,b:41,hex:"#ed3e29"},{r:233,g:59,b:37,hex:"#e93b25"},{r:231,g:57,b:36,hex:"#e73924"},{r:226,g:55,b:34,hex:"#e23722"},{r:221,g:52,b:32,hex:"#dd3420"},{r:217,g:50,b:30,hex:"#d9321e"},{r:214,g:48,b:28,hex:"#d6301c"},{r:210,g:44,b:27,hex:"#d22c1b"},{r:205,g:43,b:25,hex:"#cd2b19"},{r:201,g:39,b:23,hex:"#c92717"},{r:198,g:37,b:21,hex:"#c62515"},{r:194,g:36,b:20,hex:"#c22414"},{r:189,g:32,b:18,hex:"#bd2012"},{r:183,g:30,b:16,hex:"#b71e10"},{r:178,g:28,b:14,hex:"#b21c0e"},{r:175,g:25,b:12,hex:"#af190c"},{r:169,g:21,b:11,hex:"#a9150b"},{r:164,g:20,b:9,hex:"#a41409"},{r:160,g:16,b:7,hex:"#a01007"},{r:247,g:107,b:107,hex:"#f76b6b"},{r:244,g:103,b:103,hex:"#f46767"},{r:240,g:100,b:100,hex:"#f06464"},{r:239,g:98,b:98,hex:"#ef6262"},{r:235,g:94,b:94,hex:"#eb5e5e"},{r:231,g:91,b:91,hex:"#e75b5b"},{r:230,g:89,b:89,hex:"#e65959"},{r:226,g:85,b:85,hex:"#e25555"},{r:223,g:82,b:82,hex:"#df5252"},{r:221,g:80,b:80,hex:"#dd5050"},{r:217,g:76,b:76,hex:"#d94c4c"},{r:215,g:75,b:75,hex:"#d74b4b"},{r:212,g:71,b:71,hex:"#d44747"},{r:208,g:68,b:68,hex:"#d04444"},{r:207,g:66,b:66,hex:"#cf4242"},{r:203,g:62,b:62,hex:"#cb3e3e"},{r:199,g:59,b:59,hex:"#c73b3b"},{r:198,g:57,b:57,hex:"#c63939"},{r:194,g:53,b:53,hex:"#c23535"},{r:191,g:50,b:50,hex:"#bf3232"},{r:189,g:48,b:48,hex:"#bd3030"},{r:185,g:44,b:44,hex:"#b92c2c"},{r:182,g:41,b:41,hex:"#b62929"},{r:180,g:39,b:39,hex:"#b42727"},{r:176,g:36,b:36,hex:"#b02424"},{r:173,g:32,b:32,hex:"#ad2020"},{r:171,g:30,b:30,hex:"#ab1e1e"},{r:167,g:27,b:27,hex:"#a71b1b"},{r:166,g:25,b:25,hex:"#a61919"},{r:162,g:21,b:21,hex:"#a21515"},{r:159,g:18,b:18,hex:"#9f1212"},{r:157,g:16,b:16,hex:"#9d1010"},{r:194,g:114,b:50,hex:"#c27232"},{r:191,g:107,b:46,hex:"#bf6b2e"},{r:187,g:100,b:43,hex:"#bb642b"},{r:183,g:92,b:39,hex:"#b75c27"},{r:182,g:85,b:36,hex:"#b65524"},{r:178,g:78,b:32,hex:"#b24e20"},{r:175,g:71,b:28,hex:"#af471c"},{r:171,g:66,b:25,hex:"#ab4219"},{r:169,g:59,b:21,hex:"#a93b15"},{r:166,g:52,b:20,hex:"#a63414"},{r:162,g:44,b:16,hex:"#a22c10"},{r:159,g:37,b:12,hex:"#9f250c"},{r:155,g:30,b:11,hex:"#9b1e0b"},{r:151,g:23,b:7,hex:"#971707"},{r:150,g:16,b:5,hex:"#961005"},{r:146,g:11,b:4,hex:"#920b04"},{r:226,g:75,b:64,hex:"#e24b40"},{r:223,g:71,b:60,hex:"#df473c"},{r:219,g:68,b:57,hex:"#db4439"},{r:215,g:64,b:53,hex:"#d74035"},{r:212,g:60,b:50,hex:"#d43c32"},{r:210,g:57,b:48,hex:"#d23930"},{r:207,g:55,b:44,hex:"#cf372c"},{r:203,g:52,b:41,hex:"#cb3429"},{r:199,g:48,b:39,hex:"#c73027"},{r:196,g:44,b:36,hex:"#c42c24"},{r:194,g:43,b:34,hex:"#c22b22"},{r:191,g:39,b:30,hex:"#bf271e"},{r:187,g:37,b:28,hex:"#bb251c"},{r:183,g:34,b:25,hex:"#b72219"},{r:180,g:30,b:23,hex:"#b41e17"},{r:178,g:28,b:21,hex:"#b21c15"},{r:212,g:59,b:44,hex:"#d43b2c"},{r:205,g:53,b:37,hex:"#cd3525"},{r:199,g:48,b:34,hex:"#c73022"},{r:194,g:43,b:28,hex:"#c22b1c"},{r:187,g:37,b:23,hex:"#bb2517"},{r:182,g:32,b:20,hex:"#b62014"},{r:176,g:27,b:16,hex:"#b01b10"},{r:171,g:23,b:12,hex:"#ab170c"},{r:196,g:57,b:44,hex:"#c4392c"},{r:191,g:52,b:39,hex:"#bf3427"},{r:187,g:48,b:36,hex:"#bb3024"},{r:182,g:44,b:32,hex:"#b62c20"},{r:178,g:39,b:27,hex:"#b2271b"},{r:173,g:36,b:23,hex:"#ad2417"},{r:169,g:32,b:20,hex:"#a92014"},{r:166,g:28,b:18,hex:"#a61c12"},{r:255,g:114,b:52,hex:"#ff7234"},{r:246,g:98,b:39,hex:"#f66227"},{r:237,g:84,b:30,hex:"#ed541e"},{r:228,g:69,b:21,hex:"#e44515"},{r:219,g:55,b:14,hex:"#db370e"},{r:210,g:41,b:9,hex:"#d22909"},{r:201,g:30,b:4,hex:"#c91e04"},{r:192,g:20,b:0,hex:"#c01400"},{r:255,g:114,b:114,hex:"#ff7272"},{r:255,g:98,b:98,hex:"#ff6262"},{r:255,g:84,b:84,hex:"#ff5454"},{r:255,g:69,b:69,hex:"#ff4545"},{r:255,g:55,b:55,hex:"#ff3737"},{r:255,g:43,b:43,hex:"#ff2b2b"},{r:255,g:28,b:28,hex:"#ff1c1c"},{r:255,g:14,b:14,hex:"#ff0e0e"},{r:255,g:0,b:0,hex:"#ff0000"},{r:247,g:0,b:0,hex:"#f70000"},{r:242,g:0,b:0,hex:"#f20000"},{r:237,g:0,b:0,hex:"#ed0000"},{r:231,g:0,b:0,hex:"#e70000"},{r:226,g:0,b:0,hex:"#e20000"},{r:221,g:0,b:0,hex:"#dd0000"},{r:215,g:0,b:0,hex:"#d70000"},{r:210,g:0,b:0,hex:"#d20000"},{r:203,g:0,b:0,hex:"#cb0000"},{r:198,g:0,b:0,hex:"#c60000"},{r:192,g:0,b:0,hex:"#c00000"},{r:187,g:0,b:0,hex:"#bb0000"},{r:182,g:0,b:0,hex:"#b60000"},{r:176,g:0,b:0,hex:"#b00000"},{r:171,g:0,b:0,hex:"#ab0000"},{r:244,g:103,b:114,hex:"#f46772"},{r:230,g:89,b:114,hex:"#e65972"},{r:217,g:76,b:114,hex:"#d94c72"},{r:205,g:64,b:114,hex:"#cd4072"},{r:192,g:52,b:114,hex:"#c03472"},{r:178,g:37,b:114,hex:"#b22572"},{r:166,g:25,b:114,hex:"#a61972"},{r:153,g:12,b:114,hex:"#990c72"},{r:141,g:0,b:114,hex:"#8d0072"},{r:141,g:0,b:101,hex:"#8d0065"},{r:141,g:0,b:91,hex:"#8d005b"},{r:141,g:0,b:80,hex:"#8d0050"},{r:141,g:0,b:69,hex:"#8d0045"},{r:141,g:0,b:59,hex:"#8d003b"},{r:141,g:0,b:48,hex:"#8d0030"},{r:141,g:0,b:37,hex:"#8d0025"},{r:255,g:114,b:114,hex:"#ff7272"},{r:255,g:105,b:98,hex:"#ff6962"},{r:255,g:96,b:84,hex:"#ff6054"},{r:255,g:89,b:69,hex:"#ff5945"},{r:255,g:80,b:55,hex:"#ff5037"},{r:255,g:73,b:41,hex:"#ff4929"},{r:255,g:64,b:27,hex:"#ff401b"},{r:255,g:57,b:12,hex:"#ff390c"},{r:249,g:52,b:11,hex:"#f9340b"},{r:246,g:50,b:7,hex:"#f63207"},{r:240,g:46,b:7,hex:"#f02e07"},{r:237,g:43,b:5,hex:"#ed2b05"},{r:231,g:39,b:4,hex:"#e72704"},{r:228,g:36,b:0,hex:"#e42400"},{r:223,g:32,b:0,hex:"#df2000"},{r:219,g:30,b:0,hex:"#db1e00"},{r:255,g:114,b:114,hex:"#ff7272"},{r:255,g:114,b:96,hex:"#ff7260"},{r:255,g:114,b:80,hex:"#ff7250"},{r:255,g:114,b:64,hex:"#ff7240"},{r:255,g:114,b:48,hex:"#ff7230"},{r:255,g:114,b:32,hex:"#ff7220"},{r:255,g:114,b:16,hex:"#ff7210"},{r:255,g:114,b:0,hex:"#ff7200"},{r:215,g:28,b:0,hex:"#d71c00"},{r:212,g:25,b:0,hex:"#d41900"},{r:207,g:21,b:0,hex:"#cf1500"},{r:201,g:16,b:0,hex:"#c91000"},{r:176,g:27,b:18,hex:"#b01b12"},{r:171,g:21,b:12,hex:"#ab150c"},{r:166,g:16,b:9,hex:"#a61009"},{r:162,g:12,b:5,hex:"#a20c05"},{r:141,g:0,b:37,hex:"#8d0025"},{r:141,g:0,b:32,hex:"#8d0020"},{r:141,g:0,b:27,hex:"#8d001b"},{r:141,g:0,b:21,hex:"#8d0015"},{r:141,g:0,b:16,hex:"#8d0010"},{r:141,g:0,b:11,hex:"#8d000b"},{r:141,g:0,b:5,hex:"#8d0005"},{r:141,g:0,b:0,hex:"#8d0000"},{r:255,g:71,b:30,hex:"#ff471e"},{r:255,g:103,b:34,hex:"#ff6722"},{r:255,g:55,b:114,hex:"#ff3772"},{r:255,g:0,b:114,hex:"#ff0072"},{r:233,g:0,b:92,hex:"#e9005c"},{r:212,g:0,b:69,hex:"#d40045"},{r:191,g:0,b:48,hex:"#bf0030"},{r:215,g:48,b:48,hex:"#d73030"}],[{r:170,g:0,b:0,hex:"#aa0000"},{r:180,g:8,b:4,hex:"#b40804"},{r:177,g:5,b:3,hex:"#b10503"},{r:195,g:25,b:25,hex:"#c31919"},{r:255,g:85,b:85,hex:"#ff5555"},{r:179,g:9,b:9,hex:"#b30909"},{r:176,g:7,b:7,hex:"#b00707"},{r:173,g:4,b:4,hex:"#ad0404"},{r:172,g:3,b:3,hex:"#ac0303"},{r:185,g:19,b:11,hex:"#b9130b"},{r:181,g:15,b:5,hex:"#b50f05"},{r:177,g:11,b:3,hex:"#b10b03"},{r:175,g:8,b:0,hex:"#af0800"},{r:196,g:20,b:15,hex:"#c4140f"},{r:193,g:17,b:12,hex:"#c1110c"},{r:191,g:15,b:9,hex:"#bf0f09"},{r:255,g:61,b:61,hex:"#ff3d3d"},{r:252,g:57,b:57,hex:"#fc3939"},{r:251,g:55,b:55,hex:"#fb3737"},{r:248,g:51,b:51,hex:"#f83333"},{r:247,g:48,b:48,hex:"#f73030"},{r:244,g:45,b:45,hex:"#f42d2d"},{r:243,g:41,b:41,hex:"#f32929"},{r:240,g:39,b:39,hex:"#f02727"},{r:237,g:36,b:36,hex:"#ed2424"},{r:236,g:33,b:33,hex:"#ec2121"},{r:233,g:31,b:31,hex:"#e91f1f"},{r:232,g:29,b:29,hex:"#e81d1d"},{r:229,g:27,b:27,hex:"#e51b1b"},{r:228,g:24,b:24,hex:"#e41818"},{r:225,g:21,b:21,hex:"#e11515"},{r:224,g:20,b:20,hex:"#e01414"},{r:221,g:17,b:17,hex:"#dd1111"},{r:220,g:16,b:16,hex:"#dc1010"},{r:217,g:15,b:15,hex:"#d90f0f"},{r:216,g:12,b:12,hex:"#d80c0c"},{r:213,g:11,b:11,hex:"#d50b0b"},{r:212,g:9,b:9,hex:"#d40909"},{r:209,g:8,b:8,hex:"#d10808"},{r:208,g:7,b:7,hex:"#d00707"},{r:205,g:5,b:5,hex:"#cd0505"},{r:204,g:4,b:4,hex:"#cc0404"},{r:201,g:3,b:3,hex:"#c90303"},{r:200,g:3,b:3,hex:"#c80303"},{r:197,g:3,b:3,hex:"#c50303"},{r:196,g:0,b:0,hex:"#c40000"},{r:193,g:0,b:0,hex:"#c10000"},{r:192,g:0,b:0,hex:"#c00000"},{r:255,g:79,b:75,hex:"#ff4f4b"},{r:255,g:76,b:71,hex:"#ff4c47"},{r:255,g:73,b:67,hex:"#ff4943"},{r:255,g:71,b:63,hex:"#ff473f"},{r:255,g:69,b:60,hex:"#ff453c"},{r:255,g:67,b:56,hex:"#ff4338"},{r:255,g:64,b:52,hex:"#ff4034"},{r:255,g:63,b:49,hex:"#ff3f31"},{r:255,g:60,b:44,hex:"#ff3c2c"},{r:252,g:57,b:41,hex:"#fc3929"},{r:249,g:55,b:39,hex:"#f93727"},{r:247,g:52,b:36,hex:"#f73424"},{r:244,g:49,b:33,hex:"#f43121"},{r:241,g:47,b:31,hex:"#f12f1f"},{r:239,g:44,b:28,hex:"#ef2c1c"},{r:237,g:43,b:27,hex:"#ed2b1b"},{r:233,g:41,b:25,hex:"#e92919"},{r:229,g:39,b:24,hex:"#e52718"},{r:227,g:37,b:23,hex:"#e32517"},{r:224,g:36,b:21,hex:"#e02415"},{r:221,g:33,b:20,hex:"#dd2114"},{r:217,g:32,b:19,hex:"#d92013"},{r:215,g:29,b:17,hex:"#d71d11"},{r:212,g:28,b:16,hex:"#d41c10"},{r:209,g:27,b:15,hex:"#d11b0f"},{r:205,g:24,b:13,hex:"#cd180d"},{r:201,g:23,b:12,hex:"#c9170c"},{r:197,g:21,b:11,hex:"#c5150b"},{r:195,g:19,b:9,hex:"#c31309"},{r:191,g:16,b:8,hex:"#bf1008"},{r:187,g:15,b:7,hex:"#bb0f07"},{r:184,g:12,b:5,hex:"#b80c05"},{r:249,g:80,b:80,hex:"#f95050"},{r:247,g:77,b:77,hex:"#f74d4d"},{r:244,g:75,b:75,hex:"#f44b4b"},{r:243,g:73,b:73,hex:"#f34949"},{r:240,g:71,b:71,hex:"#f04747"},{r:237,g:68,b:68,hex:"#ed4444"},{r:236,g:67,b:67,hex:"#ec4343"},{r:233,g:64,b:64,hex:"#e94040"},{r:231,g:61,b:61,hex:"#e73d3d"},{r:229,g:60,b:60,hex:"#e53c3c"},{r:227,g:57,b:57,hex:"#e33939"},{r:225,g:56,b:56,hex:"#e13838"},{r:223,g:53,b:53,hex:"#df3535"},{r:220,g:51,b:51,hex:"#dc3333"},{r:219,g:49,b:49,hex:"#db3131"},{r:216,g:47,b:47,hex:"#d82f2f"},{r:213,g:44,b:44,hex:"#d52c2c"},{r:212,g:43,b:43,hex:"#d42b2b"},{r:209,g:40,b:40,hex:"#d12828"},{r:207,g:37,b:37,hex:"#cf2525"},{r:205,g:36,b:36,hex:"#cd2424"},{r:203,g:33,b:33,hex:"#cb2121"},{r:200,g:31,b:31,hex:"#c81f1f"},{r:199,g:29,b:29,hex:"#c71d1d"},{r:196,g:27,b:27,hex:"#c41b1b"},{r:193,g:24,b:24,hex:"#c11818"},{r:192,g:23,b:23,hex:"#c01717"},{r:189,g:20,b:20,hex:"#bd1414"},{r:188,g:19,b:19,hex:"#bc1313"},{r:185,g:16,b:16,hex:"#b91010"},{r:183,g:13,b:13,hex:"#b70d0d"},{r:181,g:12,b:12,hex:"#b50c0c"},{r:209,g:85,b:37,hex:"#d15525"},{r:207,g:80,b:35,hex:"#cf5023"},{r:204,g:75,b:32,hex:"#cc4b20"},{r:201,g:69,b:29,hex:"#c9451d"},{r:200,g:64,b:27,hex:"#c8401b"},{r:197,g:59,b:24,hex:"#c53b18"},{r:195,g:53,b:21,hex:"#c33515"},{r:192,g:49,b:19,hex:"#c03113"},{r:191,g:44,b:16,hex:"#bf2c10"},{r:188,g:39,b:15,hex:"#bc270f"},{r:185,g:33,b:12,hex:"#b9210c"},{r:183,g:28,b:9,hex:"#b71c09"},{r:180,g:23,b:8,hex:"#b41708"},{r:177,g:17,b:5,hex:"#b11105"},{r:176,g:12,b:4,hex:"#b00c04"},{r:173,g:8,b:3,hex:"#ad0803"},{r:233,g:56,b:48,hex:"#e93830"},{r:231,g:53,b:45,hex:"#e7352d"},{r:228,g:51,b:43,hex:"#e4332b"},{r:225,g:48,b:40,hex:"#e13028"},{r:223,g:45,b:37,hex:"#df2d25"},{r:221,g:43,b:36,hex:"#dd2b24"},{r:219,g:41,b:33,hex:"#db2921"},{r:216,g:39,b:31,hex:"#d8271f"},{r:213,g:36,b:29,hex:"#d5241d"},{r:211,g:33,b:27,hex:"#d3211b"},{r:209,g:32,b:25,hex:"#d12019"},{r:207,g:29,b:23,hex:"#cf1d17"},{r:204,g:28,b:21,hex:"#cc1c15"},{r:201,g:25,b:19,hex:"#c91913"},{r:199,g:23,b:17,hex:"#c71711"},{r:197,g:21,b:16,hex:"#c51510"},{r:223,g:44,b:33,hex:"#df2c21"},{r:217,g:40,b:28,hex:"#d9281c"},{r:213,g:36,b:25,hex:"#d52419"},{r:209,g:32,b:21,hex:"#d12015"},{r:204,g:28,b:17,hex:"#cc1c11"},{r:200,g:24,b:15,hex:"#c8180f"},{r:196,g:20,b:12,hex:"#c4140c"},{r:192,g:17,b:9,hex:"#c01109"},{r:211,g:43,b:33,hex:"#d32b21"},{r:207,g:39,b:29,hex:"#cf271d"},{r:204,g:36,b:27,hex:"#cc241b"},{r:200,g:33,b:24,hex:"#c82118"},{r:197,g:29,b:20,hex:"#c51d14"},{r:193,g:27,b:17,hex:"#c11b11"},{r:191,g:24,b:15,hex:"#bf180f"},{r:188,g:21,b:13,hex:"#bc150d"},{r:255,g:85,b:39,hex:"#ff5527"},{r:248,g:73,b:29,hex:"#f8491d"},{r:241,g:63,b:23,hex:"#f13f17"},{r:235,g:52,b:16,hex:"#eb3410"},{r:228,g:41,b:11,hex:"#e4290b"},{r:221,g:31,b:7,hex:"#dd1f07"},{r:215,g:23,b:3,hex:"#d71703"},{r:208,g:15,b:0,hex:"#d00f00"},{r:255,g:85,b:85,hex:"#ff5555"},{r:255,g:73,b:73,hex:"#ff4949"},{r:255,g:63,b:63,hex:"#ff3f3f"},{r:255,g:52,b:52,hex:"#ff3434"},{r:255,g:41,b:41,hex:"#ff2929"},{r:255,g:32,b:32,hex:"#ff2020"},{r:255,g:21,b:21,hex:"#ff1515"},{r:255,g:11,b:11,hex:"#ff0b0b"},{r:255,g:0,b:0,hex:"#ff0000"},{r:249,g:0,b:0,hex:"#f90000"},{r:245,g:0,b:0,hex:"#f50000"},{r:241,g:0,b:0,hex:"#f10000"},{r:237,g:0,b:0,hex:"#ed0000"},{r:233,g:0,b:0,hex:"#e90000"},{r:229,g:0,b:0,hex:"#e50000"},{r:225,g:0,b:0,hex:"#e10000"},{r:221,g:0,b:0,hex:"#dd0000"},{r:216,g:0,b:0,hex:"#d80000"},{r:212,g:0,b:0,hex:"#d40000"},{r:208,g:0,b:0,hex:"#d00000"},{r:204,g:0,b:0,hex:"#cc0000"},{r:200,g:0,b:0,hex:"#c80000"},{r:196,g:0,b:0,hex:"#c40000"},{r:192,g:0,b:0,hex:"#c00000"},{r:247,g:77,b:85,hex:"#f74d55"},{r:236,g:67,b:85,hex:"#ec4355"},{r:227,g:57,b:85,hex:"#e33955"},{r:217,g:48,b:85,hex:"#d93055"},{r:208,g:39,b:85,hex:"#d02755"},{r:197,g:28,b:85,hex:"#c51c55"},{r:188,g:19,b:85,hex:"#bc1355"},{r:179,g:9,b:85,hex:"#b30955"},{r:170,g:0,b:85,hex:"#aa0055"},{r:170,g:0,b:76,hex:"#aa004c"},{r:170,g:0,b:68,hex:"#aa0044"},{r:170,g:0,b:60,hex:"#aa003c"},{r:170,g:0,b:52,hex:"#aa0034"},{r:170,g:0,b:44,hex:"#aa002c"},{r:170,g:0,b:36,hex:"#aa0024"},{r:170,g:0,b:28,hex:"#aa001c"},{r:255,g:85,b:85,hex:"#ff5555"},{r:255,g:79,b:73,hex:"#ff4f49"},{r:255,g:72,b:63,hex:"#ff483f"},{r:255,g:67,b:52,hex:"#ff4334"},{r:255,g:60,b:41,hex:"#ff3c29"},{r:255,g:55,b:31,hex:"#ff371f"},{r:255,g:48,b:20,hex:"#ff3014"},{r:255,g:43,b:9,hex:"#ff2b09"},{r:251,g:39,b:8,hex:"#fb2708"},{r:248,g:37,b:5,hex:"#f82505"},{r:244,g:35,b:5,hex:"#f42305"},{r:241,g:32,b:4,hex:"#f12004"},{r:237,g:29,b:3,hex:"#ed1d03"},{r:235,g:27,b:0,hex:"#eb1b00"},{r:231,g:24,b:0,hex:"#e71800"},{r:228,g:23,b:0,hex:"#e41700"},{r:255,g:85,b:85,hex:"#ff5555"},{r:255,g:85,b:72,hex:"#ff5548"},{r:255,g:85,b:60,hex:"#ff553c"},{r:255,g:85,b:48,hex:"#ff5530"},{r:255,g:85,b:36,hex:"#ff5524"},{r:255,g:85,b:24,hex:"#ff5518"},{r:255,g:85,b:12,hex:"#ff550c"},{r:255,g:85,b:0,hex:"#ff5500"},{r:225,g:21,b:0,hex:"#e11500"},{r:223,g:19,b:0,hex:"#df1300"},{r:219,g:16,b:0,hex:"#db1000"},{r:215,g:12,b:0,hex:"#d70c00"},{r:196,g:20,b:13,hex:"#c4140d"},{r:192,g:16,b:9,hex:"#c01009"},{r:188,g:12,b:7,hex:"#bc0c07"},{r:185,g:9,b:4,hex:"#b90904"},{r:170,g:0,b:28,hex:"#aa001c"},{r:170,g:0,b:24,hex:"#aa0018"},{r:170,g:0,b:20,hex:"#aa0014"},{r:170,g:0,b:16,hex:"#aa0010"},{r:170,g:0,b:12,hex:"#aa000c"},{r:170,g:0,b:8,hex:"#aa0008"},{r:170,g:0,b:4,hex:"#aa0004"},{r:170,g:0,b:0,hex:"#aa0000"},{r:255,g:53,b:23,hex:"#ff3517"},{r:255,g:77,b:25,hex:"#ff4d19"},{r:255,g:41,b:85,hex:"#ff2955"},{r:255,g:0,b:85,hex:"#ff0055"},{r:239,g:0,b:69,hex:"#ef0045"},{r:223,g:0,b:52,hex:"#df0034"},{r:207,g:0,b:36,hex:"#cf0024"},{r:225,g:36,b:36,hex:"#e12424"}],[{r:198,g:0,b:0,hex:"#c60000"},{r:205,g:6,b:3,hex:"#cd0603"},{r:203,g:4,b:2,hex:"#cb0402"},{r:215,g:17,b:17,hex:"#d71111"},{r:255,g:57,b:57,hex:"#ff3939"},{r:204,g:6,b:6,hex:"#cc0606"},{r:202,g:5,b:5,hex:"#ca0505"},{r:200,g:3,b:3,hex:"#c80303"},{r:199,g:2,b:2,hex:"#c70202"},{r:208,g:13,b:7,hex:"#d00d07"},{r:206,g:10,b:4,hex:"#ce0a04"},{r:203,g:7,b:2,hex:"#cb0702"},{r:201,g:6,b:0,hex:"#c90600"},{r:215,g:14,b:10,hex:"#d70e0a"},{r:214,g:12,b:8,hex:"#d60c08"},{r:212,g:10,b:6,hex:"#d40a06"},{r:255,g:41,b:41,hex:"#ff2929"},{r:253,g:38,b:38,hex:"#fd2626"},{r:252,g:37,b:37,hex:"#fc2525"},{r:250,g:34,b:34,hex:"#fa2222"},{r:249,g:32,b:32,hex:"#f92020"},{r:247,g:30,b:30,hex:"#f71e1e"},{r:247,g:28,b:28,hex:"#f71c1c"},{r:245,g:26,b:26,hex:"#f51a1a"},{r:243,g:24,b:24,hex:"#f31818"},{r:242,g:22,b:22,hex:"#f21616"},{r:240,g:21,b:21,hex:"#f01515"},{r:239,g:20,b:20,hex:"#ef1414"},{r:238,g:18,b:18,hex:"#ee1212"},{r:237,g:16,b:16,hex:"#ed1010"},{r:235,g:14,b:14,hex:"#eb0e0e"},{r:234,g:14,b:14,hex:"#ea0e0e"},{r:232,g:12,b:12,hex:"#e80c0c"},{r:231,g:11,b:11,hex:"#e70b0b"},{r:230,g:10,b:10,hex:"#e60a0a"},{r:229,g:8,b:8,hex:"#e50808"},{r:227,g:7,b:7,hex:"#e30707"},{r:226,g:6,b:6,hex:"#e20606"},{r:224,g:6,b:6,hex:"#e00606"},{r:223,g:5,b:5,hex:"#df0505"},{r:222,g:4,b:4,hex:"#de0404"},{r:221,g:3,b:3,hex:"#dd0303"},{r:219,g:2,b:2,hex:"#db0202"},{r:218,g:2,b:2,hex:"#da0202"},{r:216,g:2,b:2,hex:"#d80202"},{r:215,g:0,b:0,hex:"#d70000"},{r:214,g:0,b:0,hex:"#d60000"},{r:213,g:0,b:0,hex:"#d50000"},{r:255,g:53,b:50,hex:"#ff3532"},{r:255,g:51,b:47,hex:"#ff332f"},{r:255,g:49,b:45,hex:"#ff312d"},{r:255,g:47,b:42,hex:"#ff2f2a"},{r:255,g:46,b:40,hex:"#ff2e28"},{r:255,g:45,b:38,hex:"#ff2d26"},{r:255,g:43,b:35,hex:"#ff2b23"},{r:255,g:42,b:33,hex:"#ff2a21"},{r:255,g:40,b:30,hex:"#ff281e"},{r:253,g:38,b:28,hex:"#fd261c"},{r:251,g:37,b:26,hex:"#fb251a"},{r:249,g:35,b:24,hex:"#f92318"},{r:247,g:33,b:22,hex:"#f72116"},{r:246,g:31,b:21,hex:"#f61f15"},{r:244,g:30,b:19,hex:"#f41e13"},{r:243,g:29,b:18,hex:"#f31d12"},{r:240,g:28,b:17,hex:"#f01c11"},{r:238,g:26,b:16,hex:"#ee1a10"},{r:236,g:25,b:15,hex:"#ec190f"},{r:234,g:24,b:14,hex:"#ea180e"},{r:232,g:22,b:14,hex:"#e8160e"},{r:230,g:22,b:13,hex:"#e6160d"},{r:228,g:20,b:12,hex:"#e4140c"},{r:226,g:19,b:11,hex:"#e2130b"},{r:224,g:18,b:10,hex:"#e0120a"},{r:222,g:16,b:9,hex:"#de1009"},{r:219,g:15,b:8,hex:"#db0f08"},{r:216,g:14,b:7,hex:"#d80e07"},{r:215,g:13,b:6,hex:"#d70d06"},{r:212,g:11,b:6,hex:"#d40b06"},{r:209,g:10,b:5,hex:"#d10a05"},{r:207,g:8,b:4,hex:"#cf0804"},{r:251,g:54,b:54,hex:"#fb3636"},{r:249,g:52,b:52,hex:"#f93434"},{r:247,g:50,b:50,hex:"#f73232"},{r:247,g:49,b:49,hex:"#f73131"},{r:245,g:47,b:47,hex:"#f52f2f"},{r:243,g:46,b:46,hex:"#f32e2e"},{r:242,g:45,b:45,hex:"#f22d2d"},{r:240,g:43,b:43,hex:"#f02b2b"},{r:239,g:41,b:41,hex:"#ef2929"},{r:238,g:40,b:40,hex:"#ee2828"},{r:236,g:38,b:38,hex:"#ec2626"},{r:235,g:38,b:38,hex:"#eb2626"},{r:233,g:36,b:36,hex:"#e92424"},{r:231,g:34,b:34,hex:"#e72222"},{r:231,g:33,b:33,hex:"#e72121"},{r:229,g:31,b:31,hex:"#e51f1f"},{r:227,g:30,b:30,hex:"#e31e1e"},{r:226,g:29,b:29,hex:"#e21d1d"},{r:224,g:27,b:27,hex:"#e01b1b"},{r:223,g:25,b:25,hex:"#df1919"},{r:222,g:24,b:24,hex:"#de1818"},{r:220,g:22,b:22,hex:"#dc1616"},{r:218,g:21,b:21,hex:"#da1515"},{r:217,g:20,b:20,hex:"#d91414"},{r:215,g:18,b:18,hex:"#d71212"},{r:214,g:16,b:16,hex:"#d61010"},{r:213,g:15,b:15,hex:"#d50f0f"},{r:211,g:14,b:14,hex:"#d30e0e"},{r:210,g:13,b:13,hex:"#d20d0d"},{r:208,g:11,b:11,hex:"#d00b0b"},{r:207,g:9,b:9,hex:"#cf0909"},{r:206,g:8,b:8,hex:"#ce0808"},{r:224,g:57,b:25,hex:"#e03919"},{r:223,g:54,b:23,hex:"#df3617"},{r:221,g:50,b:22,hex:"#dd3216"},{r:219,g:46,b:20,hex:"#db2e14"},{r:218,g:43,b:18,hex:"#da2b12"},{r:216,g:39,b:16,hex:"#d82710"},{r:215,g:36,b:14,hex:"#d7240e"},{r:213,g:33,b:13,hex:"#d5210d"},{r:212,g:30,b:11,hex:"#d41e0b"},{r:210,g:26,b:10,hex:"#d21a0a"},{r:208,g:22,b:8,hex:"#d01608"},{r:207,g:19,b:6,hex:"#cf1306"},{r:205,g:15,b:6,hex:"#cd0f06"},{r:203,g:12,b:4,hex:"#cb0c04"},{r:202,g:8,b:3,hex:"#ca0803"},{r:200,g:6,b:2,hex:"#c80602"},{r:240,g:38,b:32,hex:"#f02620"},{r:239,g:36,b:30,hex:"#ef241e"},{r:237,g:34,b:29,hex:"#ed221d"},{r:235,g:32,b:27,hex:"#eb201b"},{r:233,g:30,b:25,hex:"#e91e19"},{r:232,g:29,b:24,hex:"#e81d18"},{r:231,g:28,b:22,hex:"#e71c16"},{r:229,g:26,b:21,hex:"#e51a15"},{r:227,g:24,b:20,hex:"#e31814"},{r:225,g:22,b:18,hex:"#e11612"},{r:224,g:22,b:17,hex:"#e01611"},{r:223,g:20,b:15,hex:"#df140f"},{r:221,g:19,b:14,hex:"#dd130e"},{r:219,g:17,b:13,hex:"#db110d"},{r:217,g:15,b:12,hex:"#d90f0c"},{r:216,g:14,b:11,hex:"#d80e0b"},{r:233,g:30,b:22,hex:"#e91e16"},{r:230,g:27,b:19,hex:"#e61b13"},{r:227,g:24,b:17,hex:"#e31811"},{r:224,g:22,b:14,hex:"#e0160e"},{r:221,g:19,b:12,hex:"#dd130c"},{r:218,g:16,b:10,hex:"#da100a"},{r:215,g:14,b:8,hex:"#d70e08"},{r:213,g:12,b:6,hex:"#d50c06"},{r:225,g:29,b:22,hex:"#e11d16"},{r:223,g:26,b:20,hex:"#df1a14"},{r:221,g:24,b:18,hex:"#dd1812"},{r:218,g:22,b:16,hex:"#da1610"},{r:216,g:20,b:14,hex:"#d8140e"},{r:214,g:18,b:12,hex:"#d6120c"},{r:212,g:16,b:10,hex:"#d4100a"},{r:210,g:14,b:9,hex:"#d20e09"},{r:255,g:57,b:26,hex:"#ff391a"},{r:250,g:49,b:20,hex:"#fa3114"},{r:246,g:42,b:15,hex:"#f62a0f"},{r:241,g:35,b:11,hex:"#f1230b"},{r:237,g:28,b:7,hex:"#ed1c07"},{r:232,g:21,b:5,hex:"#e81505"},{r:228,g:15,b:2,hex:"#e40f02"},{r:223,g:10,b:0,hex:"#df0a00"},{r:255,g:57,b:57,hex:"#ff3939"},{r:255,g:49,b:49,hex:"#ff3131"},{r:255,g:42,b:42,hex:"#ff2a2a"},{r:255,g:35,b:35,hex:"#ff2323"},{r:255,g:28,b:28,hex:"#ff1c1c"},{r:255,g:22,b:22,hex:"#ff1616"},{r:255,g:14,b:14,hex:"#ff0e0e"},{r:255,g:7,b:7,hex:"#ff0707"},{r:255,g:0,b:0,hex:"#ff0000"},{r:251,g:0,b:0,hex:"#fb0000"},{r:248,g:0,b:0,hex:"#f80000"},{r:246,g:0,b:0,hex:"#f60000"},{r:243,g:0,b:0,hex:"#f30000"},{r:240,g:0,b:0,hex:"#f00000"},{r:238,g:0,b:0,hex:"#ee0000"},{r:235,g:0,b:0,hex:"#eb0000"},{r:232,g:0,b:0,hex:"#e80000"},{r:229,g:0,b:0,hex:"#e50000"},{r:226,g:0,b:0,hex:"#e20000"},{r:223,g:0,b:0,hex:"#df0000"},{r:221,g:0,b:0,hex:"#dd0000"},{r:218,g:0,b:0,hex:"#da0000"},{r:215,g:0,b:0,hex:"#d70000"},{r:213,g:0,b:0,hex:"#d50000"},{r:249,g:52,b:57,hex:"#f93439"},{r:242,g:45,b:57,hex:"#f22d39"},{r:236,g:38,b:57,hex:"#ec2639"},{r:230,g:32,b:57,hex:"#e62039"},{r:223,g:26,b:57,hex:"#df1a39"},{r:216,g:19,b:57,hex:"#d81339"},{r:210,g:13,b:57,hex:"#d20d39"},{r:204,g:6,b:57,hex:"#cc0639"},{r:198,g:0,b:57,hex:"#c60039"},{r:198,g:0,b:51,hex:"#c60033"},{r:198,g:0,b:46,hex:"#c6002e"},{r:198,g:0,b:40,hex:"#c60028"},{r:198,g:0,b:35,hex:"#c60023"},{r:198,g:0,b:30,hex:"#c6001e"},{r:198,g:0,b:24,hex:"#c60018"},{r:198,g:0,b:19,hex:"#c60013"},{r:255,g:57,b:57,hex:"#ff3939"},{r:255,g:53,b:49,hex:"#ff3531"},{r:255,g:48,b:42,hex:"#ff302a"},{r:255,g:45,b:35,hex:"#ff2d23"},{r:255,g:40,b:28,hex:"#ff281c"},{r:255,g:37,b:21,hex:"#ff2515"},{r:255,g:32,b:14,hex:"#ff200e"},{r:255,g:29,b:6,hex:"#ff1d06"},{r:252,g:26,b:6,hex:"#fc1a06"},{r:250,g:25,b:4,hex:"#fa1904"},{r:247,g:23,b:4,hex:"#f71704"},{r:246,g:22,b:3,hex:"#f61603"},{r:243,g:20,b:2,hex:"#f31402"},{r:241,g:18,b:0,hex:"#f11200"},{r:239,g:16,b:0,hex:"#ef1000"},{r:237,g:15,b:0,hex:"#ed0f00"},{r:255,g:57,b:57,hex:"#ff3939"},{r:255,g:57,b:48,hex:"#ff3930"},{r:255,g:57,b:40,hex:"#ff3928"},{r:255,g:57,b:32,hex:"#ff3920"},{r:255,g:57,b:24,hex:"#ff3918"},{r:255,g:57,b:16,hex:"#ff3910"},{r:255,g:57,b:8,hex:"#ff3908"},{r:255,g:57,b:0,hex:"#ff3900"},{r:235,g:14,b:0,hex:"#eb0e00"},{r:233,g:13,b:0,hex:"#e90d00"},{r:231,g:11,b:0,hex:"#e70b00"},{r:228,g:8,b:0,hex:"#e40800"},{r:215,g:14,b:9,hex:"#d70e09"},{r:213,g:11,b:6,hex:"#d50b06"},{r:210,g:8,b:5,hex:"#d20805"},{r:208,g:6,b:3,hex:"#d00603"},{r:198,g:0,b:19,hex:"#c60013"},{r:198,g:0,b:16,hex:"#c60010"},{r:198,g:0,b:14,hex:"#c6000e"},{r:198,g:0,b:11,hex:"#c6000b"},{r:198,g:0,b:8,hex:"#c60008"},{r:198,g:0,b:6,hex:"#c60006"},{r:198,g:0,b:3,hex:"#c60003"},{r:198,g:0,b:0,hex:"#c60000"},{r:255,g:36,b:15,hex:"#ff240f"},{r:255,g:52,b:17,hex:"#ff3411"},{r:255,g:28,b:57,hex:"#ff1c39"},{r:255,g:0,b:57,hex:"#ff0039"},{r:244,g:0,b:46,hex:"#f4002e"},{r:233,g:0,b:35,hex:"#e90023"},{r:223,g:0,b:24,hex:"#df0018"},{r:235,g:24,b:24,hex:"#eb1818"}],[{r:226,g:0,b:0,hex:"#e20000"},{r:230,g:3,b:2,hex:"#e60302"},{r:229,g:2,b:1,hex:"#e50201"},{r:235,g:9,b:9,hex:"#eb0909"},{r:255,g:29,b:29,hex:"#ff1d1d"},{r:229,g:3,b:3,hex:"#e50303"},{r:228,g:3,b:3,hex:"#e40303"},{r:227,g:2,b:2,hex:"#e30202"},{r:227,g:1,b:1,hex:"#e30101"},{r:231,g:7,b:4,hex:"#e70704"},{r:230,g:5,b:2,hex:"#e60502"},{r:229,g:4,b:1,hex:"#e50401"},{r:228,g:3,b:0,hex:"#e40300"},{r:235,g:7,b:5,hex:"#eb0705"},{r:234,g:6,b:4,hex:"#ea0604"},{r:233,g:5,b:3,hex:"#e90503"},{r:255,g:21,b:21,hex:"#ff1515"},{r:254,g:19,b:19,hex:"#fe1313"},{r:253,g:19,b:19,hex:"#fd1313"},{r:252,g:17,b:17,hex:"#fc1111"},{r:252,g:16,b:16,hex:"#fc1010"},{r:251,g:15,b:15,hex:"#fb0f0f"},{r:251,g:14,b:14,hex:"#fb0e0e"},{r:250,g:13,b:13,hex:"#fa0d0d"},{r:249,g:12,b:12,hex:"#f90c0c"},{r:248,g:11,b:11,hex:"#f80b0b"},{r:247,g:11,b:11,hex:"#f70b0b"},{r:247,g:10,b:10,hex:"#f70a0a"},{r:246,g:9,b:9,hex:"#f60909"},{r:246,g:8,b:8,hex:"#f60808"},{r:245,g:7,b:7,hex:"#f50707"},{r:244,g:7,b:7,hex:"#f40707"},{r:243,g:6,b:6,hex:"#f30606"},{r:243,g:6,b:6,hex:"#f30606"},{r:242,g:5,b:5,hex:"#f20505"},{r:242,g:4,b:4,hex:"#f20404"},{r:241,g:4,b:4,hex:"#f10404"},{r:240,g:3,b:3,hex:"#f00303"},{r:239,g:3,b:3,hex:"#ef0303"},{r:239,g:3,b:3,hex:"#ef0303"},{r:238,g:2,b:2,hex:"#ee0202"},{r:238,g:2,b:2,hex:"#ee0202"},{r:237,g:1,b:1,hex:"#ed0101"},{r:236,g:1,b:1,hex:"#ec0101"},{r:235,g:1,b:1,hex:"#eb0101"},{r:235,g:0,b:0,hex:"#eb0000"},{r:234,g:0,b:0,hex:"#ea0000"},{r:234,g:0,b:0,hex:"#ea0000"},{r:255,g:27,b:25,hex:"#ff1b19"},{r:255,g:26,b:24,hex:"#ff1a18"},{r:255,g:25,b:23,hex:"#ff1917"},{r:255,g:24,b:21,hex:"#ff1815"},{r:255,g:23,b:20,hex:"#ff1714"},{r:255,g:23,b:19,hex:"#ff1713"},{r:255,g:22,b:18,hex:"#ff1612"},{r:255,g:21,b:17,hex:"#ff1511"},{r:255,g:20,b:15,hex:"#ff140f"},{r:254,g:19,b:14,hex:"#fe130e"},{r:253,g:19,b:13,hex:"#fd130d"},{r:252,g:18,b:12,hex:"#fc120c"},{r:251,g:17,b:11,hex:"#fb110b"},{r:250,g:16,b:11,hex:"#fa100b"},{r:249,g:15,b:10,hex:"#f90f0a"},{r:249,g:15,b:9,hex:"#f90f09"},{r:247,g:14,b:9,hex:"#f70e09"},{r:246,g:13,b:8,hex:"#f60d08"},{r:245,g:13,b:8,hex:"#f50d08"},{r:244,g:12,b:7,hex:"#f40c07"},{r:243,g:11,b:7,hex:"#f30b07"},{r:242,g:11,b:7,hex:"#f20b07"},{r:241,g:10,b:6,hex:"#f10a06"},{r:240,g:10,b:6,hex:"#f00a06"},{r:239,g:9,b:5,hex:"#ef0905"},{r:238,g:8,b:5,hex:"#ee0805"},{r:237,g:8,b:4,hex:"#ed0804"},{r:235,g:7,b:4,hex:"#eb0704"},{r:235,g:7,b:3,hex:"#eb0703"},{r:233,g:6,b:3,hex:"#e90603"},{r:232,g:5,b:3,hex:"#e80503"},{r:231,g:4,b:2,hex:"#e70402"},{r:253,g:27,b:27,hex:"#fd1b1b"},{r:252,g:26,b:26,hex:"#fc1a1a"},{r:251,g:25,b:25,hex:"#fb1919"},{r:251,g:25,b:25,hex:"#fb1919"},{r:250,g:24,b:24,hex:"#fa1818"},{r:249,g:23,b:23,hex:"#f91717"},{r:248,g:23,b:23,hex:"#f81717"},{r:247,g:22,b:22,hex:"#f71616"},{r:247,g:21,b:21,hex:"#f71515"},{r:246,g:20,b:20,hex:"#f61414"},{r:245,g:19,b:19,hex:"#f51313"},{r:245,g:19,b:19,hex:"#f51313"},{r:244,g:18,b:18,hex:"#f41212"},{r:243,g:17,b:17,hex:"#f31111"},{r:243,g:17,b:17,hex:"#f31111"},{r:242,g:16,b:16,hex:"#f21010"},{r:241,g:15,b:15,hex:"#f10f0f"},{r:240,g:15,b:15,hex:"#f00f0f"},{r:239,g:14,b:14,hex:"#ef0e0e"},{r:239,g:13,b:13,hex:"#ef0d0d"},{r:238,g:12,b:12,hex:"#ee0c0c"},{r:237,g:11,b:11,hex:"#ed0b0b"},{r:236,g:11,b:11,hex:"#ec0b0b"},{r:236,g:10,b:10,hex:"#ec0a0a"},{r:235,g:9,b:9,hex:"#eb0909"},{r:234,g:8,b:8,hex:"#ea0808"},{r:234,g:8,b:8,hex:"#ea0808"},{r:233,g:7,b:7,hex:"#e90707"},{r:232,g:7,b:7,hex:"#e80707"},{r:231,g:6,b:6,hex:"#e70606"},{r:231,g:5,b:5,hex:"#e70505"},{r:230,g:4,b:4,hex:"#e60404"},{r:239,g:29,b:13,hex:"#ef1d0d"},{r:239,g:27,b:12,hex:"#ef1b0c"},{r:238,g:25,b:11,hex:"#ee190b"},{r:237,g:23,b:10,hex:"#ed170a"},{r:236,g:22,b:9,hex:"#ec1609"},{r:235,g:20,b:8,hex:"#eb1408"},{r:235,g:18,b:7,hex:"#eb1207"},{r:234,g:17,b:7,hex:"#ea1107"},{r:233,g:15,b:6,hex:"#e90f06"},{r:232,g:13,b:5,hex:"#e80d05"},{r:231,g:11,b:4,hex:"#e70b04"},{r:231,g:10,b:3,hex:"#e70a03"},{r:230,g:8,b:3,hex:"#e60803"},{r:229,g:6,b:2,hex:"#e50602"},{r:228,g:4,b:2,hex:"#e40402"},{r:227,g:3,b:1,hex:"#e30301"},{r:247,g:19,b:16,hex:"#f71310"},{r:247,g:18,b:15,hex:"#f7120f"},{r:246,g:17,b:15,hex:"#f6110f"},{r:245,g:16,b:14,hex:"#f5100e"},{r:244,g:15,b:13,hex:"#f40f0d"},{r:243,g:15,b:12,hex:"#f30f0c"},{r:243,g:14,b:11,hex:"#f30e0b"},{r:242,g:13,b:11,hex:"#f20d0b"},{r:241,g:12,b:10,hex:"#f10c0a"},{r:240,g:11,b:9,hex:"#f00b09"},{r:239,g:11,b:9,hex:"#ef0b09"},{r:239,g:10,b:8,hex:"#ef0a08"},{r:238,g:10,b:7,hex:"#ee0a07"},{r:237,g:9,b:7,hex:"#ed0907"},{r:236,g:8,b:6,hex:"#ec0806"},{r:235,g:7,b:6,hex:"#eb0706"},{r:244,g:15,b:11,hex:"#f40f0b"},{r:242,g:14,b:10,hex:"#f20e0a"},{r:241,g:12,b:9,hex:"#f10c09"},{r:239,g:11,b:7,hex:"#ef0b07"},{r:238,g:10,b:6,hex:"#ee0a06"},{r:236,g:8,b:5,hex:"#ec0805"},{r:235,g:7,b:4,hex:"#eb0704"},{r:234,g:6,b:3,hex:"#ea0603"},{r:240,g:15,b:11,hex:"#f00f0b"},{r:239,g:13,b:10,hex:"#ef0d0a"},{r:238,g:12,b:9,hex:"#ee0c09"},{r:236,g:11,b:8,hex:"#ec0b08"},{r:235,g:10,b:7,hex:"#eb0a07"},{r:234,g:9,b:6,hex:"#ea0906"},{r:233,g:8,b:5,hex:"#e90805"},{r:232,g:7,b:5,hex:"#e80705"},{r:255,g:29,b:13,hex:"#ff1d0d"},{r:252,g:25,b:10,hex:"#fc190a"},{r:250,g:21,b:8,hex:"#fa1508"},{r:248,g:18,b:6,hex:"#f81206"},{r:246,g:14,b:4,hex:"#f60e04"},{r:243,g:11,b:3,hex:"#f30b03"},{r:241,g:8,b:1,hex:"#f10801"},{r:239,g:5,b:0,hex:"#ef0500"},{r:255,g:29,b:29,hex:"#ff1d1d"},{r:255,g:25,b:25,hex:"#ff1919"},{r:255,g:21,b:21,hex:"#ff1515"},{r:255,g:18,b:18,hex:"#ff1212"},{r:255,g:14,b:14,hex:"#ff0e0e"},{r:255,g:11,b:11,hex:"#ff0b0b"},{r:255,g:7,b:7,hex:"#ff0707"},{r:255,g:4,b:4,hex:"#ff0404"},{r:255,g:0,b:0,hex:"#ff0000"},{r:253,g:0,b:0,hex:"#fd0000"},{r:251,g:0,b:0,hex:"#fb0000"},{r:250,g:0,b:0,hex:"#fa0000"},{r:249,g:0,b:0,hex:"#f90000"},{r:247,g:0,b:0,hex:"#f70000"},{r:246,g:0,b:0,hex:"#f60000"},{r:245,g:0,b:0,hex:"#f50000"},{r:243,g:0,b:0,hex:"#f30000"},{r:242,g:0,b:0,hex:"#f20000"},{r:240,g:0,b:0,hex:"#f00000"},{r:239,g:0,b:0,hex:"#ef0000"},{r:238,g:0,b:0,hex:"#ee0000"},{r:236,g:0,b:0,hex:"#ec0000"},{r:235,g:0,b:0,hex:"#eb0000"},{r:234,g:0,b:0,hex:"#ea0000"},{r:252,g:26,b:29,hex:"#fc1a1d"},{r:248,g:23,b:29,hex:"#f8171d"},{r:245,g:19,b:29,hex:"#f5131d"},{r:242,g:16,b:29,hex:"#f2101d"},{r:239,g:13,b:29,hex:"#ef0d1d"},{r:235,g:10,b:29,hex:"#eb0a1d"},{r:232,g:7,b:29,hex:"#e8071d"},{r:229,g:3,b:29,hex:"#e5031d"},{r:226,g:0,b:29,hex:"#e2001d"},{r:226,g:0,b:26,hex:"#e2001a"},{r:226,g:0,b:23,hex:"#e20017"},{r:226,g:0,b:20,hex:"#e20014"},{r:226,g:0,b:18,hex:"#e20012"},{r:226,g:0,b:15,hex:"#e2000f"},{r:226,g:0,b:12,hex:"#e2000c"},{r:226,g:0,b:10,hex:"#e2000a"},{r:255,g:29,b:29,hex:"#ff1d1d"},{r:255,g:27,b:25,hex:"#ff1b19"},{r:255,g:24,b:21,hex:"#ff1815"},{r:255,g:23,b:18,hex:"#ff1712"},{r:255,g:20,b:14,hex:"#ff140e"},{r:255,g:19,b:11,hex:"#ff130b"},{r:255,g:16,b:7,hex:"#ff1007"},{r:255,g:15,b:3,hex:"#ff0f03"},{r:253,g:13,b:3,hex:"#fd0d03"},{r:252,g:13,b:2,hex:"#fc0d02"},{r:251,g:12,b:2,hex:"#fb0c02"},{r:250,g:11,b:2,hex:"#fa0b02"},{r:249,g:10,b:1,hex:"#f90a01"},{r:248,g:9,b:0,hex:"#f80900"},{r:247,g:8,b:0,hex:"#f70800"},{r:246,g:8,b:0,hex:"#f60800"},{r:255,g:29,b:29,hex:"#ff1d1d"},{r:255,g:29,b:24,hex:"#ff1d18"},{r:255,g:29,b:20,hex:"#ff1d14"},{r:255,g:29,b:16,hex:"#ff1d10"},{r:255,g:29,b:12,hex:"#ff1d0c"},{r:255,g:29,b:8,hex:"#ff1d08"},{r:255,g:29,b:4,hex:"#ff1d04"},{r:255,g:29,b:0,hex:"#ff1d00"},{r:245,g:7,b:0,hex:"#f50700"},{r:244,g:7,b:0,hex:"#f40700"},{r:243,g:6,b:0,hex:"#f30600"},{r:241,g:4,b:0,hex:"#f10400"},{r:235,g:7,b:5,hex:"#eb0705"},{r:234,g:6,b:3,hex:"#ea0603"},{r:232,g:4,b:3,hex:"#e80403"},{r:231,g:3,b:2,hex:"#e70302"},{r:226,g:0,b:10,hex:"#e2000a"},{r:226,g:0,b:8,hex:"#e20008"},{r:226,g:0,b:7,hex:"#e20007"},{r:226,g:0,b:6,hex:"#e20006"},{r:226,g:0,b:4,hex:"#e20004"},{r:226,g:0,b:3,hex:"#e20003"},{r:226,g:0,b:2,hex:"#e20002"},{r:226,g:0,b:0,hex:"#e20000"},{r:255,g:18,b:8,hex:"#ff1208"},{r:255,g:26,b:9,hex:"#ff1a09"},{r:255,g:14,b:29,hex:"#ff0e1d"},{r:255,g:0,b:29,hex:"#ff001d"},{r:249,g:0,b:23,hex:"#f90017"},{r:244,g:0,b:18,hex:"#f40012"},{r:239,g:0,b:12,hex:"#ef000c"},{r:245,g:12,b:12,hex:"#f50c0c"}],[{r:26,g:23,b:8,hex:"#1a1708"},{r:54,g:43,b:18,hex:"#362b12"},{r:47,g:36,b:14,hex:"#2f240e"},{r:92,g:88,b:75,hex:"#5c584b"},{r:250,g:247,b:232,hex:"#faf7e8"},{r:50,g:46,b:32,hex:"#322e20"},{r:43,g:39,b:25,hex:"#2b2719"},{r:36,g:32,b:18,hex:"#242012"},{r:33,g:29,b:14,hex:"#211d0e"},{r:68,g:71,b:35,hex:"#444723"},{r:57,g:60,b:21,hex:"#393c15"},{r:47,g:50,b:14,hex:"#2f320e"},{r:40,g:43,b:8,hex:"#282b08"},{r:96,g:74,b:46,hex:"#604a2e"},{r:89,g:67,b:39,hex:"#594327"},{r:82,g:60,b:32,hex:"#523c20"},{r:250,g:183,b:169,hex:"#fab7a9"},{r:243,g:172,b:159,hex:"#f3ac9f"},{r:240,g:165,b:152,hex:"#f0a598"},{r:233,g:155,b:141,hex:"#e99b8d"},{r:229,g:148,b:134,hex:"#e59486"},{r:222,g:141,b:127,hex:"#de8d7f"},{r:219,g:130,b:117,hex:"#db8275"},{r:211,g:123,b:110,hex:"#d37b6e"},{r:204,g:116,b:103,hex:"#cc7467"},{r:201,g:109,b:96,hex:"#c96d60"},{r:194,g:102,b:89,hex:"#c26659"},{r:190,g:99,b:85,hex:"#be6355"},{r:183,g:92,b:78,hex:"#b75c4e"},{r:180,g:85,b:71,hex:"#b45547"},{r:173,g:78,b:63,hex:"#ad4e3f"},{r:169,g:74,b:60,hex:"#a94a3c"},{r:162,g:67,b:53,hex:"#a24335"},{r:159,g:64,b:49,hex:"#9f4031"},{r:152,g:60,b:46,hex:"#983c2e"},{r:148,g:53,b:39,hex:"#943527"},{r:141,g:50,b:35,hex:"#8d3223"},{r:138,g:46,b:32,hex:"#8a2e20"},{r:131,g:43,b:28,hex:"#832b1c"},{r:127,g:39,b:25,hex:"#7f2719"},{r:120,g:36,b:21,hex:"#782415"},{r:117,g:32,b:18,hex:"#752012"},{r:110,g:29,b:14,hex:"#6e1d0e"},{r:106,g:29,b:14,hex:"#6a1d0e"},{r:99,g:29,b:14,hex:"#631d0e"},{r:96,g:23,b:8,hex:"#601708"},{r:89,g:23,b:8,hex:"#591708"},{r:85,g:23,b:8,hex:"#551708"},{r:250,g:229,b:204,hex:"#fae5cc"},{r:250,g:222,b:194,hex:"#fadec2"},{r:250,g:215,b:183,hex:"#fad7b7"},{r:250,g:208,b:173,hex:"#fad0ad"},{r:250,g:205,b:166,hex:"#facda6"},{r:250,g:198,b:155,hex:"#fac69b"},{r:250,g:191,b:145,hex:"#fabf91"},{r:250,g:187,b:138,hex:"#fabb8a"},{r:250,g:179,b:124,hex:"#fab37c"},{r:243,g:172,b:117,hex:"#f3ac75"},{r:236,g:165,b:110,hex:"#eca56e"},{r:229,g:158,b:103,hex:"#e59e67"},{r:222,g:151,b:96,hex:"#de9760"},{r:215,g:144,b:89,hex:"#d79059"},{r:208,g:137,b:82,hex:"#d08952"},{r:204,g:134,b:78,hex:"#cc864e"},{r:194,g:130,b:75,hex:"#c2824b"},{r:183,g:123,b:71,hex:"#b77b47"},{r:176,g:120,b:67,hex:"#b07843"},{r:169,g:116,b:63,hex:"#a9743f"},{r:162,g:109,b:60,hex:"#a26d3c"},{r:152,g:106,b:56,hex:"#986a38"},{r:145,g:99,b:53,hex:"#916335"},{r:138,g:95,b:49,hex:"#8a5f31"},{r:131,g:92,b:46,hex:"#835c2e"},{r:120,g:85,b:42,hex:"#78552a"},{r:110,g:81,b:39,hex:"#6e5127"},{r:99,g:78,b:35,hex:"#634e23"},{r:92,g:71,b:32,hex:"#5c4720"},{r:82,g:64,b:28,hex:"#52401c"},{r:71,g:60,b:25,hex:"#473c19"},{r:64,g:53,b:21,hex:"#403515"},{r:236,g:233,b:218,hex:"#ece9da"},{r:229,g:226,b:211,hex:"#e5e2d3"},{r:222,g:219,b:204,hex:"#dedbcc"},{r:219,g:215,b:201,hex:"#dbd7c9"},{r:211,g:208,b:194,hex:"#d3d0c2"},{r:204,g:201,b:187,hex:"#ccc9bb"},{r:201,g:198,b:183,hex:"#c9c6b7"},{r:194,g:191,b:176,hex:"#c2bfb0"},{r:187,g:183,b:169,hex:"#bbb7a9"},{r:183,g:179,b:166,hex:"#b7b3a6"},{r:176,g:172,b:159,hex:"#b0ac9f"},{r:173,g:169,b:155,hex:"#ada99b"},{r:166,g:162,b:148,hex:"#a6a294"},{r:159,g:155,b:141,hex:"#9f9b8d"},{r:155,g:151,b:138,hex:"#9b978a"},{r:148,g:144,b:131,hex:"#949083"},{r:141,g:137,b:124,hex:"#8d897c"},{r:138,g:134,b:120,hex:"#8a8678"},{r:131,g:127,b:113,hex:"#837f71"},{r:124,g:120,b:106,hex:"#7c786a"},{r:120,g:116,b:103,hex:"#787467"},{r:113,g:109,b:96,hex:"#716d60"},{r:106,g:102,b:89,hex:"#6a6659"},{r:103,g:99,b:85,hex:"#676355"},{r:96,g:92,b:78,hex:"#605c4e"},{r:89,g:85,b:71,hex:"#595547"},{r:85,g:81,b:67,hex:"#555143"},{r:78,g:74,b:60,hex:"#4e4a3c"},{r:75,g:71,b:56,hex:"#4b4738"},{r:68,g:64,b:49,hex:"#444031"},{r:61,g:57,b:42,hex:"#3d392a"},{r:57,g:53,b:39,hex:"#393527"},{r:131,g:247,b:106,hex:"#83f76a"},{r:124,g:233,b:99,hex:"#7ce963"},{r:117,g:219,b:92,hex:"#75db5c"},{r:110,g:205,b:85,hex:"#6ecd55"},{r:106,g:191,b:78,hex:"#6abf4e"},{r:99,g:176,b:71,hex:"#63b047"},{r:92,g:162,b:63,hex:"#5ca23f"},{r:85,g:151,b:56,hex:"#559738"},{r:82,g:137,b:49,hex:"#528931"},{r:75,g:123,b:46,hex:"#4b7b2e"},{r:68,g:109,b:39,hex:"#446d27"},{r:61,g:95,b:32,hex:"#3d5f20"},{r:54,g:81,b:28,hex:"#36511c"},{r:47,g:67,b:21,hex:"#2f4315"},{r:43,g:53,b:18,hex:"#2b3512"},{r:36,g:43,b:14,hex:"#242b0e"},{r:194,g:169,b:134,hex:"#c2a986"},{r:187,g:162,b:127,hex:"#bba27f"},{r:180,g:155,b:120,hex:"#b49b78"},{r:173,g:148,b:113,hex:"#ad9471"},{r:166,g:141,b:106,hex:"#a68d6a"},{r:162,g:134,b:103,hex:"#a28667"},{r:155,g:130,b:96,hex:"#9b8260"},{r:148,g:123,b:89,hex:"#947b59"},{r:141,g:116,b:85,hex:"#8d7455"},{r:134,g:109,b:78,hex:"#866d4e"},{r:131,g:106,b:75,hex:"#836a4b"},{r:124,g:99,b:67,hex:"#7c6343"},{r:117,g:95,b:63,hex:"#755f3f"},{r:110,g:88,b:56,hex:"#6e5838"},{r:103,g:81,b:53,hex:"#675135"},{r:99,g:78,b:49,hex:"#634e31"},{r:166,g:137,b:96,hex:"#a68960"},{r:152,g:127,b:82,hex:"#987f52"},{r:141,g:116,b:75,hex:"#8d744b"},{r:131,g:106,b:63,hex:"#836a3f"},{r:117,g:95,b:53,hex:"#755f35"},{r:106,g:85,b:46,hex:"#6a552e"},{r:96,g:74,b:39,hex:"#604a27"},{r:85,g:67,b:32,hex:"#554320"},{r:134,g:134,b:96,hex:"#868660"},{r:124,g:123,b:85,hex:"#7c7b55"},{r:117,g:116,b:78,hex:"#75744e"},{r:106,g:109,b:71,hex:"#6a6d47"},{r:99,g:99,b:60,hex:"#63633c"},{r:89,g:92,b:53,hex:"#595c35"},{r:82,g:85,b:46,hex:"#52552e"},{r:75,g:78,b:42,hex:"#4b4e2a"},{r:250,g:247,b:110,hex:"#faf76e"},{r:233,g:215,b:85,hex:"#e9d755"},{r:215,g:187,b:67,hex:"#d7bb43"},{r:197,g:158,b:49,hex:"#c59e31"},{r:180,g:130,b:35,hex:"#b48223"},{r:162,g:102,b:25,hex:"#a26619"},{r:145,g:81,b:14,hex:"#91510e"},{r:127,g:60,b:8,hex:"#7f3c08"},{r:250,g:247,b:232,hex:"#faf7e8"},{r:250,g:215,b:201,hex:"#fad7c9"},{r:250,g:187,b:173,hex:"#fabbad"},{r:250,g:158,b:145,hex:"#fa9e91"},{r:250,g:130,b:117,hex:"#fa8275"},{r:250,g:106,b:92,hex:"#fa6a5c"},{r:250,g:78,b:63,hex:"#fa4e3f"},{r:250,g:50,b:35,hex:"#fa3223"},{r:250,g:23,b:8,hex:"#fa1708"},{r:236,g:23,b:8,hex:"#ec1708"},{r:226,g:23,b:8,hex:"#e21708"},{r:215,g:23,b:8,hex:"#d71708"},{r:204,g:23,b:8,hex:"#cc1708"},{r:194,g:23,b:8,hex:"#c21708"},{r:183,g:23,b:8,hex:"#b71708"},{r:173,g:23,b:8,hex:"#ad1708"},{r:162,g:23,b:8,hex:"#a21708"},{r:148,g:23,b:8,hex:"#941708"},{r:138,g:23,b:8,hex:"#8a1708"},{r:127,g:23,b:8,hex:"#7f1708"},{r:117,g:23,b:8,hex:"#751708"},{r:106,g:23,b:8,hex:"#6a1708"},{r:96,g:23,b:8,hex:"#601708"},{r:85,g:23,b:8,hex:"#551708"},{r:229,g:226,b:232,hex:"#e5e2e8"},{r:201,g:198,b:232,hex:"#c9c6e8"},{r:176,g:172,b:232,hex:"#b0ace8"},{r:152,g:148,b:232,hex:"#9894e8"},{r:127,g:123,b:232,hex:"#7f7be8"},{r:99,g:95,b:232,hex:"#635fe8"},{r:75,g:71,b:232,hex:"#4b47e8"},{r:50,g:46,b:232,hex:"#322ee8"},{r:26,g:23,b:232,hex:"#1a17e8"},{r:26,g:23,b:208,hex:"#1a17d0"},{r:26,g:23,b:187,hex:"#1a17bb"},{r:26,g:23,b:166,hex:"#1a17a6"},{r:26,g:23,b:145,hex:"#1a1791"},{r:26,g:23,b:124,hex:"#1a177c"},{r:26,g:23,b:103,hex:"#1a1767"},{r:26,g:23,b:82,hex:"#1a1752"},{r:250,g:247,b:232,hex:"#faf7e8"},{r:250,g:229,b:201,hex:"#fae5c9"},{r:250,g:212,b:173,hex:"#fad4ad"},{r:250,g:198,b:145,hex:"#fac691"},{r:250,g:179,b:117,hex:"#fab375"},{r:250,g:165,b:89,hex:"#faa559"},{r:250,g:148,b:60,hex:"#fa943c"},{r:250,g:134,b:32,hex:"#fa8620"},{r:240,g:123,b:28,hex:"#f07b1c"},{r:233,g:120,b:21,hex:"#e97815"},{r:222,g:113,b:21,hex:"#de7115"},{r:215,g:106,b:18,hex:"#d76a12"},{r:204,g:99,b:14,hex:"#cc630e"},{r:197,g:92,b:8,hex:"#c55c08"},{r:187,g:85,b:8,hex:"#bb5508"},{r:180,g:81,b:8,hex:"#b45108"},{r:250,g:247,b:232,hex:"#faf7e8"},{r:250,g:247,b:197,hex:"#faf7c5"},{r:250,g:247,b:166,hex:"#faf7a6"},{r:250,g:247,b:134,hex:"#faf786"},{r:250,g:247,b:103,hex:"#faf767"},{r:250,g:247,b:71,hex:"#faf747"},{r:250,g:247,b:39,hex:"#faf727"},{r:250,g:247,b:8,hex:"#faf708"},{r:173,g:78,b:8,hex:"#ad4e08"},{r:166,g:71,b:8,hex:"#a64708"},{r:155,g:64,b:8,hex:"#9b4008"},{r:145,g:53,b:8,hex:"#913508"},{r:96,g:74,b:42,hex:"#604a2a"},{r:85,g:64,b:32,hex:"#554020"},{r:75,g:53,b:25,hex:"#4b3519"},{r:68,g:46,b:18,hex:"#442e12"},{r:26,g:23,b:82,hex:"#1a1752"},{r:26,g:23,b:71,hex:"#1a1747"},{r:26,g:23,b:60,hex:"#1a173c"},{r:26,g:23,b:49,hex:"#1a1731"},{r:26,g:23,b:39,hex:"#1a1727"},{r:26,g:23,b:28,hex:"#1a171c"},{r:26,g:23,b:18,hex:"#1a1712"},{r:26,g:23,b:8,hex:"#1a1708"},{r:250,g:162,b:67,hex:"#faa243"},{r:250,g:226,b:75,hex:"#fae24b"},{r:250,g:130,b:232,hex:"#fa82e8"},{r:250,g:23,b:232,hex:"#fa17e8"},{r:208,g:23,b:190,hex:"#d017be"},{r:166,g:23,b:145,hex:"#a61791"},{r:124,g:23,b:103,hex:"#7c1767"},{r:173,g:116,b:103,hex:"#ad7467"}],[{r:53,g:46,b:17,hex:"#352e11"},{r:77,g:63,b:25,hex:"#4d3f19"},{r:71,g:57,b:22,hex:"#473916"},{r:110,g:102,b:74,hex:"#6e664a"},{r:245,g:238,b:209,hex:"#f5eed1"},{r:74,g:66,b:37,hex:"#4a4225"},{r:68,g:60,b:31,hex:"#443c1f"},{r:62,g:54,b:25,hex:"#3e3619"},{r:59,g:51,b:22,hex:"#3b3316"},{r:89,g:87,b:40,hex:"#595728"},{r:80,g:78,b:28,hex:"#504e1c"},{r:71,g:69,b:22,hex:"#474516"},{r:65,g:63,b:17,hex:"#413f11"},{r:113,g:90,b:49,hex:"#715a31"},{r:107,g:84,b:43,hex:"#6b542b"},{r:101,g:78,b:37,hex:"#654e25"},{r:245,g:183,b:155,hex:"#f5b79b"},{r:239,g:174,b:146,hex:"#efae92"},{r:236,g:168,b:140,hex:"#eca88c"},{r:230,g:159,b:131,hex:"#e69f83"},{r:227,g:153,b:125,hex:"#e3997d"},{r:221,g:147,b:119,hex:"#dd9377"},{r:218,g:138,b:110,hex:"#da8a6e"},{r:212,g:132,b:104,hex:"#d48468"},{r:206,g:126,b:98,hex:"#ce7e62"},{r:203,g:120,b:92,hex:"#cb785c"},{r:197,g:114,b:86,hex:"#c57256"},{r:194,g:111,b:83,hex:"#c26f53"},{r:188,g:105,b:77,hex:"#bc694d"},{r:185,g:99,b:71,hex:"#b96347"},{r:179,g:93,b:64,hex:"#b35d40"},{r:176,g:90,b:61,hex:"#b05a3d"},{r:170,g:84,b:55,hex:"#aa5437"},{r:167,g:81,b:52,hex:"#a75134"},{r:161,g:78,b:49,hex:"#a14e31"},{r:158,g:72,b:43,hex:"#9e482b"},{r:152,g:69,b:40,hex:"#984528"},{r:149,g:66,b:37,hex:"#954225"},{r:143,g:63,b:34,hex:"#8f3f22"},{r:140,g:60,b:31,hex:"#8c3c1f"},{r:134,g:57,b:28,hex:"#86391c"},{r:131,g:54,b:25,hex:"#833619"},{r:125,g:51,b:22,hex:"#7d3316"},{r:122,g:51,b:22,hex:"#7a3316"},{r:116,g:51,b:22,hex:"#743316"},{r:113,g:46,b:17,hex:"#712e11"},{r:107,g:46,b:17,hex:"#6b2e11"},{r:104,g:46,b:17,hex:"#682e11"},{r:245,g:223,b:185,hex:"#f5dfb9"},{r:245,g:217,b:176,hex:"#f5d9b0"},{r:245,g:211,b:167,hex:"#f5d3a7"},{r:245,g:205,b:158,hex:"#f5cd9e"},{r:245,g:202,b:152,hex:"#f5ca98"},{r:245,g:196,b:143,hex:"#f5c48f"},{r:245,g:190,b:134,hex:"#f5be86"},{r:245,g:187,b:128,hex:"#f5bb80"},{r:245,g:180,b:116,hex:"#f5b474"},{r:239,g:174,b:110,hex:"#efae6e"},{r:233,g:168,b:104,hex:"#e9a868"},{r:227,g:162,b:98,hex:"#e3a262"},{r:221,g:156,b:92,hex:"#dd9c5c"},{r:215,g:150,b:86,hex:"#d79656"},{r:209,g:144,b:80,hex:"#d19050"},{r:206,g:141,b:77,hex:"#ce8d4d"},{r:197,g:138,b:74,hex:"#c58a4a"},{r:188,g:132,b:71,hex:"#bc8447"},{r:182,g:129,b:67,hex:"#b68143"},{r:176,g:126,b:64,hex:"#b07e40"},{r:170,g:120,b:61,hex:"#aa783d"},{r:161,g:117,b:58,hex:"#a1753a"},{r:155,g:111,b:55,hex:"#9b6f37"},{r:149,g:108,b:52,hex:"#956c34"},{r:143,g:105,b:49,hex:"#8f6931"},{r:134,g:99,b:46,hex:"#86632e"},{r:125,g:96,b:43,hex:"#7d602b"},{r:116,g:93,b:40,hex:"#745d28"},{r:110,g:87,b:37,hex:"#6e5725"},{r:101,g:81,b:34,hex:"#655122"},{r:92,g:78,b:31,hex:"#5c4e1f"},{r:86,g:72,b:28,hex:"#56481c"},{r:233,g:226,b:197,hex:"#e9e2c5"},{r:227,g:220,b:191,hex:"#e3dcbf"},{r:221,g:214,b:185,hex:"#ddd6b9"},{r:218,g:211,b:182,hex:"#dad3b6"},{r:212,g:205,b:176,hex:"#d4cdb0"},{r:206,g:199,b:170,hex:"#cec7aa"},{r:203,g:196,b:167,hex:"#cbc4a7"},{r:197,g:190,b:161,hex:"#c5bea1"},{r:191,g:183,b:155,hex:"#bfb79b"},{r:188,g:180,b:152,hex:"#bcb498"},{r:182,g:174,b:146,hex:"#b6ae92"},{r:179,g:171,b:143,hex:"#b3ab8f"},{r:173,g:165,b:137,hex:"#ada589"},{r:167,g:159,b:131,hex:"#a79f83"},{r:164,g:156,b:128,hex:"#a49c80"},{r:158,g:150,b:122,hex:"#9e967a"},{r:152,g:144,b:116,hex:"#989074"},{r:149,g:141,b:113,hex:"#958d71"},{r:143,g:135,b:107,hex:"#8f876b"},{r:137,g:129,b:101,hex:"#898165"},{r:134,g:126,b:98,hex:"#867e62"},{r:128,g:120,b:92,hex:"#80785c"},{r:122,g:114,b:86,hex:"#7a7256"},{r:119,g:111,b:83,hex:"#776f53"},{r:113,g:105,b:77,hex:"#71694d"},{r:107,g:99,b:71,hex:"#6b6347"},{r:104,g:96,b:67,hex:"#686043"},{r:98,g:90,b:61,hex:"#625a3d"},{r:95,g:87,b:58,hex:"#5f573a"},{r:89,g:81,b:52,hex:"#595134"},{r:83,g:75,b:46,hex:"#534b2e"},{r:80,g:72,b:43,hex:"#50482b"},{r:143,g:238,b:101,hex:"#8fee65"},{r:137,g:226,b:95,hex:"#89e25f"},{r:131,g:214,b:89,hex:"#83d659"},{r:125,g:202,b:83,hex:"#7dca53"},{r:122,g:190,b:77,hex:"#7abe4d"},{r:116,g:177,b:71,hex:"#74b147"},{r:110,g:165,b:64,hex:"#6ea540"},{r:104,g:156,b:58,hex:"#689c3a"},{r:101,g:144,b:52,hex:"#659034"},{r:95,g:132,b:49,hex:"#5f8431"},{r:89,g:120,b:43,hex:"#59782b"},{r:83,g:108,b:37,hex:"#536c25"},{r:77,g:96,b:34,hex:"#4d6022"},{r:71,g:84,b:28,hex:"#47541c"},{r:68,g:72,b:25,hex:"#444819"},{r:62,g:63,b:22,hex:"#3e3f16"},{r:197,g:171,b:125,hex:"#c5ab7d"},{r:191,g:165,b:119,hex:"#bfa577"},{r:185,g:159,b:113,hex:"#b99f71"},{r:179,g:153,b:107,hex:"#b3996b"},{r:173,g:147,b:101,hex:"#ad9365"},{r:170,g:141,b:98,hex:"#aa8d62"},{r:164,g:138,b:92,hex:"#a48a5c"},{r:158,g:132,b:86,hex:"#9e8456"},{r:152,g:126,b:83,hex:"#987e53"},{r:146,g:120,b:77,hex:"#92784d"},{r:143,g:117,b:74,hex:"#8f754a"},{r:137,g:111,b:67,hex:"#896f43"},{r:131,g:108,b:64,hex:"#836c40"},{r:125,g:102,b:58,hex:"#7d663a"},{r:119,g:96,b:55,hex:"#776037"},{r:116,g:93,b:52,hex:"#745d34"},{r:173,g:144,b:92,hex:"#ad905c"},{r:161,g:135,b:80,hex:"#a18750"},{r:152,g:126,b:74,hex:"#987e4a"},{r:143,g:117,b:64,hex:"#8f7540"},{r:131,g:108,b:55,hex:"#836c37"},{r:122,g:99,b:49,hex:"#7a6331"},{r:113,g:90,b:43,hex:"#715a2b"},{r:104,g:84,b:37,hex:"#685425"},{r:146,g:141,b:92,hex:"#928d5c"},{r:137,g:132,b:83,hex:"#898453"},{r:131,g:126,b:77,hex:"#837e4d"},{r:122,g:120,b:71,hex:"#7a7847"},{r:116,g:111,b:61,hex:"#746f3d"},{r:107,g:105,b:55,hex:"#6b6937"},{r:101,g:99,b:49,hex:"#656331"},{r:95,g:93,b:46,hex:"#5f5d2e"},{r:245,g:238,b:104,hex:"#f5ee68"},{r:230,g:211,b:83,hex:"#e6d353"},{r:215,g:187,b:67,hex:"#d7bb43"},{r:200,g:162,b:52,hex:"#c8a234"},{r:185,g:138,b:40,hex:"#b98a28"},{r:170,g:114,b:31,hex:"#aa721f"},{r:155,g:96,b:22,hex:"#9b6016"},{r:140,g:78,b:17,hex:"#8c4e11"},{r:245,g:238,b:209,hex:"#f5eed1"},{r:245,g:211,b:182,hex:"#f5d3b6"},{r:245,g:187,b:158,hex:"#f5bb9e"},{r:245,g:162,b:134,hex:"#f5a286"},{r:245,g:138,b:110,hex:"#f58a6e"},{r:245,g:117,b:89,hex:"#f57559"},{r:245,g:93,b:64,hex:"#f55d40"},{r:245,g:69,b:40,hex:"#f54528"},{r:245,g:46,b:17,hex:"#f52e11"},{r:233,g:46,b:17,hex:"#e92e11"},{r:224,g:46,b:17,hex:"#e02e11"},{r:215,g:46,b:17,hex:"#d72e11"},{r:206,g:46,b:17,hex:"#ce2e11"},{r:197,g:46,b:17,hex:"#c52e11"},{r:188,g:46,b:17,hex:"#bc2e11"},{r:179,g:46,b:17,hex:"#b32e11"},{r:170,g:46,b:17,hex:"#aa2e11"},{r:158,g:46,b:17,hex:"#9e2e11"},{r:149,g:46,b:17,hex:"#952e11"},{r:140,g:46,b:17,hex:"#8c2e11"},{r:131,g:46,b:17,hex:"#832e11"},{r:122,g:46,b:17,hex:"#7a2e11"},{r:113,g:46,b:17,hex:"#712e11"},{r:104,g:46,b:17,hex:"#682e11"},{r:227,g:220,b:209,hex:"#e3dcd1"},{r:203,g:196,b:209,hex:"#cbc4d1"},{r:182,g:174,b:209,hex:"#b6aed1"},{r:161,g:153,b:209,hex:"#a199d1"},{r:140,g:132,b:209,hex:"#8c84d1"},{r:116,g:108,b:209,hex:"#746cd1"},{r:95,g:87,b:209,hex:"#5f57d1"},{r:74,g:66,b:209,hex:"#4a42d1"},{r:53,g:46,b:209,hex:"#352ed1"},{r:53,g:46,b:188,hex:"#352ebc"},{r:53,g:46,b:170,hex:"#352eaa"},{r:53,g:46,b:152,hex:"#352e98"},{r:53,g:46,b:134,hex:"#352e86"},{r:53,g:46,b:116,hex:"#352e74"},{r:53,g:46,b:98,hex:"#352e62"},{r:53,g:46,b:80,hex:"#352e50"},{r:245,g:238,b:209,hex:"#f5eed1"},{r:245,g:223,b:182,hex:"#f5dfb6"},{r:245,g:208,b:158,hex:"#f5d09e"},{r:245,g:196,b:134,hex:"#f5c486"},{r:245,g:180,b:110,hex:"#f5b46e"},{r:245,g:168,b:86,hex:"#f5a856"},{r:245,g:153,b:61,hex:"#f5993d"},{r:245,g:141,b:37,hex:"#f58d25"},{r:236,g:132,b:34,hex:"#ec8422"},{r:230,g:129,b:28,hex:"#e6811c"},{r:221,g:123,b:28,hex:"#dd7b1c"},{r:215,g:117,b:25,hex:"#d77519"},{r:206,g:111,b:22,hex:"#ce6f16"},{r:200,g:105,b:17,hex:"#c86911"},{r:191,g:99,b:17,hex:"#bf6311"},{r:185,g:96,b:17,hex:"#b96011"},{r:245,g:238,b:209,hex:"#f5eed1"},{r:245,g:238,b:179,hex:"#f5eeb3"},{r:245,g:238,b:152,hex:"#f5ee98"},{r:245,g:238,b:125,hex:"#f5ee7d"},{r:245,g:238,b:98,hex:"#f5ee62"},{r:245,g:238,b:71,hex:"#f5ee47"},{r:245,g:238,b:43,hex:"#f5ee2b"},{r:245,g:238,b:17,hex:"#f5ee11"},{r:179,g:93,b:17,hex:"#b35d11"},{r:173,g:87,b:17,hex:"#ad5711"},{r:164,g:81,b:17,hex:"#a45111"},{r:155,g:72,b:17,hex:"#9b4811"},{r:113,g:90,b:46,hex:"#715a2e"},{r:104,g:81,b:37,hex:"#685125"},{r:95,g:72,b:31,hex:"#5f481f"},{r:89,g:66,b:25,hex:"#594219"},{r:53,g:46,b:80,hex:"#352e50"},{r:53,g:46,b:71,hex:"#352e47"},{r:53,g:46,b:61,hex:"#352e3d"},{r:53,g:46,b:52,hex:"#352e34"},{r:53,g:46,b:43,hex:"#352e2b"},{r:53,g:46,b:34,hex:"#352e22"},{r:53,g:46,b:25,hex:"#352e19"},{r:53,g:46,b:17,hex:"#352e11"},{r:245,g:165,b:67,hex:"#f5a543"},{r:245,g:220,b:74,hex:"#f5dc4a"},{r:245,g:138,b:209,hex:"#f58ad1"},{r:245,g:46,b:209,hex:"#f52ed1"},{r:209,g:46,b:173,hex:"#d12ead"},{r:173,g:46,b:134,hex:"#ad2e86"},{r:137,g:46,b:98,hex:"#892e62"},{r:179,g:126,b:98,hex:"#b37e62"}],[{r:80,g:69,b:25,hex:"#504519"},{r:100,g:84,b:32,hex:"#645420"},{r:95,g:79,b:30,hex:"#5f4f1e"},{r:127,g:116,b:73,hex:"#7f7449"},{r:240,g:230,b:186,hex:"#f0e6ba"},{r:97,g:86,b:42,hex:"#61562a"},{r:92,g:81,b:37,hex:"#5c5125"},{r:87,g:76,b:32,hex:"#574c20"},{r:85,g:74,b:30,hex:"#554a1e"},{r:110,g:104,b:45,hex:"#6e682d"},{r:102,g:96,b:35,hex:"#666023"},{r:95,g:89,b:30,hex:"#5f591e"},{r:90,g:84,b:25,hex:"#5a5419"},{r:130,g:106,b:52,hex:"#826a34"},{r:125,g:101,b:47,hex:"#7d652f"},{r:120,g:96,b:42,hex:"#78602a"},{r:240,g:184,b:141,hex:"#f0b88d"},{r:235,g:176,b:133,hex:"#ebb085"},{r:233,g:171,b:128,hex:"#e9ab80"},{r:228,g:164,b:121,hex:"#e4a479"},{r:225,g:159,b:116,hex:"#e19f74"},{r:220,g:154,b:111,hex:"#dc9a6f"},{r:218,g:146,b:103,hex:"#da9267"},{r:212,g:141,b:98,hex:"#d48d62"},{r:207,g:136,b:93,hex:"#cf885d"},{r:205,g:131,b:88,hex:"#cd8358"},{r:200,g:126,b:83,hex:"#c87e53"},{r:197,g:124,b:81,hex:"#c57c51"},{r:192,g:119,b:76,hex:"#c0774c"},{r:190,g:114,b:71,hex:"#be7247"},{r:185,g:109,b:65,hex:"#b96d41"},{r:182,g:106,b:62,hex:"#b66a3e"},{r:177,g:101,b:57,hex:"#b16539"},{r:175,g:99,b:55,hex:"#af6337"},{r:170,g:96,b:52,hex:"#aa6034"},{r:167,g:91,b:47,hex:"#a75b2f"},{r:162,g:89,b:45,hex:"#a2592d"},{r:160,g:86,b:42,hex:"#a0562a"},{r:155,g:84,b:40,hex:"#9b5428"},{r:152,g:81,b:37,hex:"#985125"},{r:147,g:79,b:35,hex:"#934f23"},{r:145,g:76,b:32,hex:"#914c20"},{r:140,g:74,b:30,hex:"#8c4a1e"},{r:137,g:74,b:30,hex:"#894a1e"},{r:132,g:74,b:30,hex:"#844a1e"},{r:130,g:69,b:25,hex:"#824519"},{r:125,g:69,b:25,hex:"#7d4519"},{r:122,g:69,b:25,hex:"#7a4519"},{r:240,g:217,b:166,hex:"#f0d9a6"},{r:240,g:212,b:158,hex:"#f0d49e"},{r:240,g:207,b:151,hex:"#f0cf97"},{r:240,g:202,b:143,hex:"#f0ca8f"},{r:240,g:200,b:138,hex:"#f0c88a"},{r:240,g:195,b:131,hex:"#f0c383"},{r:240,g:190,b:123,hex:"#f0be7b"},{r:240,g:187,b:118,hex:"#f0bb76"},{r:240,g:181,b:108,hex:"#f0b56c"},{r:235,g:176,b:103,hex:"#ebb067"},{r:230,g:171,b:98,hex:"#e6ab62"},{r:225,g:166,b:93,hex:"#e1a65d"},{r:220,g:161,b:88,hex:"#dca158"},{r:215,g:156,b:83,hex:"#d79c53"},{r:210,g:151,b:78,hex:"#d2974e"},{r:207,g:149,b:76,hex:"#cf954c"},{r:200,g:146,b:73,hex:"#c89249"},{r:192,g:141,b:71,hex:"#c08d47"},{r:187,g:139,b:67,hex:"#bb8b43"},{r:182,g:136,b:65,hex:"#b68841"},{r:177,g:131,b:62,hex:"#b1833e"},{r:170,g:129,b:60,hex:"#aa813c"},{r:165,g:124,b:57,hex:"#a57c39"},{r:160,g:121,b:55,hex:"#a07937"},{r:155,g:119,b:52,hex:"#9b7734"},{r:147,g:114,b:50,hex:"#937232"},{r:140,g:111,b:47,hex:"#8c6f2f"},{r:132,g:109,b:45,hex:"#846d2d"},{r:127,g:104,b:42,hex:"#7f682a"},{r:120,g:99,b:40,hex:"#786328"},{r:112,g:96,b:37,hex:"#706025"},{r:107,g:91,b:35,hex:"#6b5b23"},{r:230,g:220,b:176,hex:"#e6dcb0"},{r:225,g:215,b:171,hex:"#e1d7ab"},{r:220,g:210,b:166,hex:"#dcd2a6"},{r:218,g:207,b:163,hex:"#dacfa3"},{r:212,g:202,b:158,hex:"#d4ca9e"},{r:207,g:197,b:153,hex:"#cfc599"},{r:205,g:195,b:151,hex:"#cdc397"},{r:200,g:190,b:146,hex:"#c8be92"},{r:195,g:184,b:141,hex:"#c3b88d"},{r:192,g:181,b:138,hex:"#c0b58a"},{r:187,g:176,b:133,hex:"#bbb085"},{r:185,g:174,b:131,hex:"#b9ae83"},{r:180,g:169,b:126,hex:"#b4a97e"},{r:175,g:164,b:121,hex:"#afa479"},{r:172,g:161,b:118,hex:"#aca176"},{r:167,g:156,b:113,hex:"#a79c71"},{r:162,g:151,b:108,hex:"#a2976c"},{r:160,g:149,b:106,hex:"#a0956a"},{r:155,g:144,b:101,hex:"#9b9065"},{r:150,g:139,b:96,hex:"#968b60"},{r:147,g:136,b:93,hex:"#93885d"},{r:142,g:131,b:88,hex:"#8e8358"},{r:137,g:126,b:83,hex:"#897e53"},{r:135,g:124,b:81,hex:"#877c51"},{r:130,g:119,b:76,hex:"#82774c"},{r:125,g:114,b:71,hex:"#7d7247"},{r:122,g:111,b:67,hex:"#7a6f43"},{r:117,g:106,b:62,hex:"#756a3e"},{r:115,g:104,b:60,hex:"#73683c"},{r:110,g:99,b:55,hex:"#6e6337"},{r:105,g:94,b:50,hex:"#695e32"},{r:102,g:91,b:47,hex:"#665b2f"},{r:155,g:230,b:96,hex:"#9be660"},{r:150,g:220,b:91,hex:"#96dc5b"},{r:145,g:210,b:86,hex:"#91d256"},{r:140,g:200,b:81,hex:"#8cc851"},{r:137,g:190,b:76,hex:"#89be4c"},{r:132,g:179,b:71,hex:"#84b347"},{r:127,g:169,b:65,hex:"#7fa941"},{r:122,g:161,b:60,hex:"#7aa13c"},{r:120,g:151,b:55,hex:"#789737"},{r:115,g:141,b:52,hex:"#738d34"},{r:110,g:131,b:47,hex:"#6e832f"},{r:105,g:121,b:42,hex:"#69792a"},{r:100,g:111,b:40,hex:"#646f28"},{r:95,g:101,b:35,hex:"#5f6523"},{r:92,g:91,b:32,hex:"#5c5b20"},{r:87,g:84,b:30,hex:"#57541e"},{r:200,g:174,b:116,hex:"#c8ae74"},{r:195,g:169,b:111,hex:"#c3a96f"},{r:190,g:164,b:106,hex:"#bea46a"},{r:185,g:159,b:101,hex:"#b99f65"},{r:180,g:154,b:96,hex:"#b49a60"},{r:177,g:149,b:93,hex:"#b1955d"},{r:172,g:146,b:88,hex:"#ac9258"},{r:167,g:141,b:83,hex:"#a78d53"},{r:162,g:136,b:81,hex:"#a28851"},{r:157,g:131,b:76,hex:"#9d834c"},{r:155,g:129,b:73,hex:"#9b8149"},{r:150,g:124,b:67,hex:"#967c43"},{r:145,g:121,b:65,hex:"#917941"},{r:140,g:116,b:60,hex:"#8c743c"},{r:135,g:111,b:57,hex:"#876f39"},{r:132,g:109,b:55,hex:"#846d37"},{r:180,g:151,b:88,hex:"#b49758"},{r:170,g:144,b:78,hex:"#aa904e"},{r:162,g:136,b:73,hex:"#a28849"},{r:155,g:129,b:65,hex:"#9b8141"},{r:145,g:121,b:57,hex:"#917939"},{r:137,g:114,b:52,hex:"#897234"},{r:130,g:106,b:47,hex:"#826a2f"},{r:122,g:101,b:42,hex:"#7a652a"},{r:157,g:149,b:88,hex:"#9d9558"},{r:150,g:141,b:81,hex:"#968d51"},{r:145,g:136,b:76,hex:"#91884c"},{r:137,g:131,b:71,hex:"#898347"},{r:132,g:124,b:62,hex:"#847c3e"},{r:125,g:119,b:57,hex:"#7d7739"},{r:120,g:114,b:52,hex:"#787234"},{r:115,g:109,b:50,hex:"#736d32"},{r:240,g:230,b:98,hex:"#f0e662"},{r:228,g:207,b:81,hex:"#e4cf51"},{r:215,g:187,b:67,hex:"#d7bb43"},{r:202,g:166,b:55,hex:"#caa637"},{r:190,g:146,b:45,hex:"#be922d"},{r:177,g:126,b:37,hex:"#b17e25"},{r:165,g:111,b:30,hex:"#a56f1e"},{r:152,g:96,b:25,hex:"#986019"},{r:240,g:230,b:186,hex:"#f0e6ba"},{r:240,g:207,b:163,hex:"#f0cfa3"},{r:240,g:187,b:143,hex:"#f0bb8f"},{r:240,g:166,b:123,hex:"#f0a67b"},{r:240,g:146,b:103,hex:"#f09267"},{r:240,g:129,b:86,hex:"#f08156"},{r:240,g:109,b:65,hex:"#f06d41"},{r:240,g:89,b:45,hex:"#f0592d"},{r:240,g:69,b:25,hex:"#f04519"},{r:230,g:69,b:25,hex:"#e64519"},{r:223,g:69,b:25,hex:"#df4519"},{r:215,g:69,b:25,hex:"#d74519"},{r:207,g:69,b:25,hex:"#cf4519"},{r:200,g:69,b:25,hex:"#c84519"},{r:192,g:69,b:25,hex:"#c04519"},{r:185,g:69,b:25,hex:"#b94519"},{r:177,g:69,b:25,hex:"#b14519"},{r:167,g:69,b:25,hex:"#a74519"},{r:160,g:69,b:25,hex:"#a04519"},{r:152,g:69,b:25,hex:"#984519"},{r:145,g:69,b:25,hex:"#914519"},{r:137,g:69,b:25,hex:"#894519"},{r:130,g:69,b:25,hex:"#824519"},{r:122,g:69,b:25,hex:"#7a4519"},{r:225,g:215,b:186,hex:"#e1d7ba"},{r:205,g:195,b:186,hex:"#cdc3ba"},{r:187,g:176,b:186,hex:"#bbb0ba"},{r:170,g:159,b:186,hex:"#aa9fba"},{r:152,g:141,b:186,hex:"#988dba"},{r:132,g:121,b:186,hex:"#8479ba"},{r:115,g:104,b:186,hex:"#7368ba"},{r:97,g:86,b:186,hex:"#6156ba"},{r:80,g:69,b:186,hex:"#5045ba"},{r:80,g:69,b:168,hex:"#5045a8"},{r:80,g:69,b:153,hex:"#504599"},{r:80,g:69,b:138,hex:"#50458a"},{r:80,g:69,b:123,hex:"#50457b"},{r:80,g:69,b:108,hex:"#50456c"},{r:80,g:69,b:93,hex:"#50455d"},{r:80,g:69,b:78,hex:"#50454e"},{r:240,g:230,b:186,hex:"#f0e6ba"},{r:240,g:217,b:163,hex:"#f0d9a3"},{r:240,g:205,b:143,hex:"#f0cd8f"},{r:240,g:195,b:123,hex:"#f0c37b"},{r:240,g:181,b:103,hex:"#f0b567"},{r:240,g:171,b:83,hex:"#f0ab53"},{r:240,g:159,b:62,hex:"#f09f3e"},{r:240,g:149,b:42,hex:"#f0952a"},{r:233,g:141,b:40,hex:"#e98d28"},{r:228,g:139,b:35,hex:"#e48b23"},{r:220,g:134,b:35,hex:"#dc8623"},{r:215,g:129,b:32,hex:"#d78120"},{r:207,g:124,b:30,hex:"#cf7c1e"},{r:202,g:119,b:25,hex:"#ca7719"},{r:195,g:114,b:25,hex:"#c37219"},{r:190,g:111,b:25,hex:"#be6f19"},{r:240,g:230,b:186,hex:"#f0e6ba"},{r:240,g:230,b:161,hex:"#f0e6a1"},{r:240,g:230,b:138,hex:"#f0e68a"},{r:240,g:230,b:116,hex:"#f0e674"},{r:240,g:230,b:93,hex:"#f0e65d"},{r:240,g:230,b:71,hex:"#f0e647"},{r:240,g:230,b:47,hex:"#f0e62f"},{r:240,g:230,b:25,hex:"#f0e619"},{r:185,g:109,b:25,hex:"#b96d19"},{r:180,g:104,b:25,hex:"#b46819"},{r:172,g:99,b:25,hex:"#ac6319"},{r:165,g:91,b:25,hex:"#a55b19"},{r:130,g:106,b:50,hex:"#826a32"},{r:122,g:99,b:42,hex:"#7a632a"},{r:115,g:91,b:37,hex:"#735b25"},{r:110,g:86,b:32,hex:"#6e5620"},{r:80,g:69,b:78,hex:"#50454e"},{r:80,g:69,b:71,hex:"#504547"},{r:80,g:69,b:62,hex:"#50453e"},{r:80,g:69,b:55,hex:"#504537"},{r:80,g:69,b:47,hex:"#50452f"},{r:80,g:69,b:40,hex:"#504528"},{r:80,g:69,b:32,hex:"#504520"},{r:80,g:69,b:25,hex:"#504519"},{r:240,g:169,b:67,hex:"#f0a943"},{r:240,g:215,b:73,hex:"#f0d749"},{r:240,g:146,b:186,hex:"#f092ba"},{r:240,g:69,b:186,hex:"#f045ba"},{r:210,g:69,b:156,hex:"#d2459c"},{r:180,g:69,b:123,hex:"#b4457b"},{r:150,g:69,b:93,hex:"#96455d"},{r:185,g:136,b:93,hex:"#b9885d"}],[{r:107,g:93,b:34,hex:"#6b5d22"},{r:123,g:104,b:40,hex:"#7b6828"},{r:119,g:100,b:38,hex:"#776426"},{r:145,g:130,b:72,hex:"#918248"},{r:235,g:221,b:162,hex:"#ebdda2"},{r:121,g:106,b:48,hex:"#796a30"},{r:117,g:102,b:44,hex:"#75662c"},{r:113,g:98,b:40,hex:"#716228"},{r:111,g:96,b:38,hex:"#6f6026"},{r:131,g:120,b:50,hex:"#837832"},{r:125,g:114,b:42,hex:"#7d722a"},{r:119,g:108,b:38,hex:"#776c26"},{r:115,g:104,b:34,hex:"#736822"},{r:147,g:122,b:56,hex:"#937a38"},{r:143,g:118,b:52,hex:"#8f7634"},{r:139,g:114,b:48,hex:"#8b7230"},{r:235,g:184,b:126,hex:"#ebb87e"},{r:231,g:178,b:120,hex:"#e7b278"},{r:229,g:174,b:116,hex:"#e5ae74"},{r:225,g:168,b:110,hex:"#e1a86e"},{r:223,g:164,b:106,hex:"#dfa46a"},{r:219,g:160,b:102,hex:"#dba066"},{r:217,g:154,b:96,hex:"#d99a60"},{r:213,g:150,b:92,hex:"#d5965c"},{r:209,g:146,b:88,hex:"#d19258"},{r:207,g:142,b:84,hex:"#cf8e54"},{r:203,g:138,b:80,hex:"#cb8a50"},{r:201,g:136,b:78,hex:"#c9884e"},{r:197,g:132,b:74,hex:"#c5844a"},{r:195,g:128,b:70,hex:"#c38046"},{r:191,g:124,b:66,hex:"#bf7c42"},{r:189,g:122,b:64,hex:"#bd7a40"},{r:185,g:118,b:60,hex:"#b9763c"},{r:183,g:116,b:58,hex:"#b7743a"},{r:179,g:114,b:56,hex:"#b37238"},{r:177,g:110,b:52,hex:"#b16e34"},{r:173,g:108,b:50,hex:"#ad6c32"},{r:171,g:106,b:48,hex:"#ab6a30"},{r:167,g:104,b:46,hex:"#a7682e"},{r:165,g:102,b:44,hex:"#a5662c"},{r:161,g:100,b:42,hex:"#a1642a"},{r:159,g:98,b:40,hex:"#9f6228"},{r:155,g:96,b:38,hex:"#9b6026"},{r:153,g:96,b:38,hex:"#996026"},{r:149,g:96,b:38,hex:"#956026"},{r:147,g:93,b:34,hex:"#935d22"},{r:143,g:93,b:34,hex:"#8f5d22"},{r:141,g:93,b:34,hex:"#8d5d22"},{r:235,g:211,b:146,hex:"#ebd392"},{r:235,g:207,b:140,hex:"#ebcf8c"},{r:235,g:203,b:134,hex:"#ebcb86"},{r:235,g:199,b:128,hex:"#ebc780"},{r:235,g:197,b:124,hex:"#ebc57c"},{r:235,g:193,b:118,hex:"#ebc176"},{r:235,g:189,b:112,hex:"#ebbd70"},{r:235,g:187,b:108,hex:"#ebbb6c"},{r:235,g:182,b:100,hex:"#ebb664"},{r:231,g:178,b:96,hex:"#e7b260"},{r:227,g:174,b:92,hex:"#e3ae5c"},{r:223,g:170,b:88,hex:"#dfaa58"},{r:219,g:166,b:84,hex:"#dba654"},{r:215,g:162,b:80,hex:"#d7a250"},{r:211,g:158,b:76,hex:"#d39e4c"},{r:209,g:156,b:74,hex:"#d19c4a"},{r:203,g:154,b:72,hex:"#cb9a48"},{r:197,g:150,b:70,hex:"#c59646"},{r:193,g:148,b:68,hex:"#c19444"},{r:189,g:146,b:66,hex:"#bd9242"},{r:185,g:142,b:64,hex:"#b98e40"},{r:179,g:140,b:62,hex:"#b38c3e"},{r:175,g:136,b:60,hex:"#af883c"},{r:171,g:134,b:58,hex:"#ab863a"},{r:167,g:132,b:56,hex:"#a78438"},{r:161,g:128,b:54,hex:"#a18036"},{r:155,g:126,b:52,hex:"#9b7e34"},{r:149,g:124,b:50,hex:"#957c32"},{r:145,g:120,b:48,hex:"#917830"},{r:139,g:116,b:46,hex:"#8b742e"},{r:133,g:114,b:44,hex:"#85722c"},{r:129,g:110,b:42,hex:"#816e2a"},{r:227,g:213,b:154,hex:"#e3d59a"},{r:223,g:209,b:150,hex:"#dfd196"},{r:219,g:205,b:146,hex:"#dbcd92"},{r:217,g:203,b:144,hex:"#d9cb90"},{r:213,g:199,b:140,hex:"#d5c78c"},{r:209,g:195,b:136,hex:"#d1c388"},{r:207,g:193,b:134,hex:"#cfc186"},{r:203,g:189,b:130,hex:"#cbbd82"},{r:199,g:184,b:126,hex:"#c7b87e"},{r:197,g:182,b:124,hex:"#c5b67c"},{r:193,g:178,b:120,hex:"#c1b278"},{r:191,g:176,b:118,hex:"#bfb076"},{r:187,g:172,b:114,hex:"#bbac72"},{r:183,g:168,b:110,hex:"#b7a86e"},{r:181,g:166,b:108,hex:"#b5a66c"},{r:177,g:162,b:104,hex:"#b1a268"},{r:173,g:158,b:100,hex:"#ad9e64"},{r:171,g:156,b:98,hex:"#ab9c62"},{r:167,g:152,b:94,hex:"#a7985e"},{r:163,g:148,b:90,hex:"#a3945a"},{r:161,g:146,b:88,hex:"#a19258"},{r:157,g:142,b:84,hex:"#9d8e54"},{r:153,g:138,b:80,hex:"#998a50"},{r:151,g:136,b:78,hex:"#97884e"},{r:147,g:132,b:74,hex:"#93844a"},{r:143,g:128,b:70,hex:"#8f8046"},{r:141,g:126,b:68,hex:"#8d7e44"},{r:137,g:122,b:64,hex:"#897a40"},{r:135,g:120,b:62,hex:"#87783e"},{r:131,g:116,b:58,hex:"#83743a"},{r:127,g:112,b:54,hex:"#7f7036"},{r:125,g:110,b:52,hex:"#7d6e34"},{r:167,g:221,b:90,hex:"#a7dd5a"},{r:163,g:213,b:86,hex:"#a3d556"},{r:159,g:205,b:82,hex:"#9fcd52"},{r:155,g:197,b:78,hex:"#9bc54e"},{r:153,g:189,b:74,hex:"#99bd4a"},{r:149,g:180,b:70,hex:"#95b446"},{r:145,g:172,b:66,hex:"#91ac42"},{r:141,g:166,b:62,hex:"#8da63e"},{r:139,g:158,b:58,hex:"#8b9e3a"},{r:135,g:150,b:56,hex:"#879638"},{r:131,g:142,b:52,hex:"#838e34"},{r:127,g:134,b:48,hex:"#7f8630"},{r:123,g:126,b:46,hex:"#7b7e2e"},{r:119,g:118,b:42,hex:"#77762a"},{r:117,g:110,b:40,hex:"#756e28"},{r:113,g:104,b:38,hex:"#716826"},{r:203,g:176,b:106,hex:"#cbb06a"},{r:199,g:172,b:102,hex:"#c7ac66"},{r:195,g:168,b:98,hex:"#c3a862"},{r:191,g:164,b:94,hex:"#bfa45e"},{r:187,g:160,b:90,hex:"#bba05a"},{r:185,g:156,b:88,hex:"#b99c58"},{r:181,g:154,b:84,hex:"#b59a54"},{r:177,g:150,b:80,hex:"#b19650"},{r:173,g:146,b:78,hex:"#ad924e"},{r:169,g:142,b:74,hex:"#a98e4a"},{r:167,g:140,b:72,hex:"#a78c48"},{r:163,g:136,b:68,hex:"#a38844"},{r:159,g:134,b:66,hex:"#9f8642"},{r:155,g:130,b:62,hex:"#9b823e"},{r:151,g:126,b:60,hex:"#977e3c"},{r:149,g:124,b:58,hex:"#957c3a"},{r:187,g:158,b:84,hex:"#bb9e54"},{r:179,g:152,b:76,hex:"#b3984c"},{r:173,g:146,b:72,hex:"#ad9248"},{r:167,g:140,b:66,hex:"#a78c42"},{r:159,g:134,b:60,hex:"#9f863c"},{r:153,g:128,b:56,hex:"#998038"},{r:147,g:122,b:52,hex:"#937a34"},{r:141,g:118,b:48,hex:"#8d7630"},{r:169,g:156,b:84,hex:"#a99c54"},{r:163,g:150,b:78,hex:"#a3964e"},{r:159,g:146,b:74,hex:"#9f924a"},{r:153,g:142,b:70,hex:"#998e46"},{r:149,g:136,b:64,hex:"#958840"},{r:143,g:132,b:60,hex:"#8f843c"},{r:139,g:128,b:56,hex:"#8b8038"},{r:135,g:124,b:54,hex:"#877c36"},{r:235,g:221,b:92,hex:"#ebdd5c"},{r:225,g:203,b:78,hex:"#e1cb4e"},{r:215,g:187,b:68,hex:"#d7bb44"},{r:205,g:170,b:58,hex:"#cdaa3a"},{r:195,g:154,b:50,hex:"#c39a32"},{r:185,g:138,b:44,hex:"#b98a2c"},{r:175,g:126,b:38,hex:"#af7e26"},{r:165,g:114,b:34,hex:"#a57222"},{r:235,g:221,b:162,hex:"#ebdda2"},{r:235,g:203,b:144,hex:"#ebcb90"},{r:235,g:187,b:128,hex:"#ebbb80"},{r:235,g:170,b:112,hex:"#ebaa70"},{r:235,g:154,b:96,hex:"#eb9a60"},{r:235,g:140,b:82,hex:"#eb8c52"},{r:235,g:124,b:66,hex:"#eb7c42"},{r:235,g:108,b:50,hex:"#eb6c32"},{r:235,g:93,b:34,hex:"#eb5d22"},{r:227,g:93,b:34,hex:"#e35d22"},{r:221,g:93,b:34,hex:"#dd5d22"},{r:215,g:93,b:34,hex:"#d75d22"},{r:209,g:93,b:34,hex:"#d15d22"},{r:203,g:93,b:34,hex:"#cb5d22"},{r:197,g:93,b:34,hex:"#c55d22"},{r:191,g:93,b:34,hex:"#bf5d22"},{r:185,g:93,b:34,hex:"#b95d22"},{r:177,g:93,b:34,hex:"#b15d22"},{r:171,g:93,b:34,hex:"#ab5d22"},{r:165,g:93,b:34,hex:"#a55d22"},{r:159,g:93,b:34,hex:"#9f5d22"},{r:153,g:93,b:34,hex:"#995d22"},{r:147,g:93,b:34,hex:"#935d22"},{r:141,g:93,b:34,hex:"#8d5d22"},{r:223,g:209,b:162,hex:"#dfd1a2"},{r:207,g:193,b:162,hex:"#cfc1a2"},{r:193,g:178,b:162,hex:"#c1b2a2"},{r:179,g:164,b:162,hex:"#b3a4a2"},{r:165,g:150,b:162,hex:"#a596a2"},{r:149,g:134,b:162,hex:"#9586a2"},{r:135,g:120,b:162,hex:"#8778a2"},{r:121,g:106,b:162,hex:"#796aa2"},{r:107,g:93,b:162,hex:"#6b5da2"},{r:107,g:93,b:148,hex:"#6b5d94"},{r:107,g:93,b:136,hex:"#6b5d88"},{r:107,g:93,b:124,hex:"#6b5d7c"},{r:107,g:93,b:112,hex:"#6b5d70"},{r:107,g:93,b:100,hex:"#6b5d64"},{r:107,g:93,b:88,hex:"#6b5d58"},{r:107,g:93,b:76,hex:"#6b5d4c"},{r:235,g:221,b:162,hex:"#ebdda2"},{r:235,g:211,b:144,hex:"#ebd390"},{r:235,g:201,b:128,hex:"#ebc980"},{r:235,g:193,b:112,hex:"#ebc170"},{r:235,g:182,b:96,hex:"#ebb660"},{r:235,g:174,b:80,hex:"#ebae50"},{r:235,g:164,b:64,hex:"#eba440"},{r:235,g:156,b:48,hex:"#eb9c30"},{r:229,g:150,b:46,hex:"#e5962e"},{r:225,g:148,b:42,hex:"#e1942a"},{r:219,g:144,b:42,hex:"#db902a"},{r:215,g:140,b:40,hex:"#d78c28"},{r:209,g:136,b:38,hex:"#d18826"},{r:205,g:132,b:34,hex:"#cd8422"},{r:199,g:128,b:34,hex:"#c78022"},{r:195,g:126,b:34,hex:"#c37e22"},{r:235,g:221,b:162,hex:"#ebdda2"},{r:235,g:221,b:142,hex:"#ebdd8e"},{r:235,g:221,b:124,hex:"#ebdd7c"},{r:235,g:221,b:106,hex:"#ebdd6a"},{r:235,g:221,b:88,hex:"#ebdd58"},{r:235,g:221,b:70,hex:"#ebdd46"},{r:235,g:221,b:52,hex:"#ebdd34"},{r:235,g:221,b:34,hex:"#ebdd22"},{r:191,g:124,b:34,hex:"#bf7c22"},{r:187,g:120,b:34,hex:"#bb7822"},{r:181,g:116,b:34,hex:"#b57422"},{r:175,g:110,b:34,hex:"#af6e22"},{r:147,g:122,b:54,hex:"#937a36"},{r:141,g:116,b:48,hex:"#8d7430"},{r:135,g:110,b:44,hex:"#876e2c"},{r:131,g:106,b:40,hex:"#836a28"},{r:107,g:93,b:76,hex:"#6b5d4c"},{r:107,g:93,b:70,hex:"#6b5d46"},{r:107,g:93,b:64,hex:"#6b5d40"},{r:107,g:93,b:58,hex:"#6b5d3a"},{r:107,g:93,b:52,hex:"#6b5d34"},{r:107,g:93,b:46,hex:"#6b5d2e"},{r:107,g:93,b:40,hex:"#6b5d28"},{r:107,g:93,b:34,hex:"#6b5d22"},{r:235,g:172,b:68,hex:"#ebac44"},{r:235,g:209,b:72,hex:"#ebd148"},{r:235,g:154,b:162,hex:"#eb9aa2"},{r:235,g:93,b:162,hex:"#eb5da2"},{r:211,g:93,b:138,hex:"#d35d8a"},{r:187,g:93,b:112,hex:"#bb5d70"},{r:163,g:93,b:88,hex:"#a35d58"},{r:191,g:146,b:88,hex:"#bf9258"}],[{r:0,g:32,b:0,hex:"#002000"},{r:28,g:52,b:10,hex:"#1c340a"},{r:21,g:45,b:7,hex:"#152d07"},{r:66,g:97,b:66,hex:"#426142"},{r:224,g:255,b:224,hex:"#e0ffe0"},{r:24,g:55,b:24,hex:"#183718"},{r:17,g:48,b:17,hex:"#113011"},{r:10,g:41,b:10,hex:"#0a290a"},{r:7,g:38,b:7,hex:"#072607"},{r:42,g:80,b:28,hex:"#2a501c"},{r:31,g:69,b:14,hex:"#1f450e"},{r:21,g:59,b:7,hex:"#153b07"},{r:14,g:52,b:0,hex:"#0e3400"},{r:70,g:83,b:38,hex:"#465326"},{r:63,g:76,b:31,hex:"#3f4c1f"},{r:56,g:69,b:24,hex:"#384518"},{r:224,g:192,b:161,hex:"#e0c0a1"},{r:217,g:181,b:150,hex:"#d9b596"},{r:213,g:174,b:143,hex:"#d5ae8f"},{r:206,g:164,b:133,hex:"#cea485"},{r:203,g:157,b:126,hex:"#cb9d7e"},{r:196,g:150,b:119,hex:"#c49677"},{r:192,g:139,b:108,hex:"#c08b6c"},{r:185,g:132,b:101,hex:"#b98465"},{r:178,g:125,b:94,hex:"#b27d5e"},{r:175,g:118,b:87,hex:"#af7657"},{r:168,g:111,b:80,hex:"#a86f50"},{r:164,g:108,b:77,hex:"#a46c4d"},{r:157,g:101,b:70,hex:"#9d6546"},{r:154,g:94,b:63,hex:"#9a5e3f"},{r:147,g:87,b:56,hex:"#935738"},{r:143,g:83,b:52,hex:"#8f5334"},{r:136,g:76,b:45,hex:"#884c2d"},{r:133,g:73,b:42,hex:"#85492a"},{r:126,g:69,b:38,hex:"#7e4526"},{r:122,g:62,b:31,hex:"#7a3e1f"},{r:115,g:59,b:28,hex:"#733b1c"},{r:112,g:55,b:24,hex:"#703718"},{r:105,g:52,b:21,hex:"#693415"},{r:101,g:48,b:17,hex:"#653011"},{r:94,g:45,b:14,hex:"#5e2d0e"},{r:91,g:41,b:10,hex:"#5b290a"},{r:84,g:38,b:7,hex:"#542607"},{r:80,g:38,b:7,hex:"#502607"},{r:73,g:38,b:7,hex:"#492607"},{r:70,g:32,b:0,hex:"#462000"},{r:63,g:32,b:0,hex:"#3f2000"},{r:59,g:32,b:0,hex:"#3b2000"},{r:224,g:237,b:196,hex:"#e0edc4"},{r:224,g:230,b:185,hex:"#e0e6b9"},{r:224,g:223,b:175,hex:"#e0dfaf"},{r:224,g:216,b:164,hex:"#e0d8a4"},{r:224,g:213,b:157,hex:"#e0d59d"},{r:224,g:206,b:147,hex:"#e0ce93"},{r:224,g:199,b:136,hex:"#e0c788"},{r:224,g:195,b:129,hex:"#e0c381"},{r:224,g:188,b:115,hex:"#e0bc73"},{r:217,g:181,b:108,hex:"#d9b56c"},{r:210,g:174,b:101,hex:"#d2ae65"},{r:203,g:167,b:94,hex:"#cba75e"},{r:196,g:160,b:87,hex:"#c4a057"},{r:189,g:153,b:80,hex:"#bd9950"},{r:182,g:146,b:73,hex:"#b69249"},{r:178,g:143,b:70,hex:"#b28f46"},{r:168,g:139,b:66,hex:"#a88b42"},{r:157,g:132,b:63,hex:"#9d843f"},{r:150,g:129,b:59,hex:"#96813b"},{r:143,g:125,b:56,hex:"#8f7d38"},{r:136,g:118,b:52,hex:"#887634"},{r:126,g:115,b:49,hex:"#7e7331"},{r:119,g:108,b:45,hex:"#776c2d"},{r:112,g:104,b:42,hex:"#70682a"},{r:105,g:101,b:38,hex:"#696526"},{r:94,g:94,b:35,hex:"#5e5e23"},{r:84,g:90,b:31,hex:"#545a1f"},{r:73,g:87,b:28,hex:"#49571c"},{r:66,g:80,b:24,hex:"#425018"},{r:56,g:73,b:21,hex:"#384915"},{r:45,g:69,b:17,hex:"#2d4511"},{r:38,g:62,b:14,hex:"#263e0e"},{r:210,g:241,b:210,hex:"#d2f1d2"},{r:203,g:234,b:203,hex:"#cbeacb"},{r:196,g:227,b:196,hex:"#c4e3c4"},{r:192,g:223,b:192,hex:"#c0dfc0"},{r:185,g:216,b:185,hex:"#b9d8b9"},{r:178,g:209,b:178,hex:"#b2d1b2"},{r:175,g:206,b:175,hex:"#afceaf"},{r:168,g:199,b:168,hex:"#a8c7a8"},{r:161,g:192,b:161,hex:"#a1c0a1"},{r:157,g:188,b:157,hex:"#9dbc9d"},{r:150,g:181,b:150,hex:"#96b596"},{r:147,g:178,b:147,hex:"#93b293"},{r:140,g:171,b:140,hex:"#8cab8c"},{r:133,g:164,b:133,hex:"#85a485"},{r:129,g:160,b:129,hex:"#81a081"},{r:122,g:153,b:122,hex:"#7a997a"},{r:115,g:146,b:115,hex:"#739273"},{r:112,g:143,b:112,hex:"#708f70"},{r:105,g:136,b:105,hex:"#698869"},{r:98,g:129,b:98,hex:"#628162"},{r:94,g:125,b:94,hex:"#5e7d5e"},{r:87,g:118,b:87,hex:"#577657"},{r:80,g:111,b:80,hex:"#506f50"},{r:77,g:108,b:77,hex:"#4d6c4d"},{r:70,g:101,b:70,hex:"#466546"},{r:63,g:94,b:63,hex:"#3f5e3f"},{r:59,g:90,b:59,hex:"#3b5a3b"},{r:52,g:83,b:52,hex:"#345334"},{r:49,g:80,b:49,hex:"#315031"},{r:42,g:73,b:42,hex:"#2a492a"},{r:35,g:66,b:35,hex:"#234223"},{r:31,g:62,b:31,hex:"#1f3e1f"},{r:105,g:255,b:98,hex:"#69ff62"},{r:98,g:241,b:91,hex:"#62f15b"},{r:91,g:227,b:84,hex:"#5be354"},{r:84,g:213,b:77,hex:"#54d54d"},{r:80,g:199,b:70,hex:"#50c746"},{r:73,g:185,b:63,hex:"#49b93f"},{r:66,g:171,b:56,hex:"#42ab38"},{r:59,g:160,b:49,hex:"#3ba031"},{r:56,g:146,b:42,hex:"#38922a"},{r:49,g:132,b:38,hex:"#318426"},{r:42,g:118,b:31,hex:"#2a761f"},{r:35,g:104,b:24,hex:"#236818"},{r:28,g:90,b:21,hex:"#1c5a15"},{r:21,g:76,b:14,hex:"#154c0e"},{r:17,g:62,b:10,hex:"#113e0a"},{r:10,g:52,b:7,hex:"#0a3407"},{r:168,g:178,b:126,hex:"#a8b27e"},{r:161,g:171,b:119,hex:"#a1ab77"},{r:154,g:164,b:112,hex:"#9aa470"},{r:147,g:157,b:105,hex:"#939d69"},{r:140,g:150,b:98,hex:"#8c9662"},{r:136,g:143,b:94,hex:"#888f5e"},{r:129,g:139,b:87,hex:"#818b57"},{r:122,g:132,b:80,hex:"#7a8450"},{r:115,g:125,b:77,hex:"#737d4d"},{r:108,g:118,b:70,hex:"#6c7646"},{r:105,g:115,b:66,hex:"#697342"},{r:98,g:108,b:59,hex:"#626c3b"},{r:91,g:104,b:56,hex:"#5b6838"},{r:84,g:97,b:49,hex:"#546131"},{r:77,g:90,b:45,hex:"#4d5a2d"},{r:73,g:87,b:42,hex:"#49572a"},{r:140,g:146,b:87,hex:"#8c9257"},{r:126,g:136,b:73,hex:"#7e8849"},{r:115,g:125,b:66,hex:"#737d42"},{r:105,g:115,b:56,hex:"#697338"},{r:91,g:104,b:45,hex:"#5b682d"},{r:80,g:94,b:38,hex:"#505e26"},{r:70,g:83,b:31,hex:"#46531f"},{r:59,g:76,b:24,hex:"#3b4c18"},{r:108,g:143,b:87,hex:"#6c8f57"},{r:98,g:132,b:77,hex:"#62844d"},{r:91,g:125,b:70,hex:"#5b7d46"},{r:80,g:118,b:63,hex:"#50763f"},{r:73,g:108,b:52,hex:"#496c34"},{r:63,g:101,b:45,hex:"#3f652d"},{r:56,g:94,b:38,hex:"#385e26"},{r:49,g:87,b:35,hex:"#315723"},{r:224,g:255,b:101,hex:"#e0ff65"},{r:206,g:223,b:77,hex:"#cedf4d"},{r:189,g:195,b:59,hex:"#bdc33b"},{r:171,g:167,b:42,hex:"#aba72a"},{r:154,g:139,b:28,hex:"#9a8b1c"},{r:136,g:111,b:17,hex:"#886f11"},{r:119,g:90,b:7,hex:"#775a07"},{r:101,g:69,b:0,hex:"#654500"},{r:224,g:255,b:224,hex:"#e0ffe0"},{r:224,g:223,b:192,hex:"#e0dfc0"},{r:224,g:195,b:164,hex:"#e0c3a4"},{r:224,g:167,b:136,hex:"#e0a788"},{r:224,g:139,b:108,hex:"#e08b6c"},{r:224,g:115,b:84,hex:"#e07354"},{r:224,g:87,b:56,hex:"#e05738"},{r:224,g:59,b:28,hex:"#e03b1c"},{r:224,g:32,b:0,hex:"#e02000"},{r:210,g:32,b:0,hex:"#d22000"},{r:199,g:32,b:0,hex:"#c72000"},{r:189,g:32,b:0,hex:"#bd2000"},{r:178,g:32,b:0,hex:"#b22000"},{r:168,g:32,b:0,hex:"#a82000"},{r:157,g:32,b:0,hex:"#9d2000"},{r:147,g:32,b:0,hex:"#932000"},{r:136,g:32,b:0,hex:"#882000"},{r:122,g:32,b:0,hex:"#7a2000"},{r:112,g:32,b:0,hex:"#702000"},{r:101,g:32,b:0,hex:"#652000"},{r:91,g:32,b:0,hex:"#5b2000"},{r:80,g:32,b:0,hex:"#502000"},{r:70,g:32,b:0,hex:"#462000"},{r:59,g:32,b:0,hex:"#3b2000"},{r:203,g:234,b:224,hex:"#cbeae0"},{r:175,g:206,b:224,hex:"#afcee0"},{r:150,g:181,b:224,hex:"#96b5e0"},{r:126,g:157,b:224,hex:"#7e9de0"},{r:101,g:132,b:224,hex:"#6584e0"},{r:73,g:104,b:224,hex:"#4968e0"},{r:49,g:80,b:224,hex:"#3150e0"},{r:24,g:55,b:224,hex:"#1837e0"},{r:0,g:32,b:224,hex:"#0020e0"},{r:0,g:32,b:199,hex:"#0020c7"},{r:0,g:32,b:178,hex:"#0020b2"},{r:0,g:32,b:157,hex:"#00209d"},{r:0,g:32,b:136,hex:"#002088"},{r:0,g:32,b:115,hex:"#002073"},{r:0,g:32,b:94,hex:"#00205e"},{r:0,g:32,b:73,hex:"#002049"},{r:224,g:255,b:224,hex:"#e0ffe0"},{r:224,g:237,b:192,hex:"#e0edc0"},{r:224,g:220,b:164,hex:"#e0dca4"},{r:224,g:206,b:136,hex:"#e0ce88"},{r:224,g:188,b:108,hex:"#e0bc6c"},{r:224,g:174,b:80,hex:"#e0ae50"},{r:224,g:157,b:52,hex:"#e09d34"},{r:224,g:143,b:24,hex:"#e08f18"},{r:213,g:132,b:21,hex:"#d58415"},{r:206,g:129,b:14,hex:"#ce810e"},{r:196,g:122,b:14,hex:"#c47a0e"},{r:189,g:115,b:10,hex:"#bd730a"},{r:178,g:108,b:7,hex:"#b26c07"},{r:171,g:101,b:0,hex:"#ab6500"},{r:161,g:94,b:0,hex:"#a15e00"},{r:154,g:90,b:0,hex:"#9a5a00"},{r:224,g:255,b:224,hex:"#e0ffe0"},{r:224,g:255,b:189,hex:"#e0ffbd"},{r:224,g:255,b:157,hex:"#e0ff9d"},{r:224,g:255,b:126,hex:"#e0ff7e"},{r:224,g:255,b:94,hex:"#e0ff5e"},{r:224,g:255,b:63,hex:"#e0ff3f"},{r:224,g:255,b:31,hex:"#e0ff1f"},{r:224,g:255,b:0,hex:"#e0ff00"},{r:147,g:87,b:0,hex:"#935700"},{r:140,g:80,b:0,hex:"#8c5000"},{r:129,g:73,b:0,hex:"#814900"},{r:119,g:62,b:0,hex:"#773e00"},{r:70,g:83,b:35,hex:"#465323"},{r:59,g:73,b:24,hex:"#3b4918"},{r:49,g:62,b:17,hex:"#313e11"},{r:42,g:55,b:10,hex:"#2a370a"},{r:0,g:32,b:73,hex:"#002049"},{r:0,g:32,b:63,hex:"#00203f"},{r:0,g:32,b:52,hex:"#002034"},{r:0,g:32,b:42,hex:"#00202a"},{r:0,g:32,b:31,hex:"#00201f"},{r:0,g:32,b:21,hex:"#002015"},{r:0,g:32,b:10,hex:"#00200a"},{r:0,g:32,b:0,hex:"#002000"},{r:224,g:171,b:59,hex:"#e0ab3b"},{r:224,g:234,b:66,hex:"#e0ea42"},{r:224,g:139,b:224,hex:"#e08be0"},{r:224,g:32,b:224,hex:"#e020e0"},{r:182,g:32,b:182,hex:"#b620b6"},{r:140,g:32,b:136,hex:"#8c2088"},{r:98,g:32,b:94,hex:"#62205e"},{r:147,g:125,b:94,hex:"#937d5e"}]]};class Se{sendEvent;file;lumps;constructor(e){this.file=e.file,this.sendEvent=e.sendEvent,this.lumps=e.lumps??[]}}const ye={D_E1M1:"E1M1: Hangar",D_E1M2:"E1M2: Nuclear Plant",D_E1M3:"E1M3: Toxin Refinery",D_E1M4:"E1M4: Command Control",D_E1M5:"E1M5: Phobos Lab",D_E1M6:"E1M6: Central Processing",D_E1M7:"E1M7: Computer Station",D_E1M8:"E1M8: Phobos Anomaly",D_E1M9:"E1M9: Military Base",D_E2M1:"E2M1: Deimos Anomaly",D_E2M2:"E2M2: Containment Area",D_E2M3:"E2M3: Refinery",D_E2M4:"E2M4: Deimos Lab",D_E2M5:"E2M5: Command Center",D_E2M6:"E2M6: Halls of the Damned",D_E2M7:"E2M7: Spawning Vats",D_E2M8:"E2M8: Tower of Babel",D_E2M9:"E2M9: Fortress of Mystery",D_E3M1:"E3M1: Hell Keep",D_E3M2:"E3M2: Slough of Despair",D_E3M3:"E3M3: Pandemonium",D_E3M4:"E3M4: House of Pain",D_E3M5:"E3M5: Unholy Cathedral",D_E3M6:"E3M6: Mt. Erebus",D_E3M7:"E3M7: Limbo",D_E3M8:"E3M8: Dis",D_E3M9:"E3M9: Warrens",D_E4M1:"E4M1: Hell Beneath",D_E4M2:"E4M2: Perfect Hatred",D_E4M3:"E4M3: Sever the Wicked",D_E4M4:"E4M4: Unruly Evil",D_E4M5:"E4M5: They Will Repent",D_E4M6:"E4M6: Against Thee Wickedly",D_E4M7:"E4M7: And Hell Followed",D_E4M8:"E4M8: Unto the Cruel",D_E4M9:"E4M9: Fear",D_INTER:"Intermission",D_INTRO:"Title Screen",D_VICTOR:"Victory Music",D_BUNNY:"Endgame",D_RUNNIN:"MAP01: Entryway",D_STALKS:"MAP02: Underhalls",D_COUNTD:"MAP03: The Gantlet",D_BETWEE:"MAP04: The Focus",D_DOOM:"MAP05: The Waste Tunnels",D_THE_DA:"MAP06: The Crusher",D_SHAWN:"MAP07: Dead Simple",D_DDTBLU:"MAP08: Tricks and Traps",D_IN_CIT:"MAP09: The Pit",D_DEAD:"MAP10: Refueling Base",D_STLKS2:"MAP11: Circle of Death",D_THEDA2:"MAP12: The Factory",D_DOOM2:"MAP13: Downtown",D_DDTBL2:"MAP14: The Inmost Dens",D_RUNNI2:"MAP15: Industrial Zone",D_DEAD2:"MAP16: Suburbs",D_STLKS3:"MAP17: Tenements",D_ROMERO:"MAP18: The Courtyard",D_SHAWN2:"MAP19: The Citadel",D_MESSAG:"MAP20: Gotcha!",D_COUNT2:"MAP21: Nirvana",D_DDTBL3:"MAP22: The Catacombs",D_AMPIE:"MAP23: Barrels o' Fun",D_THEDA3:"MAP24: The Chasm",D_ADRIAN:"MAP25: Bloodfalls",D_MESSG2:"MAP26: The Abandoned Mines",D_ROMER2:"MAP27: Monster Condo",D_TENSE:"MAP28: The Spirit World",D_SHAWN3:"MAP29: The Living End",D_OPENIN:"MAP30: Icon of Sin",D_EVIL:"MAP31: Wolfenstein",D_ULTIMA:"MAP32: Grosse",D_DM2TTL:"Title Screen",D_DM2INT:"Intermission",D_READ_M:"Text Screen"},Ie={E1M1:"D_E1M1",E1M2:"D_E1M2",E1M3:"D_E1M3",E1M4:"D_E1M4",E1M5:"D_E1M5",E1M6:"D_E1M6",E1M7:"D_E1M7",E1M8:"D_E1M8",E1M9:"D_E1M9",E2M1:"D_E2M1",E2M2:"D_E2M2",E2M3:"D_E2M3",E2M4:"D_E2M4",E2M5:"D_E2M5",E2M6:"D_E2M6",E2M7:"D_E2M7",E2M8:"D_E2M8",E2M9:"D_E2M9",E3M1:"D_E3M1",E3M2:"D_E3M2",E3M3:"D_E3M3",E3M4:"D_E3M4",E3M5:"D_E3M5",E3M6:"D_E3M6",E3M7:"D_E3M7",E3M8:"D_E3M8",E3M9:"D_E3M9",E4M1:"D_E4M1",E4M2:"D_E4M2",E4M3:"D_E4M3",E4M4:"D_E4M4",E4M5:"D_E4M5",E4M6:"D_E4M6",E4M7:"D_E4M7",E4M8:"D_E4M8",E4M9:"D_E4M9",MAP01:"D_RUNNIN",MAP02:"D_STALKS",MAP03:"D_COUNTD",MAP04:"D_BETWEE",MAP05:"D_DOOM",MAP06:"D_THE_DA",MAP07:"D_SHAWN",MAP08:"D_DDTBLU",MAP09:"D_IN_CIT",MAP10:"D_DEAD",MAP11:"D_STLKS2",MAP12:"D_THEDA2",MAP13:"D_DOOM2",MAP14:"D_DDTBL2",MAP15:"D_RUNNI2",MAP16:"D_DEAD2",MAP17:"D_STLKS3",MAP18:"D_ROMERO",MAP19:"D_SHAWN2",MAP20:"D_MESSAG",MAP21:"D_COUNT2",MAP22:"D_DDTBL3",MAP23:"D_AMPIE",MAP24:"D_THEDA3",MAP25:"D_ADRIAN",MAP26:"D_MESSG2",MAP27:"D_ROMER2",MAP28:"D_TENSE",MAP29:"D_SHAWN3",MAP30:"D_OPENIN",MAP31:"D_EVIL",MAP32:"D_ULTIMA"},Oe={"level 1: entryway":"D_RUNNIN","level 2: underhalls":"D_STALKS","level 3: the gantlet":"D_COUNTD","level 4: the focus":"D_BETWEE","level 5: the waste tunnels":"D_DOOM","level 6: the crusher":"D_THE_DA","level 7: dead simple":"D_SHAWN","level 8: tricks and traps":"D_DDTBLU","level 9: the pit":"D_IN_CIT","level 10: refueling base":"D_DEAD","level 11: 'o' of destruction!":"D_STLKS2","level 12: the factory":"D_THEDA2","level 13: downtown":"D_DOOM2","level 14: the inmost dens":"D_DDTBL2","level 15: industrial zone":"D_RUNNI2","level 16: suburbs":"D_DEAD2","level 17: tenements":"D_STLKS3","level 18: the courtyard":"D_ROMERO","level 19: the citadel":"D_SHAWN2","level 20: gotcha!":"D_MESSAG","level 21: nirvana":"D_COUNT2","level 22: the catacombs":"D_DDTBL3","level 23: barrels o' fun":"D_AMPIE","level 24: the chasm":"D_THEDA3","level 25: bloodfalls":"D_ADRIAN","level 26: the abandoned mines":"D_MESSG2","level 27: monster condo":"D_ROMER2","level 28: the spirit world":"D_TENSE","level 29: the living end":"D_SHAWN3","level 30: icon of sin":"D_OPENIN","level 31: wolfenstein":"D_EVIL","level 32: grosse":"D_ULTIMA"},Re={id:"",levelname:"",author:"",label:"",levelpic:"",next:"",nextsecret:"",skytexture:"",music:"",exitpic:"",enterpic:"",partime:0,endgame:!1,endpic:"",endbunny:!1,endcast:!1,nointermission:!1,intertext:"",intertextsecret:"",interbackdrop:"",intermusic:"",episode:"",bossaction:[]},ve={id:"",displayName:"",next:"",secretnext:"",par:0,music:"",episodenumber:0,mapnumber:0,endsequence:"",sky1:{lump:"",scrollSpeed:0},map07special:!1},Ce={lump:"",name:""},Le={id:"",text:[],flat:"",music:""},Ne={maps:[],episodes:[],endsequences:[]},Pe={maps:[]};var we;!function(e){e.UMAPINFO="UMAPINFO",e.DMAPINFO="DMAPINFO",e.ZMAPINFO="ZMAPINFO",e.UNKNOWN="UNKNOWN"}(we||(we={}));const Me=e=>{const t=new Map;if(e.type===we.UMAPINFO&&e.uMapInfo)for(const r of Object.values(e.uMapInfo))t.set(r.id,r.levelname);if(e.type===we.DMAPINFO&&e.dMapInfo)for(const r of e.dMapInfo.maps)t.set(r.id,r.displayName);if(e.type===we.ZMAPINFO&&e.zMapInfo)for(const r of e.zMapInfo.maps)t.set(r.id,r.name);return t},De=e=>{const t=new Map;if(e.type===we.UMAPINFO&&e.uMapInfo)for(const r of Object.values(e.uMapInfo))r.music&&t.set(r.music,r.id);if(e.type===we.DMAPINFO&&e.dMapInfo)for(const r of e.dMapInfo.maps)r.music&&t.set(r.music,r.id);if(e.type===we.ZMAPINFO&&e.zMapInfo)for(const r of e.zMapInfo.maps)r.music&&t.set(r.music,r.id);return t},Ue=(()=>{const e=new Array(128),t=String.fromCodePoint||String.fromCharCode,r=[];return n=>{const i=n.indexOf(0);let o,s,a=new Uint8Array;if(i>=0){a=n.slice(0,i)}else a=n;const h=a.length;r.length=0;for(let n=0;n<h;)s=a[n++],o=s<=127?s:s<=223?(31&s)<<6|63&a[n++]:s<=239?(15&s)<<12|(63&a[n++])<<6|63&a[n++]:(7&s)<<18|(63&a[n++])<<12|(63&a[n++])<<6|63&a[n++],r.push(e[o]||(e[o]=t(o)));return r.join("")}})(),Be=["␀","␁","␂","␃","␄","␅","␆","␇","␈","␉","␊","␋","␌","␍","␎","␏","␐","␑","␒","␓","␔","␕","␖","␗","␘","␙","␚","␛","␜","␝","␞","␟"," ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","\\","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","␡","Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","¢","£","¥","₧","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","⌐","¬","½","¼","¡","«","»","░","▒","▓","│","┤","╡","╢","╖","╕","╣","║","╗","╝","╜","╛","┐","└","┴","┬","├","─","┼","╞","╟","╚","╔","╩","╦","╠","═","╬","╧","╨","╤","╥","╙","╘","╒","╓","╫","╪","┘","┌","█","▄","▌","▐","▀","α","ß","Γ","π","Σ","σ","µ","τ","Φ","Θ","Ω","δ","∞","φ","ε","∩","≡","±","≥","≤","⌠","⌡","÷","≈","°","∙","·","√","ⁿ","²","■"," "];function Ge(e){const t=[],r=new Map,n=[];for(const t of e)for(const e of t)r.has(e.name)||n.push(e.name),r.set(e.name,e);for(const e of n)t.push(r.get(e));return t.filter((e=>void 0!==e))}class He extends Se{parseColormap=()=>{if(0===this.lumps.length||this.lumps[0].lumpName!==i)return{data:[]};const e=[],t=new Uint8Array(this.file.slice(this.lumps[0].lumpLocation,this.lumps[0].lumpLocation+this.lumps[0].lumpSize));for(let r=0;r<34;r++){const n=[];for(let e=0;e<256;e++){const i=256*r+e;n.push(new Uint8Array(t.buffer.slice(i,i+1))[0])}e.push(n)}return{data:e}}}var Fe;!function(e){e.THING="THING",e.FRAME="FRAME",e.WEAPON="WEAPON",e.AMMO="AMMO",e.TEXT="TEXT",e.MISC="MISC",e.BEXSTRINGS="STRINGS",e.BEXPARS="PARS",e.BEXCODEPTR="CODEPTR",e.CHEATS="CHEATS",e.SOUND="SOUND",e.BEXHELPER="HELPER",e.BEXSPRITES="SPRITES",e.BEXSOUNDS="BEXSOUNDS",e.BEXMUSIC="MUSIC"}(Fe||(Fe={}));Fe.BEXCODEPTR,Fe.BEXHELPER,Fe.BEXMUSIC,Fe.BEXPARS,Fe.BEXSOUNDS,Fe.BEXSPRITES,Fe.BEXSTRINGS;class ke{dehackedBuffer;sendEvent;file;fileName;lumps;constructor(e){this.file=e.file,this.sendEvent=e.sendEvent,this.lumps=e.lumps??[],this.dehackedBuffer=e.dehackedBuffer,this.fileName=e.fileName}getDehView=()=>{if(this.dehackedBuffer)return new Uint8Array(this.dehackedBuffer);if(!this.file||0===this.lumps.length||this.lumps[0].lumpName!==s)return null;return new Uint8Array(this.file.slice(this.lumps[0].lumpLocation,this.lumps[0].lumpLocation+this.lumps[0].lumpSize))};getDehSource=()=>this.dehackedBuffer?"Loose .deh file":`Lump ${this.lumps[0].lumpName} in ${this.fileName}`;parseDehacked=()=>{const e=this.getDehView();if(!e)return JSON.parse(JSON.stringify(pe));const t=JSON.parse(JSON.stringify(pe));for(let r=0;r<e.byteLength;r++)t.dehackedString+=String.fromCharCode(e[r]);return t.source=this.getDehSource(),t.parsed=this.parseDehString(t.dehackedString),t.thingTranslations=t.parsed.things.map((e=>{if(e.bits?.includes(ae.COUNTKILL)||e.hitPoints&&!e.bits?.includes(ae.NOBLOCKMAP))return{from:e.id,to:{name:e.name,group:x.MONSTER}};if(e.bits?.includes(ae.SOLID))return{from:e.id,to:{name:e.name,group:x.OBSTACLE}};if(e.bits?.includes(ae.SPECIAL))return{from:e.id,to:{name:e.name,group:x.ARTIFACT}};const r=t.parsed.weapons.find((t=>e.name.toLowerCase().includes(t.name.toLowerCase())));if(r)return{from:O(r.index),to:{name:e.name,group:x.WEAPON}};return t.parsed.ammo.find((t=>e.name.toLowerCase().includes(t.name.toLowerCase())))?{from:e.id,to:{name:e.name,group:x.AMMO}}:{from:e.id,to:{name:e.name,group:x.DECORATION}}})),t};parseDehString(e){const t=e.split("\n"),r={things:[],frames:[],pointers:[],sounds:[],ammo:[],weapons:[],misc:{},texts:[],pars:[],helperThing:void 0,bexStrings:[],bexSprites:[],bexSounds:[],bexMusic:[],cheats:{}};let n=null,i={},o={},s={},a={},h={},c={},l={},u={},d={},f=[],p=[],_=[],E=!1,g="",b=0,m=!1,T="",A="";const x=e=>{let t=e.match(/\(([\s\S]*)\)/)?.[1]??"UNKNOWN_NAME";return t.startsWith("_")&&(t=t.replace("_","")),t},S=()=>{if(n===Fe.THING&&void 0!==i.dehId&&(i.id||(i.id=_e[i.dehId]??null),r.things.push(i),i={}),n===Fe.FRAME&&void 0!==o.index&&(r.frames.push(o),o={}),n===Fe.WEAPON&&void 0!==s.index&&(r.weapons.push(s),s={}),n===Fe.AMMO&&void 0!==h.index&&(r.ammo.push(h),h={}),n===Fe.SOUND&&void 0!==c.index&&(r.sounds.push(c),c={}),n===Fe.MISC&&(r.misc=l,l={}),n===Fe.BEXHELPER&&(r.helperThing=d,d={}),n===Fe.CHEATS&&(r.cheats=u,u={}),n===Fe.BEXSTRINGS&&(r.bexStrings=[..._],_=[]),n===Fe.BEXSPRITES&&(r.bexSprites=[..._],_=[]),n===Fe.BEXSOUNDS&&(r.bexSounds=[..._],_=[]),n===Fe.BEXMUSIC&&(r.bexMusic=[..._],_=[]),n===Fe.BEXCODEPTR&&(r.pointers=[...p],p=[]),n===Fe.BEXPARS&&(r.pars=[...f],f=[]),n===Fe.TEXT&&a.oldLen&&a.newLen){E=!1;const e=g.substring(0,a.oldLen).trim().replaceAll("\r","\n"),t=g.substring(a.oldLen,a.oldLen+a.newLen).trim().replaceAll("\r","\n");a.from=e,a.to=t,r.texts.push(a),a={}}n=null},y=e=>e.startsWith("Thing ")||e.startsWith("Frame ")&&!e.includes("=")||e.startsWith("Weapon ")||e.startsWith("Ammo ")||e.startsWith("Sound ")||e.startsWith("Misc")||e.startsWith("Cheat")||e.startsWith("[STRINGS]")||e.startsWith("[SPRITES]")||e.startsWith("[SOUNDS]")||e.startsWith("[MUSIC]")||e.startsWith("[CODEPTR]")||e.startsWith("[PARS]")||e.startsWith("[HELPER]")||e.startsWith("Text ");for(const e of t){const t=e.trim();if(!t.startsWith("#")){if(E){if(y(t)){S();continue}g+=`${t}\n`,g.length>=b&&S()}if(m&&(A+=t.replace("\\",""),t.endsWith("\\")||(_.push({key:T,value:A}),m=!1)),y(t)&&n&&S(),t.startsWith("Thing ")){n=Fe.THING;const e=Number.parseInt(t.split(" ")[1],10);i={dehId:e,name:x(t)}}else if(t.startsWith("Frame ")&&!t.includes("=")){n=Fe.FRAME;const e=Number.parseInt(t.split(" ")[1],10);o={index:e}}else if(t.startsWith("Weapon ")){n=Fe.WEAPON;const e=Number.parseInt(t.split(" ")[1],10);s={index:e,name:x(t)}}else if(t.startsWith("Ammo ")){n=Fe.AMMO;const e=Number.parseInt(t.split(" ")[1],10);h={index:e,name:x(t)}}else if(t.startsWith("Sound ")){n=Fe.SOUND;const e=Number.parseInt(t.split(" ")[1],10);c={index:e}}else if(t.startsWith("Misc"))n=Fe.MISC,l={};else if(t.startsWith("Cheat"))n=Fe.CHEATS,u={};else if(t.startsWith("[STRINGS]"))n=Fe.BEXSTRINGS,_=[];else if(t.startsWith("[SPRITES]"))n=Fe.BEXSPRITES,_=[];else if(t.startsWith("[SOUNDS]"))n=Fe.BEXSOUNDS,_=[];else if(t.startsWith("[MUSIC]"))n=Fe.BEXMUSIC,_=[];else if(t.startsWith("[CODEPTR]"))n=Fe.BEXCODEPTR,p=[];else if(t.startsWith("[PARS]"))n=Fe.BEXPARS,f=[];else if(t.startsWith("[HELPER]"))n=Fe.BEXHELPER,d={};else if(t.startsWith("Text ")){n=Fe.TEXT;const e=Number.parseInt(t.split(" ")[1],10),r=Number.parseInt(t.split(" ")[2],10);a={oldLen:e,newLen:r},E=!0,b=e+r,g=""}else if(n){const[e,r]=this.parseKeyValue(t);switch(n){case Fe.THING:if(!e||null==r)continue;this.processThingKey(i,e,r);break;case Fe.FRAME:if(!e||null==r)continue;this.processFrameKey(o,e,r);break;case Fe.WEAPON:if(!e||null==r)continue;this.processWeaponKey(s,e,r);break;case Fe.AMMO:if(!e||null==r)continue;this.processAmmoKey(h,e,r);break;case Fe.SOUND:if(!e||null==r)continue;this.processSoundKey(c,e,r);break;case Fe.MISC:if(!e||null==r)continue;this.processMiscKey(l,e,r);break;case Fe.CHEATS:if(!e||null==r)continue;this.processCheatsKey(u,e,r);break;case Fe.BEXSTRINGS:if(!e||null==r)continue;"string"==typeof r&&r.endsWith("\\")?(m=!0,T=e,A=r.replace("\\","")):_.push({key:e,value:r});break;case Fe.BEXSPRITES:case Fe.BEXSOUNDS:case Fe.BEXMUSIC:if(!e||null==r)continue;_.push({key:e,value:r});break;case Fe.BEXCODEPTR:if(!e||null==r)continue;p.push({frameIndex:Number.parseInt(e.split(" ")[1]),codepFrame:r});break;case Fe.BEXPARS:this.processParLine(f,t);break;case Fe.BEXHELPER:if(!e||null==r||"number"!=typeof r||"type"!==e)continue;d.type=r}}}}return S(),r}parseKeyValue(e){const t=e.split("=").map((e=>e.trim()));if(t.length<2)return[null,null];const r=t[0],n=t[1],i=Number.parseInt(n,10);return[r,Number.isNaN(i)?n:i]}processThingKey(e,t,r){if("number"!=typeof r)switch(t){case"Pickup message":e.pickupMessage=r;break;case"Bits":e.bits=le(function(e){let t=0;for(const r of e){const e=Object.keys(ae).find((e=>e===r.trim().toUpperCase()));e&&(t|=ae[e])}return t}(r.split(/\+|\||\s+|,/)));break;case"Bits2":e.bits2=r;break;case"MBF21 Bits":e.mbf21Bits=ue(function(e){let t=0;for(const r of e){const e=Object.keys(he).find((e=>e===r.trim().toUpperCase()));e&&(t|=he[e])}return t}(r.split(/\+|\||\s+|,/)));break;case"Name1":e.name=r}else switch(t){case"ID #":e.id=r;break;case"Initial frame":e.initialFrame=r;break;case"Hit points":e.hitPoints=r;break;case"First moving frame":e.firstMovingFrame=r;break;case"Alert sound":e.alertSound=r;break;case"Reaction time":e.reactionTime=r;break;case"Attack sound":e.attackSound=r;break;case"Injury frame":e.injuryFrame=r;break;case"Pain chance":e.painChance=r;break;case"Pain sound":e.painSound=r;break;case"Close attack frame":e.closeAttackFrame=r;break;case"Far attack frame":e.farAttackFrame=r;break;case"Exploding frame":e.explodingFrame=r;break;case"Death frame":e.deathFrame=r;break;case"Death sound":e.deathSound=r;break;case"Speed":e.speed=r;break;case"Width":e.width=r;break;case"Height":e.height=r;break;case"Mass":e.mass=r;break;case"Missile damage":e.missileDamage=r;break;case"Action sound":e.actionSound=r;break;case"Bits":e.bits=le(r);break;case"Bits2":e.bits2=r;break;case"Respawn frame":e.respawnFrame=r;break;case"Dropped item":e.droppedItem=r;break;case"Infighting group":e.infightingGroup=r;break;case"Projectile group":e.projectileGroup=r;break;case"Splash group":e.splashGroup=r;break;case"MBF21 Bits":e.mbf21Bits=ue(r);break;case"Rip sound":e.ripSound=r;break;case"Fast speed":e.fastSpeed=r;break;case"Melee range":e.meleeRange=r;break;case"Blood colod":e.bloodColor=r}}processFrameKey(e,t,r){if("number"==typeof r)switch(t){case"Sprite number":e.spriteNumber=r;break;case"Sprite subnumber":e.spriteSubnumber=r;break;case"Duration":e.duration=r;break;case"Next frame":e.nextFrame=r;break;case"Codep Frame":e.codepFrame=r;break;case"Unknown 1":e.unknown1=r;break;case"Unknown 2":e.unknown2=r;break;case"Args1":e.args1=r;break;case"Args2":e.args2=r;break;case"Args3":e.args3=r;break;case"Args4":e.args4=r;break;case"Args5":e.args5=r;break;case"Args6":e.args6=r;break;case"Args7":e.args7=r;break;case"Args8":e.args8=r;break;case"MBF21 Bits":e.mbf21Bits=r}}processWeaponKey(e,t,r){if("number"!=typeof r){if("MBF21 Bits"===t)e.mbf21Bits=de(function(e){let t=0;for(const r of e){const e=Object.keys(ce).find((e=>e===r.trim().toUpperCase()));e&&(t|=ce[e])}return t}(r.split(/\+|\||\s+|,/)))}else switch(t){case"Ammo type":e.ammoType=r;break;case"Deselect frame":e.deselectFrame=r;break;case"Select frame":e.selectFrame=r;break;case"Bobbing frame":e.bobbingFrame=r;break;case"Shooting frame":e.shootingFrame=r;break;case"Firing frame":e.firingFrame=r;break;case"Ammo per shot":e.ammoPerShot=r;break;case"MBF21 Bits":e.mbf21Bits=de(r)}}processAmmoKey(e,t,r){if("number"==typeof r)switch(t){case"Max ammo":e.maxAmmo=r;break;case"Per ammo":e.perAmmo=r}}processMiscKey(e,t,r){if("number"==typeof r)switch(t){case"Initial Health":e.initialHealth=r;break;case"Initial Bullets":e.initialBullets=r;break;case"Max Health":e.maxHealth=r;break;case"Max Armor":e.maxArmor=r;break;case"Green Armor Class":e.greenArmorClass=r;break;case"Blue Armor Class":e.blueArmorClass=r;break;case"Max Soulsphere":e.maxSoulsphere=r;break;case"Soulsphere Health":e.soulsphereHealth=r;break;case"Megasphere Health":e.megasphereHealth=r;break;case"God Mode Health":e.godModeHealth=r;break;case"IDFA Armor":e.idfaArmor=r;break;case"IDFA Armor Class":e.idfaArmorClass=r;break;case"IDKFA Armor":e.idkfaArmor=r;break;case"IDKFA Armor Class":e.idkfaArmorClass=r;break;case"BFG Cells/Shot":e.bfgCellsPerShot=r;break;case"Monsters Infight":e.monstersInfight=r}}processCheatsKey(e,t,r){if("string"==typeof r)switch(t){case"Change music":e.changeMusic=r;break;case"Chainsaw":e.chainsaw=r;break;case"God mode":e.godMode=r;break;case"Ammo & Keys":e.ammoAndKeys=r;break;case"Ammo":e.ammo=r;break;case"No Clipping 1":e.noclip1=r;break;case"No Clipping 2":e.noclip2=r;break;case"Invincibility":e.invincibility=r;break;case"Berserk":e.berserk=r;break;case"Invisibility":e.invisibility=r;break;case"Radiation Suit":e.radiationSuit=r;break;case"Auto-map":e.autoMap=r;break;case"Lite-amp Goggles":e.lightGoggles=r;break;case"BEHOLD menu":e.behold=r;break;case"Level Warp":e.levelWarp=r;break;case"Player Position":e.playerPos=r;break;case"Map cheat":e.mapCheat=r}}processSoundKey(e,t,r){if("number"==typeof r)switch(t){case"Offset":e.offset=r;break;case"Zero/One":e.zeroOne=r;break;case"Zero 1":e.zero1=r;break;case"Zero 2":e.zero2=r;break;case"Zero 3":e.zero3=r;break;case"Zero 4":e.zero4=r;break;case"Neg. One 1":e.negOne1=r;break;case"Neg. One 2":e.negOne2=r}}processParLine(e,t){const r=t.split("//")[0].trim().split(/\s+/);r.length<2||"par"!==r[0]||(4===r.length&&e.push({episode:Number.parseInt(r[1],10),map:Number.parseInt(r[2],10),time:Number.parseInt(r[3],10)}),3===r.length&&e.push({episode:void 0,map:Number.parseInt(r[1],10),time:Number.parseInt(r[2],10)}))}}r(251);function Ye(e){return new DataView(e.buffer,e.byteOffset)}const We={len:1,get:(e,t)=>Ye(e).getUint8(t),put:(e,t,r)=>(Ye(e).setUint8(t,r),t+1)},Xe={len:2,get:(e,t)=>Ye(e).getUint16(t,!0),put:(e,t,r)=>(Ye(e).setUint16(t,r,!0),t+2)},Ve={len:2,get:(e,t)=>Ye(e).getUint16(t),put:(e,t,r)=>(Ye(e).setUint16(t,r),t+2)},Ke={len:4,get:(e,t)=>Ye(e).getUint32(t,!0),put:(e,t,r)=>(Ye(e).setUint32(t,r,!0),t+4)},je={len:4,get:(e,t)=>Ye(e).getUint32(t),put:(e,t,r)=>(Ye(e).setUint32(t,r),t+4)},ze={len:4,get:(e,t)=>Ye(e).getInt32(t),put:(e,t,r)=>(Ye(e).setInt32(t,r),t+4)},Ze={len:8,get:(e,t)=>Ye(e).getBigUint64(t,!0),put:(e,t,r)=>(Ye(e).setBigUint64(t,r,!0),t+8)};class $e{constructor(e,t){this.len=e,this.encoding=t,this.textDecoder=new TextDecoder(t)}get(e,t){return this.textDecoder.decode(e.subarray(t,t+this.len))}}class qe extends Error{constructor(){super("End-Of-Stream"),this.name="EndOfStreamError"}}class Qe extends Error{constructor(e="The operation was aborted"){super(e),this.name="AbortError"}}class Je{constructor(){this.endOfStream=!1,this.interrupted=!1,this.peekQueue=[]}async peek(e,t=!1){const r=await this.read(e,t);return this.peekQueue.push(e.subarray(0,r)),r}async read(e,t=!1){if(0===e.length)return 0;let r=this.readFromPeekBuffer(e);if(this.endOfStream||(r+=await this.readRemainderFromStream(e.subarray(r),t)),0===r&&!t)throw new qe;return r}readFromPeekBuffer(e){let t=e.length,r=0;for(;this.peekQueue.length>0&&t>0;){const n=this.peekQueue.pop();if(!n)throw new Error("peekData should be defined");const i=Math.min(n.length,t);e.set(n.subarray(0,i),r),r+=i,t-=i,i<n.length&&this.peekQueue.push(n.subarray(i))}return r}async readRemainderFromStream(e,t){let r=0;for(;r<e.length&&!this.endOfStream;){if(this.interrupted)throw new Qe;const n=await this.readFromStream(e.subarray(r),t);if(0===n)break;r+=n}if(!t&&r<e.length)throw new qe;return r}}class et extends Je{constructor(e){super(),this.reader=e}async abort(){return this.close()}async close(){this.reader.releaseLock()}}class tt extends et{async readFromStream(e,t){if(0===e.length)return 0;const r=await this.reader.read(new Uint8Array(e.length),{min:t?void 0:e.length});return r.done&&(this.endOfStream=r.done),r.value?(e.set(r.value),r.value.length):0}}class rt extends Je{constructor(e){super(),this.reader=e,this.buffer=null}writeChunk(e,t){const r=Math.min(t.length,e.length);return e.set(t.subarray(0,r)),r<t.length?this.buffer=t.subarray(r):this.buffer=null,r}async readFromStream(e,t){if(0===e.length)return 0;let r=0;for(this.buffer&&(r+=this.writeChunk(e,this.buffer));r<e.length&&!this.endOfStream;){const t=await this.reader.read();if(t.done){this.endOfStream=!0;break}t.value&&(r+=this.writeChunk(e.subarray(r),t.value))}if(!t&&0===r&&this.endOfStream)throw new qe;return r}abort(){return this.interrupted=!0,this.reader.cancel()}async close(){await this.abort(),this.reader.releaseLock()}}class nt{constructor(e){this.numBuffer=new Uint8Array(8),this.position=0,this.onClose=e?.onClose,e?.abortSignal&&e.abortSignal.addEventListener("abort",(()=>{this.abort()}))}async readToken(e,t=this.position){const r=new Uint8Array(e.len);if(await this.readBuffer(r,{position:t})<e.len)throw new qe;return e.get(r,0)}async peekToken(e,t=this.position){const r=new Uint8Array(e.len);if(await this.peekBuffer(r,{position:t})<e.len)throw new qe;return e.get(r,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new qe;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new qe;return e.get(this.numBuffer,0)}async ignore(e){if(void 0!==this.fileInfo.size){const t=this.fileInfo.size-this.position;if(e>t)return this.position+=t,t}return this.position+=e,e}async close(){await this.abort(),await(this.onClose?.())}normalizeOptions(e,t){if(!this.supportsRandomAccess()&&t&&void 0!==t.position&&t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return{mayBeLess:!1,offset:0,length:e.length,position:this.position,...t}}abort(){return Promise.resolve()}}class it extends nt{constructor(e,t){super(t),this.streamReader=e,this.fileInfo=t?.fileInfo??{}}async readBuffer(e,t){const r=this.normalizeOptions(e,t),n=r.position-this.position;if(n>0)return await this.ignore(n),this.readBuffer(e,t);if(n<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===r.length)return 0;const i=await this.streamReader.read(e.subarray(0,r.length),r.mayBeLess);if(this.position+=i,(!t||!t.mayBeLess)&&i<r.length)throw new qe;return i}async peekBuffer(e,t){const r=this.normalizeOptions(e,t);let n=0;if(r.position){const t=r.position-this.position;if(t>0){const i=new Uint8Array(r.length+t);return n=await this.peekBuffer(i,{mayBeLess:r.mayBeLess}),e.set(i.subarray(t)),n-t}if(t<0)throw new Error("Cannot peek from a negative offset in a stream")}if(r.length>0){try{n=await this.streamReader.peek(e.subarray(0,r.length),r.mayBeLess)}catch(e){if(t?.mayBeLess&&e instanceof qe)return 0;throw e}if(!r.mayBeLess&&n<r.length)throw new qe}return n}async ignore(e){const t=Math.min(256e3,e),r=new Uint8Array(t);let n=0;for(;n<e;){const i=e-n,o=await this.readBuffer(r,{length:Math.min(t,i)});if(o<0)return o;n+=o}return n}abort(){return this.streamReader.abort()}async close(){return this.streamReader.close()}supportsRandomAccess(){return!1}}class ot extends nt{constructor(e,t){super(t),this.uint8Array=e,this.fileInfo={...t?.fileInfo??{},size:e.length}}async readBuffer(e,t){t?.position&&(this.position=t.position);const r=await this.peekBuffer(e,t);return this.position+=r,r}async peekBuffer(e,t){const r=this.normalizeOptions(e,t),n=Math.min(this.uint8Array.length-r.position,r.length);if(!r.mayBeLess&&n<r.length)throw new qe;return e.set(this.uint8Array.subarray(r.position,r.position+n)),n}close(){return super.close()}supportsRandomAccess(){return!0}setPosition(e){this.position=e}}function st(e,t){const r=function(e){try{const t=e.getReader({mode:"byob"});return t instanceof ReadableStreamDefaultReader?new rt(t):new tt(t)}catch(t){if(t instanceof TypeError)return new rt(e.getReader());throw t}}(e),n=t??{},i=n.onClose;return n.onClose=async()=>{if(await r.close(),i)return i()},new it(r,n)}var at=Uint8Array,ht=Uint16Array,ct=Int32Array,lt=new at([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ut=new at([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),dt=new at([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ft=function(e,t){for(var r=new ht(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new ct(r[30]);for(n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)i[o]=o-r[n]<<5|n;return{b:r,r:i}},pt=ft(lt,2),_t=pt.b,Et=pt.r;_t[28]=258,Et[258]=28;for(var gt=ft(ut,0),bt=gt.b,mt=(gt.r,new ht(32768)),Tt=0;Tt<32768;++Tt){var At=(43690&Tt)>>1|(21845&Tt)<<1;At=(61680&(At=(52428&At)>>2|(13107&At)<<2))>>4|(3855&At)<<4,mt[Tt]=((65280&At)>>8|(255&At)<<8)>>1}var xt=function(e,t,r){for(var n=e.length,i=0,o=new ht(t);i<n;++i)e[i]&&++o[e[i]-1];var s,a=new ht(t);for(i=1;i<t;++i)a[i]=a[i-1]+o[i-1]<<1;if(r){s=new ht(1<<t);var h=15-t;for(i=0;i<n;++i)if(e[i])for(var c=i<<4|e[i],l=t-e[i],u=a[e[i]-1]++<<l,d=u|(1<<l)-1;u<=d;++u)s[mt[u]>>h]=c}else for(s=new ht(n),i=0;i<n;++i)e[i]&&(s[i]=mt[a[e[i]-1]++]>>15-e[i]);return s},St=new at(288);for(Tt=0;Tt<144;++Tt)St[Tt]=8;for(Tt=144;Tt<256;++Tt)St[Tt]=9;for(Tt=256;Tt<280;++Tt)St[Tt]=7;for(Tt=280;Tt<288;++Tt)St[Tt]=8;var yt=new at(32);for(Tt=0;Tt<32;++Tt)yt[Tt]=5;var It=xt(St,9,1),Ot=xt(yt,5,1),Rt=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},vt=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(7&t)&r},Ct=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},Lt=function(e){return(e+7)/8|0},Nt=function(e,t,r){return(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length),new at(e.subarray(t,r))},Pt=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],wt=function(e,t,r){var n=new Error(t||Pt[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,wt),!r)throw n;return n},Mt=function(e,t,r,n){var i=e.length,o=n?n.length:0;if(!i||t.f&&!t.l)return r||new at(0);var s=!r,a=s||2!=t.i,h=t.i;s&&(r=new at(3*i));var c=function(e){var t=r.length;if(e>t){var n=new at(Math.max(2*t,e));n.set(r),r=n}},l=t.f||0,u=t.p||0,d=t.b||0,f=t.l,p=t.d,_=t.m,E=t.n,g=8*i;do{if(!f){l=vt(e,u,1);var b=vt(e,u+1,3);if(u+=3,!b){var m=e[(L=Lt(u)+4)-4]|e[L-3]<<8,T=L+m;if(T>i){h&&wt(0);break}a&&c(d+m),r.set(e.subarray(L,T),d),t.b=d+=m,t.p=u=8*T,t.f=l;continue}if(1==b)f=It,p=Ot,_=9,E=5;else if(2==b){var A=vt(e,u,31)+257,x=vt(e,u+10,15)+4,S=A+vt(e,u+5,31)+1;u+=14;for(var y=new at(S),I=new at(19),O=0;O<x;++O)I[dt[O]]=vt(e,u+3*O,7);u+=3*x;var R=Rt(I),v=(1<<R)-1,C=xt(I,R,1);for(O=0;O<S;){var L,N=C[vt(e,u,v)];if(u+=15&N,(L=N>>4)<16)y[O++]=L;else{var P=0,w=0;for(16==L?(w=3+vt(e,u,3),u+=2,P=y[O-1]):17==L?(w=3+vt(e,u,7),u+=3):18==L&&(w=11+vt(e,u,127),u+=7);w--;)y[O++]=P}}var M=y.subarray(0,A),D=y.subarray(A);_=Rt(M),E=Rt(D),f=xt(M,_,1),p=xt(D,E,1)}else wt(1);if(u>g){h&&wt(0);break}}a&&c(d+131072);for(var U=(1<<_)-1,B=(1<<E)-1,G=u;;G=u){var H=(P=f[Ct(e,u)&U])>>4;if((u+=15&P)>g){h&&wt(0);break}if(P||wt(2),H<256)r[d++]=H;else{if(256==H){G=u,f=null;break}var F=H-254;if(H>264){var k=lt[O=H-257];F=vt(e,u,(1<<k)-1)+_t[O],u+=k}var Y=p[Ct(e,u)&B],W=Y>>4;Y||wt(3),u+=15&Y;D=bt[W];if(W>3){k=ut[W];D+=Ct(e,u)&(1<<k)-1,u+=k}if(u>g){h&&wt(0);break}a&&c(d+131072);var X=d+F;if(d<D){var V=o-D,K=Math.min(D,X);for(V+d<0&&wt(3);d<K;++d)r[d]=n[V+d]}for(;d<X;++d)r[d]=r[d-D]}}t.l=f,t.p=G,t.b=d,t.f=l,f&&(l=1,t.m=_,t.d=p,t.n=E)}while(!l);return d!=r.length&&s?Nt(r,0,d):r.subarray(0,d)},Dt=new at(0),Ut=function(e){31==e[0]&&139==e[1]&&8==e[2]||wt(6,"invalid gzip data");var t=e[3],r=10;4&t&&(r+=2+(e[10]|e[11]<<8));for(var n=(t>>3&1)+(t>>4&1);n>0;n-=!e[r++]);return r+(2&t)},Bt=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},Gt=function(e,t){return(8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31)&&wt(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&wt(6,"invalid zlib data: "+(32&e[1]?"need":"unexpected")+" dictionary"),2+(e[1]>>3&4)};function Ht(e,t){return Mt(e,{i:2},t&&t.out,t&&t.dictionary)}function Ft(e,t){var r=Ut(e);return r+8>e.length&&wt(6,"invalid gzip data"),Mt(e.subarray(r,-8),{i:2},t&&t.out||new at(Bt(e)),t&&t.dictionary)}function kt(e,t){return Mt(e.subarray(Gt(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var Yt="undefined"!=typeof TextDecoder&&new TextDecoder;try{Yt.decode(Dt,{stream:!0})}catch(e){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var Wt=r(7833);const Xt=67324752,Vt=134695760,Kt=33639248,jt=101010256,zt={get(e){Xe.get(e,6);return{signature:Ke.get(e,0),compressedSize:Ke.get(e,8),uncompressedSize:Ke.get(e,12)}},len:16},Zt={get(e){const t=Xe.get(e,6);return{signature:Ke.get(e,0),minVersion:Xe.get(e,4),dataDescriptor:!!(8&t),compressedMethod:Xe.get(e,8),compressedSize:Ke.get(e,18),uncompressedSize:Ke.get(e,22),filenameLength:Xe.get(e,26),extraFieldLength:Xe.get(e,28),filename:null}},len:30},$t={get:e=>({signature:Ke.get(e,0),nrOfThisDisk:Xe.get(e,4),nrOfThisDiskWithTheStart:Xe.get(e,6),nrOfEntriesOnThisDisk:Xe.get(e,8),nrOfEntriesOfSize:Xe.get(e,10),sizeOfCd:Ke.get(e,12),offsetOfStartOfCd:Ke.get(e,16),zipFileCommentLength:Xe.get(e,20)}),len:22},qt={get(e){const t=Xe.get(e,8);return{signature:Ke.get(e,0),minVersion:Xe.get(e,6),dataDescriptor:!!(8&t),compressedMethod:Xe.get(e,10),compressedSize:Ke.get(e,20),uncompressedSize:Ke.get(e,24),filenameLength:Xe.get(e,28),extraFieldLength:Xe.get(e,30),fileCommentLength:Xe.get(e,32),relativeOffsetOfLocalHeader:Ke.get(e,42),filename:null}},len:46};function Qt(e){const t=new Uint8Array(Ke.len);return Ke.put(t,0,e),t}const Jt=Wt("tokenizer:inflate"),er=262144,tr=Qt(Vt),rr=Qt(jt);class nr{constructor(e){this.tokenizer=e,this.syncBuffer=new Uint8Array(er)}async isZip(){return await this.peekSignature()===Xt}peekSignature(){return this.tokenizer.peekToken(Ke)}async findEndOfCentralDirectoryLocator(){const e=this.tokenizer,t=Math.min(16384,e.fileInfo.size),r=this.syncBuffer.subarray(0,t);await this.tokenizer.readBuffer(r,{position:e.fileInfo.size-t});for(let n=r.length-4;n>=0;n--)if(r[n]===rr[0]&&r[n+1]===rr[1]&&r[n+2]===rr[2]&&r[n+3]===rr[3])return e.fileInfo.size-t+n;return-1}async readCentralDirectory(){if(!this.tokenizer.supportsRandomAccess())return void Jt("Cannot reading central-directory without random-read support");Jt("Reading central-directory...");const e=this.tokenizer.position,t=await this.findEndOfCentralDirectoryLocator();if(t>0){Jt("Central-directory 32-bit signature found");const r=await this.tokenizer.readToken($t,t),n=[];this.tokenizer.setPosition(r.offsetOfStartOfCd);for(let e=0;e<r.nrOfEntriesOfSize;++e){const t=await this.tokenizer.readToken(qt);if(t.signature!==Kt)throw new Error("Expected Central-File-Header signature");t.filename=await this.tokenizer.readToken(new $e(t.filenameLength,"utf-8")),await this.tokenizer.ignore(t.extraFieldLength),await this.tokenizer.ignore(t.fileCommentLength),n.push(t),Jt(`Add central-directory file-entry: n=${e+1}/${n.length}: filename=${n[e].filename}`)}return this.tokenizer.setPosition(e),n}this.tokenizer.setPosition(e)}async unzip(e){const t=await this.readCentralDirectory();if(t)return this.iterateOverCentralDirectory(t,e);let r=!1;do{const t=await this.readLocalFileHeader();if(!t)break;const n=e(t);let i;if(r=!!n.stop,await this.tokenizer.ignore(t.extraFieldLength),t.dataDescriptor&&0===t.compressedSize){const e=[];let r=er;Jt("Compressed-file-size unknown, scanning for next data-descriptor-signature....");let i=-1;for(;i<0&&r===er;){r=await this.tokenizer.peekBuffer(this.syncBuffer,{mayBeLess:!0}),i=ir(this.syncBuffer.subarray(0,r),tr);const t=i>=0?i:r;if(n.handler){const r=new Uint8Array(t);await this.tokenizer.readBuffer(r),e.push(r)}else await this.tokenizer.ignore(t)}Jt(`Found data-descriptor-signature at pos=${this.tokenizer.position}`),n.handler&&await this.inflate(t,or(e),n.handler)}else n.handler?(Jt(`Reading compressed-file-data: ${t.compressedSize} bytes`),i=new Uint8Array(t.compressedSize),await this.tokenizer.readBuffer(i),await this.inflate(t,i,n.handler)):(Jt(`Ignoring compressed-file-data: ${t.compressedSize} bytes`),await this.tokenizer.ignore(t.compressedSize));if(Jt(`Reading data-descriptor at pos=${this.tokenizer.position}`),t.dataDescriptor){if(134695760!==(await this.tokenizer.readToken(zt)).signature)throw new Error("Expected data-descriptor-signature at position "+(this.tokenizer.position-zt.len))}}while(!r)}async iterateOverCentralDirectory(e,t){for(const r of e){const e=t(r);if(e.handler){this.tokenizer.setPosition(r.relativeOffsetOfLocalHeader);const t=await this.readLocalFileHeader();if(t){await this.tokenizer.ignore(t.extraFieldLength);const n=new Uint8Array(r.compressedSize);await this.tokenizer.readBuffer(n),await this.inflate(t,n,e.handler)}}if(e.stop)break}}inflate(e,t,r){if(0===e.compressedMethod)return r(t);Jt(`Decompress filename=${e.filename}, compressed-size=${t.length}`);var n,i;return r(31==(n=t)[0]&&139==n[1]&&8==n[2]?Ft(n,i):8!=(15&n[0])||n[0]>>4>7||(n[0]<<8|n[1])%31?Ht(n,i):kt(n,i))}async readLocalFileHeader(){const e=await this.tokenizer.peekToken(Ke);if(e===Xt){const e=await this.tokenizer.readToken(Zt);return e.filename=await this.tokenizer.readToken(new $e(e.filenameLength,"utf-8")),e}if(e===Kt)return!1;if(3759263696===e)throw new Error("Encrypted ZIP");throw new Error("Unexpected signature")}}function ir(e,t){const r=e.length,n=t.length;if(n>r)return-1;for(let i=0;i<=r-n;i++){let r=!0;for(let o=0;o<n;o++)if(e[i+o]!==t[o]){r=!1;break}if(r)return i}return-1}function or(e){const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r}Object.prototype.toString;new globalThis.TextDecoder("utf8");new globalThis.TextEncoder;Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function sr(e){const{byteLength:t}=e;return 6===t?e.getUint16(0)*2**32+e.getUint32(2):5===t?e.getUint8(0)*2**32+e.getUint32(1):4===t?e.getUint32(0):3===t?65536*e.getUint8(0)+e.getUint16(1):2===t?e.getUint16(0):1===t?e.getUint8(0):void 0}const ar={get:(e,t)=>127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4},hr=4100;async function cr(e,t){return new dr(t).fromBuffer(e)}function lr(e){switch(e=e.toLowerCase()){case"application/epub+zip":return{ext:"epub",mime:e};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:e};case"application/vnd.oasis.opendocument.text-template":return{ext:"ott",mime:e};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:e};case"application/vnd.oasis.opendocument.spreadsheet-template":return{ext:"ots",mime:e};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:e};case"application/vnd.oasis.opendocument.presentation-template":return{ext:"otp",mime:e};case"application/vnd.oasis.opendocument.graphics":return{ext:"odg",mime:e};case"application/vnd.oasis.opendocument.graphics-template":return{ext:"otg",mime:e};case"application/vnd.openxmlformats-officedocument.presentationml.slideshow":return{ext:"ppsx",mime:e};case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return{ext:"xlsx",mime:e};case"application/vnd.ms-excel.sheet.macroenabled":return{ext:"xlsm",mime:"application/vnd.ms-excel.sheet.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.spreadsheetml.template":return{ext:"xltx",mime:e};case"application/vnd.ms-excel.template.macroenabled":return{ext:"xltm",mime:"application/vnd.ms-excel.template.macroenabled.12"};case"application/vnd.ms-powerpoint.slideshow.macroenabled":return{ext:"ppsm",mime:"application/vnd.ms-powerpoint.slideshow.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return{ext:"docx",mime:e};case"application/vnd.ms-word.document.macroenabled":return{ext:"docm",mime:"application/vnd.ms-word.document.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.wordprocessingml.template":return{ext:"dotx",mime:e};case"application/vnd.ms-word.template.macroenabledtemplate":return{ext:"dotm",mime:"application/vnd.ms-word.template.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.template":return{ext:"potx",mime:e};case"application/vnd.ms-powerpoint.template.macroenabled":return{ext:"potm",mime:"application/vnd.ms-powerpoint.template.macroenabled.12"};case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return{ext:"pptx",mime:e};case"application/vnd.ms-powerpoint.presentation.macroenabled":return{ext:"pptm",mime:"application/vnd.ms-powerpoint.presentation.macroenabled.12"};case"application/vnd.ms-visio.drawing":return{ext:"vsdx",mime:"application/vnd.visio"};case"application/vnd.ms-package.3dmanufacturing-3dmodel+xml":return{ext:"3mf",mime:"model/3mf"}}}function ur(e,t,r){r={offset:0,...r};for(const[n,i]of t.entries())if(r.mask){if(i!==(r.mask[n]&e[n+r.offset]))return!1}else if(i!==e[n+r.offset])return!1;return!0}class dr{constructor(e){this.options={mpegOffsetTolerance:0,...e},this.detectors=[...e?.customDetectors??[],{id:"core",detect:this.detectConfident},{id:"core.imprecise",detect:this.detectImprecise}],this.tokenizerOptions={abortSignal:e?.signal}}async fromTokenizer(e){const t=e.position;for(const r of this.detectors){const n=await r.detect(e);if(n)return n;if(t!==e.position)return}}async fromBuffer(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof e}\``);const t=e instanceof Uint8Array?e:new Uint8Array(e);if(t?.length>1)return this.fromTokenizer(function(e,t){return new ot(e,t)}(t,this.tokenizerOptions))}async fromBlob(e){return this.fromStream(e.stream())}async fromStream(e){const t=await st(e,this.tokenizerOptions);try{return await this.fromTokenizer(t)}finally{await t.close()}}async toDetectionStream(e,t){const{sampleSize:r=hr}=t;let n,i;const o=e.getReader({mode:"byob"});try{const{value:e,done:t}=await o.read(new Uint8Array(r));if(i=e,!t&&e)try{n=await this.fromBuffer(e.subarray(0,r))}catch(e){if(!(e instanceof qe))throw e;n=void 0}i=e}finally{o.releaseLock()}const s=new TransformStream({async start(e){e.enqueue(i)},transform(e,t){t.enqueue(e)}}),a=e.pipeThrough(s);return a.fileType=n,a}check(e,t){return ur(this.buffer,e,t)}checkString(e,t){return this.check((r=e,[...r].map((e=>e.charCodeAt(0)))),t);var r}detectConfident=async e=>{if(this.buffer=new Uint8Array(hr),void 0===e.fileInfo.size&&(e.fileInfo.size=Number.MAX_SAFE_INTEGER),this.tokenizer=e,await e.peekBuffer(this.buffer,{length:12,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33]))return await e.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([199,113]))return{ext:"cpio",mime:"application/x-cpio"};if(this.check([96,234]))return{ext:"arj",mime:"application/x-arj"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.detectConfident(e);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await e.ignore(6);const t=await e.readToken(ar);return e.position+t>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await e.ignore(t),this.fromTokenizer(e))}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===this.buffer[0]||70===this.buffer[0])&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255]))return this.check([247],{offset:3})?{ext:"jls",mime:"image/jls"}:{ext:"jpg",mime:"image/jpeg"};if(this.check([79,98,106,1]))return{ext:"avro",mime:"application/avro"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){let r;return await new nr(e).unzip((e=>{switch(e.filename){case"META-INF/mozilla.rsa":return r={ext:"xpi",mime:"application/x-xpinstall"},{stop:!0};case"META-INF/MANIFEST.MF":return r={ext:"jar",mime:"application/java-archive"},{stop:!0};case"mimetype":return{async handler(e){const t=new TextDecoder("utf-8").decode(e).trim();r=lr(t)},stop:!0};case"[Content_Types].xml":return{async handler(e){let t=new TextDecoder("utf-8").decode(e);const n=t.indexOf('.main+xml"');if(-1===n){const e="application/vnd.ms-package.3dmanufacturing-3dmodel+xml";t.includes(`ContentType="${e}"`)&&(r=lr(e))}else{t=t.slice(0,Math.max(0,n));const e=t.lastIndexOf('"'),i=t.slice(Math.max(0,e+1));r=lr(i)}},stop:!0};default:return/classes\d*\.dex/.test(e.filename)?(r={ext:"apk",mime:"application/vnd.android.package-archive"},{stop:!0}):{}}})),r??{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await e.ignore(28);const n=new Uint8Array(8);return await e.readBuffer(n),ur(n,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/ogg; codecs=opus"}:ur(n,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:ur(n,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:ur(n,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:ur(n,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:ur(n,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(3===this.buffer[2]||5===this.buffer[2]||7===this.buffer[2])&&(4===this.buffer[3]||6===this.buffer[3]||8===this.buffer[3]))return{ext:"zip",mime:"application/zip"};if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF"))return{ext:"pdf",mime:"application/pdf"};if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){const i=await this.readTiffHeader(!1);if(i)return i}if(this.check([77,77])){const o=await this.readTiffHeader(!0);if(o)return o}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function s(){const t=await e.peekNumber(We);let r=128,n=0;for(;0===(t&r)&&0!==r;)++n,r>>=1;const i=new Uint8Array(n+1);return await e.readBuffer(i),i}async function a(){const e=await s(),t=await s();t[0]^=128>>t.length-1;const r=Math.min(6,t.length),n=new DataView(e.buffer),i=new DataView(t.buffer,t.length-r,r);return{id:sr(n),len:sr(i)}}async function h(t){for(;t>0;){const r=await a();if(17026===r.id){return(await e.readToken(new $e(r.len))).replaceAll(/\00.*$/g,"")}await e.ignore(r.len),--t}}const c=await a();switch(await h(c.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/matroska"};default:return}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1")||this.checkString("PARE"))return{ext:"parquet",mime:"application/vnd.apache.parquet"};if(this.checkString("ttcf"))return{ext:"ttc",mime:"font/collection"};if(this.check([207,250,237,254]))return{ext:"macho",mime:"application/x-mach-binary"};if(this.check([4,34,77,24]))return{ext:"lz4",mime:"application/x-lz4"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([202,254,186,190]))return{ext:"class",mime:"application/java-vm"};if(this.checkString(".RMF"))return{ext:"rm",mime:"application/vnd.rn-realmedia"};if(this.checkString("DRACO"))return{ext:"drc",mime:"application/vnd.google.draco"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(0===this.buffer[6]||1===this.buffer[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){const l=new $e(4,"latin1").get(this.buffer,2);if(l.match("^d*")&&l>=1e3&&l<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("070707"))return{ext:"cpio",mime:"application/x-cpio"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>")){await e.ignore(8);return"debian-binary"===await e.readToken(new $e(13,"ascii"))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"}}if(this.checkString("WEBVTT")&&["\n","\r","\t"," ","\0"].some((e=>this.checkString(e,{offset:6}))))return{ext:"vtt",mime:"text/vtt"};if(this.check([137,80,78,71,13,10,26,10])){async function u(){return{length:await e.readToken(ze),type:await e.readToken(new $e(4,"latin1"))}}await e.ignore(8);do{const d=await u();if(d.length<0)return;switch(d.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await e.ignore(d.length+4)}}while(e.position+8<e.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/vnd.apache.arrow.file"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.checkString("ftyp",{offset:4})&&96&this.buffer[8]){const f=new $e(4,"latin1").get(this.buffer,8).replace("\0"," ").trim();switch(f){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return f.startsWith("3g")?f.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(this.check([82,73,70,70])){if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/wav"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function p(){const t=new Uint8Array(16);return await e.readBuffer(t),{id:t,size:Number(await e.readToken(Ze))}}for(await e.ignore(30);e.position+24<e.fileInfo.size;){const _=await p();let E=_.size-24;if(ur(_.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const g=new Uint8Array(16);if(E-=await e.readBuffer(g),ur(g,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(ur(g,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await e.ignore(E)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([255,79,255,81]))return{ext:"j2c",mime:"image/j2c"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10])){await e.ignore(20);switch(await e.readToken(new $e(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255]))return this.check([0,60,0,63,0,120,0,109,0,108],{offset:2})?{ext:"xml",mime:"application/xml"}:void 0;if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await e.peekBuffer(this.buffer,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),this.check([97,99,115,112],{offset:36}))return{ext:"icc",mime:"application/vnd.iccprofile"};if(this.checkString("**ACE",{offset:7})&&this.checkString("**",{offset:12}))return{ext:"ace",mime:"application/x-ace-compressed"};if(this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){const b=new DataView(this.buffer.buffer).getUint32(12,!0);if(b>12&&this.buffer.length>=b+16)try{const m=(new TextDecoder).decode(this.buffer.subarray(16,b+16));if(JSON.parse(m).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}return this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2])?{ext:"mxf",mime:"application/mxf"}:this.checkString("SCRM",{offset:44})?{ext:"s3m",mime:"audio/x-s3m"}:this.check([71])&&this.check([71],{offset:188})||this.check([71],{offset:4})&&this.check([71],{offset:196})?{ext:"mts",mime:"video/mp2t"}:this.check([66,79,79,75,77,79,66,73],{offset:60})?{ext:"mobi",mime:"application/x-mobipocket-ebook"}:this.check([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70])?{ext:"lnk",mime:"application/x.ms.shortcut"}:this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0])?{ext:"alias",mime:"application/x.apple.alias"}:this.checkString("Kaydara FBX Binary  \0")?{ext:"fbx",mime:"application/x.autodesk.fbx"}:this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8}))?{ext:"eot",mime:"application/vnd.ms-fontobject"}:this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29])?{ext:"indd",mime:"application/x-indesign"}:(await e.peekBuffer(this.buffer,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),this.checkString("ustar",{offset:257})&&(this.checkString("\0",{offset:262})||this.checkString(" ",{offset:262}))||this.check([0,0,0,0,0,0],{offset:257})&&function(e,t=0){const r=Number.parseInt(new $e(6).get(e,148).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(r))return!1;let n=256;for(let r=t;r<t+148;r++)n+=e[r];for(let r=t+156;r<t+512;r++)n+=e[r];return r===n}(this.buffer)?{ext:"tar",mime:"application/x-tar"}:this.check([255,254])?this.check([60,0,63,0,120,0,109,0,108,0],{offset:2})?{ext:"xml",mime:"application/xml"}:this.check([255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0],{offset:2})?{ext:"skp",mime:"application/vnd.sketchup.skp"}:void 0:this.checkString("-----BEGIN PGP MESSAGE-----")?{ext:"pgp",mime:"application/pgp-encrypted"}:void 0)};detectImprecise=async e=>{if(this.buffer=new Uint8Array(hr),await e.peekBuffer(this.buffer,{length:Math.min(8,e.fileInfo.size),mayBeLess:!0}),this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(await e.peekBuffer(this.buffer,{length:Math.min(2+this.options.mpegOffsetTolerance,e.fileInfo.size),mayBeLess:!0}),this.buffer.length>=2+this.options.mpegOffsetTolerance)for(let e=0;e<=this.options.mpegOffsetTolerance;++e){const t=this.scanMpeg(e);if(t)return t}};async readTiffTag(e){const t=await this.tokenizer.readToken(e?Ve:Xe);switch(this.tokenizer.ignore(10),t){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"}}}async readTiffIFD(e){const t=await this.tokenizer.readToken(e?Ve:Xe);for(let r=0;r<t;++r){const t=await this.readTiffTag(e);if(t)return t}}async readTiffHeader(e){const t=(e?Ve:Xe).get(this.buffer,2),r=(e?je:Ke).get(this.buffer,4);if(42===t){if(r>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(r>=8){const t=(e?Ve:Xe).get(this.buffer,8),r=(e?Ve:Xe).get(this.buffer,10);if(28===t&&254===r||31===t&&11===r)return{ext:"nef",mime:"image/x-nikon-nef"}}}await this.tokenizer.ignore(r);return await this.readTiffIFD(e)??{ext:"tif",mime:"image/tiff"}}if(43===t)return{ext:"tif",mime:"image/tiff"}}scanMpeg(e){if(this.check([255,224],{offset:e,mask:[255,224]})){if(this.check([16],{offset:e+1,mask:[22]}))return this.check([8],{offset:e+1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(this.check([2],{offset:e+1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:e+1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:e+1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}}new Set(["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","elf","macho","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ttc","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","j2c","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf","jls","pst","dwg","parquet","class","arj","cpio","ace","avro","icc","fbx","vsdx","vtt","apk","drc","lz4","potx","xltx","dotx","xltm","ott","ots","otp","odg","otg","xlsm","docm","dotm","potm","pptm","jar","rm","ppsm","ppsx"]),new Set(["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/vnd.apache.arrow.file","video/mp4","audio/midi","video/matroska","video/webm","video/quicktime","video/vnd.avi","audio/wav","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","video/ogg","audio/ogg","audio/ogg; codecs=opus","application/ogg","audio/flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-elf","application/x-mach-binary","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","font/collection","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/j2c","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","text/vtt","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd","image/jls","application/vnd.ms-outlook","image/vnd.dwg","application/vnd.apache.parquet","application/java-vm","application/x-arj","application/x-cpio","application/x-ace-compressed","application/avro","application/vnd.iccprofile","application/x.autodesk.fbx","application/vnd.visio","application/vnd.android.package-archive","application/vnd.google.draco","application/x-lz4","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-excel.template.macroenabled.12","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.presentation-template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.graphics-template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/java-archive","application/vnd.rn-realmedia"]);class fr extends Se{header;constructor(e){super(e),this.header=e.header}parseDirectory=async()=>{const e=[];let t;const r=new Uint8Array(this.file.slice(this.header.directoryLocation,this.header.directoryLocation+16*this.header.directoryEntryCount));await this.initialPass(r,16,e);const n=e.filter((e=>e.type===Ee.MAPINFO));if(n){t=new Ir({file:this.file,mapInfos:n,sendEvent:this.sendEvent}).parseMapInfo()}if(t){const r=Me(t),n=De(t),i=(e=>{const t=[];if(e.type===we.UMAPINFO&&e.uMapInfo)for(const r of Object.values(e.uMapInfo))t.push(r.skytexture);if(e.type===we.DMAPINFO&&e.dMapInfo)for(const r of e.dMapInfo.maps)t.push(r.sky1.lump);if(e.type===we.ZMAPINFO&&e.zMapInfo)for(const r of e.zMapInfo.maps)t.push(r.sky1),t.push(r.sky2);return t.filter((e=>void 0!==e&&e))})(t),o=(e=>{const t=[];if(e.type===we.UMAPINFO&&e.uMapInfo)for(const r of Object.values(e.uMapInfo))t.push(r.levelpic),t.push(r.exitpic),t.push(r.enterpic),t.push(r.endpic),r.episode&&"object"==typeof r.episode&&t.push(r.episode.patch);if(e.type===we.ZMAPINFO&&e.zMapInfo)for(const r of e.zMapInfo.maps)t.push(r.titlepatch),t.push(r.exitpic),t.push(r.enterpic);return t.filter((e=>void 0!==e&&e))})(t);for(const t of e)r.has(t.lumpName)?t.type=Ee.MAPMARKER:n.has(t.lumpName)?(t.type=Ee.MUSIC,t.musicType||this.detectPredefinedLumpContent(t)):i.includes(t.lumpName)?(t.type=Ee.PATCH,t.imageType||this.detectPredefinedLumpContent(t)):o.includes(t.lumpName)&&(t.type=Ee.MENU_PATCH,t.imageType||this.detectPredefinedLumpContent(t))}for(const t of e.filter((e=>e.type===Ee.UNKNOWN))){const e=this.file.slice(t.lumpLocation,t.lumpLocation+t.lumpSize),r=await this.detectUnknownContent(e);r&&"music"===r.category&&(t.type=Ee.MUSIC,t.musicType=r.type),r&&"sfx"===r.category&&(t.type=Ee.SFX),r&&"patch"===r.category&&(t.type=Ee.PATCH,t.imageType=r.type),r&&"text"===r.category&&(t.type=Ee.TEXT)}return[e,t]};initialPass=async(e,t,r)=>{let n=null,i=null;for(let o=0;o<this.header.directoryEntryCount;o++){const s=o*t,a=new Int32Array(e.buffer.slice(s,s+4))[0],h=new Int32Array(e.buffer.slice(s+4,s+8))[0],c=Ue(e.subarray(s+8,s+16)).toUpperCase(),[l,u]=this.detectLumpType(c,h,n);let d,f,p;n=u,l===Ee.MAPMARKER&&(i=c),l===Ee.MAPDATA&&i&&(p=i);const _={lumpLocation:a,lumpSize:h,lumpName:c,lumpIdx:o,type:l,imageType:d,musicType:f,mapName:p};this.detectPredefinedLumpContent(_),r.push(_)}};detectPredefinedLumpContent=async e=>{const t=[Ee.PATCH,Ee.MENU_PATCH,Ee.STBAR_PATCH,Ee.SPRITE];if(t.includes(e.type)||e.type===Ee.MUSIC){const r=this.file.slice(e.lumpLocation,e.lumpLocation+e.lumpSize);t.includes(e.type)&&(e.imageType=await this.detectPatchContent(r)??void 0),e.type===Ee.MUSIC&&(e.musicType=await this.detectMusicContent(r)??void 0)}};detectLumpType=(e,r,n)=>{if(e.match(h))return[Ee.PATCH_START,Ee.PATCH_START];if(e.match(c))return[Ee.PATCH_END,Ee.PATCH_END];if(e.match(l))return[Ee.FLAT_START,Ee.FLAT_START];if(e.match(u))return[Ee.FLAT_END,Ee.FLAT_END];if(e.match(d))return[Ee.SPRITE_START,Ee.SPRITE_START];if(e.match(f))return[Ee.SPRITE_END,Ee.SPRITE_END];if("TX_START"===e)return[Ee.TX_START,Ee.TX_START];if("TX_END"===e)return[Ee.TX_END,Ee.TX_END];if("HI_START"===e)return[Ee.HI_START,Ee.HI_START];if("HI_END"===e)return[Ee.HI_END,Ee.HI_END];if(e.match(E))return[Ee.MAPMARKER,n];if(0===r)return[Ee.UNKNOWN,n];if("PNAMES"===e)return[Ee.PNAMES,n];if("TEXTURE1"===e)return[Ee.TEXTURES1,n];if("TEXTURE2"===e)return[Ee.TEXTURES2,n];if(n===Ee.PATCH_START)return[Ee.PATCH,n];if(n===Ee.SPRITE_START)return[Ee.SPRITE,n];if(n===Ee.FLAT_START)return[Ee.FLAT,n];if(n===Ee.TX_START)return[Ee.TX_PATCH,n];if(n===Ee.HI_START)return[Ee.HI_PATCH,n];if("COMPLVL"===e)return[Ee.COMPLVL,n];if(e===t)return[Ee.PLAYPAL,n];if(e===i)return[Ee.COLORMAP,n];if(e===o)return[Ee.ENDOOM,n];if(e===s)return[Ee.DEHACKED,n];if(e.match(b))return[Ee.DEMO,n];if("MUSINFO"===e)return[Ee.MUSINFO,n];if(e.match(a))return[Ee.MAPINFO,n];if(q(e))return[Ee.MAPDATA,n];for(const t of m)if(e.match(t))return[Ee.STBAR_PATCH,n];for(const t of A)if(e.match(t))return[Ee.MENU_PATCH,n];return T.includes(e)?[Ee.MUSIC,n]:[Ee.UNKNOWN,n]};detectPatchContent=async e=>{if(this.isDoomPatch(e))return{ext:"patch",mime:"image/doom-patch"};const t=await cr(e);return t?.mime.startsWith("image")?t:null};isDoomPatch=e=>{if(e.byteLength<12)return!1;const t=new DataView(e),r=t.getUint16(0,!0),n=t.getUint16(2,!0);if(0===r||0===n||r>4096||n>4096)return!1;if(e.byteLength<8+4*r)return!1;const i=[];for(let n=0;n<r;n++){const r=t.getUint32(8+4*n,!0);if(i.push(r),r>=e.byteLength)return!1}return!0};detectMusicContent=async e=>{const t=new Uint8Array(e.slice(0,3));if(77===t[0]&&85===t[1]&&83===t[2])return{ext:"mus",mime:"audio/mus"};const r=await cr(e);if(r?.mime.startsWith("audio"))return r;const n=this.detectModuleType(e);return n?{ext:n,mime:"audio/x-mod"}:null};detectModuleType(e){if(e.byteLength<48)return null;const t=new Uint8Array(e,0,48),r=(e,r)=>{for(let n=0;n<r.length;n++)if(t[e+n]!==r.charCodeAt(n))return!1;return!0};if(t.length>=4){if(r(0,"IMPM"))return"it";if(t.length>=17&&r(0,"Extended Module: "))return"xm";if(t.length>=48&&r(44,"SCRM"))return"s3m";if(t.length>=4&&r(0,"PSM "))return"psm";if(t.length>=3&&r(0,"MTM"))return"mtm";if(t.length>=4&&r(0,"RIFF"))return"riff"}if(e.byteLength>=1084){const t=new Uint8Array(e,1080,4),r=String.fromCharCode(...t);if(["M.K.","M!K!","FLT4","FLT8","4CHN","6CHN","8CHN","12CH","16CH","32CH"].includes(r))return"mod"}return null}detectUnknownContent=async e=>{const t=this.isDoomSFX(e);if(t)return{type:t,category:"sfx"};const r=await this.detectMusicContent(e);if(r)return{type:r,category:"music"};const n=await this.detectPatchContent(e);if(n)return{type:n,category:"patch"};const i=await cr(e);return i?.mime.startsWith("text")?{type:i,category:"text"}:null};isDoomSFX=e=>{const t=new DataView(e);if(e.byteLength<4)return null;const r=t.getUint16(0,!0);if(3===r){if(e.byteLength<8)return null;const r=t.getUint32(4,!0)-16+24;if(e.byteLength===r)return{ext:"dmx",mime:"audio/x-doom-sfx-dmx"}}if(0===r){const r=4+t.getUint16(2,!0);if(e.byteLength===r)return{ext:"spk",mime:"audio/x-doom-sfx-speaker"}}return null}}class pr extends Se{parseEndoom=()=>{if(0===this.lumps.length||this.lumps[0].lumpName!==o)return{data:[]};const e=this.lumps[0].lumpSize/2,t=new Uint8Array(this.file.slice(this.lumps[0].lumpLocation,this.lumps[0].lumpLocation+this.lumps[0].lumpSize)),r={data:[]};for(let n=0;n<e;n++){const e=2*n,i=Be[Number(t[e].toString())],o=t[e+1].toString(2),s="00000000".substring(0,8-o.length)+o,a=Number.parseInt(s.slice(4,8),2),h=Number.parseInt(s.slice(1,4),2),c=ge[a],l=ge[h],u=s.startsWith("1");r.data.push({char:i,foregroundColor:c,backgroundColor:l,blink:u})}return r}}class _r extends Se{parseHeader=()=>{const e=new Uint8Array(this.file,0,12),t=Ue(e.subarray(0,4));if(t!==me.IWAD&&t!==me.PWAD)return void this.sendEvent(be.NOT_WAD,`This is not a wad file! ${t}`);return{type:t,directoryEntryCount:new Int32Array(e.buffer.slice(4,8))[0],directoryLocation:new Int32Array(e.buffer.slice(8,12))[0]}}}class Er extends Se{directory;constructor(e){super(e),this.directory=e.directory}parseMapGroups=()=>{const e=[],t=this.directory.filter((e=>e.type===Ee.MAPMARKER)).map((e=>e.lumpName));for(const r of t)e.push({name:r,lumps:this.directory.map((e=>{if(q(e.lumpName)&&e.mapName===r)return{...e,lumpName:e.lumpName}})).filter((e=>void 0!==e))});return e.sort(((e,t)=>e.name.localeCompare(t.name))),e}}class gr extends Se{options;mapName;detectedType;constructor(e){super(e),this.options=e,this.mapName=e.mapName,this.detectedType=e.detectedType}thingTypeToString(e){switch(this.detectedType){case ie.DOOM:return S[e];case ie.CHEX:return R[e];case ie.HERETIC:return L[e];case ie.HEXEN:return w[e];case ie.STRIFE:return U[e];default:return S[e]}}getDoomMapThings(e,t){const r=[],n=t/10,i=new Uint8Array(this.file.slice(e,e+t));for(let e=0;e<n;e++){const t=10*e,n=new Int16Array(i.buffer.slice(t,t+2))[0],o=new Int16Array(i.buffer.slice(t+2,t+4))[0],s=new Int16Array(i.buffer.slice(t+4,t+6))[0],a=new Int16Array(i.buffer.slice(t+6,t+8))[0],h=this.thingTypeToString(a),c=Y(h),l=new Int16Array(i.buffer.slice(t+8,t+10))[0],u=F(l),d=X(h);r.push({x:n,y:o,angle:s,thingType:a,flags:l,thingTypeString:h,flagsString:u,thingGroup:c,size:d})}return r}getHexenMapThings(e,t){const r=[],n=t/20,i=new Uint8Array(this.file.slice(e,e+t));for(let e=0;e<n;e++){const t=20*e,n=new Int16Array(i.buffer.slice(t+2,t+4))[0],o=new Int16Array(i.buffer.slice(t+4,t+6))[0],s=new Int16Array(i.buffer.slice(t+8,t+10))[0],a=new Int16Array(i.buffer.slice(t+10,t+12))[0],h=this.thingTypeToString(a),c=Y(h),l=new Int16Array(i.buffer.slice(t+12,t+14))[0],u=F(l),d=X(h);r.push({x:n,y:o,angle:s,thingType:a,flags:l,thingTypeString:h,flagsString:u,thingGroup:c,size:d})}return r}getDoomMapLinedefs(e,t){const r=[],n=t/14,i=new Uint8Array(this.file.slice(e,e+t));for(let e=0;e<n;e++){const t=14*e,n=new Uint16Array(i.buffer.slice(t,t+2))[0],o=new Uint16Array(i.buffer.slice(t+2,t+4))[0],s=new Uint16Array(i.buffer.slice(t+4,t+6))[0],a=z(s),h=new Uint16Array(i.buffer.slice(t+6,t+8))[0],c=new Uint16Array(i.buffer.slice(t+8,t+10))[0],l=new Uint16Array(i.buffer.slice(t+10,t+12))[0],u=new Uint16Array(i.buffer.slice(t+12,t+14))[0];r.push({start:n,end:o,flags:s,flagsString:a,specialType:h,sectorTag:c,frontSideDef:l,backSideDef:u})}return r}getHexenMapLineDefs(e,t){const r=[],n=t/16,i=new Uint8Array(this.file.slice(e,e+t));for(let e=0;e<n;e++){const t=16*e,n=new Uint16Array(i.buffer.slice(t,t+2))[0],o=new Uint16Array(i.buffer.slice(t+2,t+4))[0],s=new Uint16Array(i.buffer.slice(t+4,t+6))[0],a=z(s),h=new Uint8Array(i.buffer.slice(t+6,t+7))[0],c=new Uint16Array(i.buffer.slice(t+12,t+14))[0],l=new Uint16Array(i.buffer.slice(t+14,t+16))[0];r.push({start:n,end:o,flags:s,flagsString:a,specialType:h,sectorTag:0,frontSideDef:c,backSideDef:l})}return r}getMapSidedefs(e,t){const r=[],n=t/30,i=new Uint8Array(this.file.slice(e,e+t));for(let e=0;e<n;e++){const t=30*e,n=new Int16Array(i.buffer.slice(t,t+2))[0],o=new Int16Array(i.buffer.slice(t+2,t+4))[0],s=Ue(i.subarray(t+4,t+12)),a=Ue(i.subarray(t+12,t+20)),h=Ue(i.subarray(t+20,t+28)),c=new Int16Array(i.buffer.slice(t+28,t+30))[0];r.push({xOffset:n,yOffset:o,upperTex:s,lowerTex:a,middleTex:h,sector:c})}return r}getMapVertices(e,t){const r=[],n=t/4,i=new Uint8Array(this.file.slice(e,e+t));for(let e=0;e<n;e++){const t=4*e,n=new Int16Array(i.buffer.slice(t,t+2))[0],o=new Int16Array(i.buffer.slice(t+2,t+4))[0];r.push({x:n,y:o})}return r}getMapSegments(e,t){const r=[],n=t/12,i=new Uint8Array(this.file.slice(e,e+t));for(let e=0;e<n;e++){const t=12*e,n=new Int16Array(i.buffer.slice(t,t+2))[0],o=new Int16Array(i.buffer.slice(t+2,t+4))[0],s=new Int16Array(i.buffer.slice(t+4,t+6))[0],a=new Int16Array(i.buffer.slice(t+6,t+8))[0],h=new Int16Array(i.buffer.slice(t+8,t+10))[0],c=new Int16Array(i.buffer.slice(t+10,t+12))[0];r.push({start:n,end:o,angle:s,linedef:a,dir:h,offset:c})}return r}getMapSubSectors(e,t){const r=[],n=t/4,i=new Uint8Array(this.file.slice(e,e+t));for(let e=0;e<n;e++){const t=4*e,n=new Int16Array(i.buffer.slice(t,t+2))[0],o=new Int16Array(i.buffer.slice(t+2,t+4))[0];r.push({segCount:n,firstSeg:o})}return r}getMapNodes(e,t){const r=[],n=t/28,i=new Uint8Array(this.file.slice(e,e+t)),o=e=>{let t=V.SUBNODE,r=e;return 32768&e&&(t=V.SUBSECTOR,r=-32769&e),[r,t]};for(let e=0;e<n;e++)if(28===i.buffer.slice(28*e,28*e+28).byteLength)try{const t=28*e,n=new Int16Array(i.buffer.slice(t,t+2))[0],s=new Int16Array(i.buffer.slice(t+2,t+4))[0],a=new Int16Array(i.buffer.slice(t+4,t+6))[0],h=new Int16Array(i.buffer.slice(t+6,t+8))[0],c=Array.from(new Int16Array(i.buffer.slice(t+8,t+16))),l={top:c[0],bottom:c[1],left:c[2],right:c[3]},u=Array.from(new Int16Array(i.buffer.slice(t+16,t+24))),d={top:u[0],bottom:u[1],left:u[2],right:u[3]},f=new Uint16Array(i.buffer.slice(t+24,t+26))[0],p=new Uint16Array(i.buffer.slice(t+26,t+28))[0],_=o(f),E=_[0],g=_[1],b=o(p),m=b[0],T=b[1];r.push({xPartStart:n,yPartStart:s,xPartChange:a,yPartChange:h,rightBBoxRaw:c,leftBBoxRaw:u,rightChildRaw:f,leftChildRaw:p,rightBBox:l,leftBBox:d,leftChild:m,leftChildType:T,rightChild:E,rightChildType:g})}catch(e){}return r}getMapSectors(e,t){const r=[],n=t/26,i=new Uint8Array(this.file.slice(e,e+t));for(let e=0;e<n;e++){const t=26*e,n=new Int16Array(i.buffer.slice(t,t+2))[0],o=new Int16Array(i.buffer.slice(t+2,t+4))[0],s=Ue(i.subarray(t+4,t+12)),a=Ue(i.subarray(t+12,t+20)),h=new Int16Array(i.buffer.slice(t+20,t+22))[0],c=new Int16Array(i.buffer.slice(t+22,t+24))[0],l=new Int16Array(i.buffer.slice(t+24,t+26))[0];r.push({floorHeight:n,ceilingHeight:o,floorTex:s,ceilingTex:a,lightLevel:h,specialType:c,tag:l})}return r}getMapRejectTable(e,t,r){const n=Array(r).fill(Array(r).fill(!1)).flat(),i=new Uint8Array(this.file.slice(e,e+t));for(let e=0;e<t;e++){let t=i[e].toString(2);t="00000000".substring(0,8-t.length)+t;const r=Array.from(t).reverse().map((e=>"1"===e));for(let t=0;t<r.length;t++)e*r.length+t<n.length&&(n[e*r.length+t]=r[t])}const o=[],s=Array(r).fill(!1);for(let e=0;e<n.length;e++)s[e%r]=n[e],e%r===0&&o.push(s);return o}getMapBlockmap(e,t){const r=JSON.parse(JSON.stringify(K)),n=new Uint8Array(this.file.slice(e,e+t)),i=new Int16Array(n.buffer.slice(0,2))[0],o=new Int16Array(n.buffer.slice(2,4))[0],s=new Int16Array(n.buffer.slice(4,6))[0],a=new Int16Array(n.buffer.slice(6,8))[0];if(r.xOrigin=i,r.yOrigin=o,r.columns=s,r.rows=a,this.options.parseBlockmap){const e=s*a,t=[];for(let r=0;r<e;r++){const e=8+2*r,i=new Uint8Array(n.buffer.slice(e,e+1))[0],o=new Uint8Array(n.buffer.slice(e+1,e+2))[0];t.push(2*((255&o)<<8|255&i))}r.offsets=t;const i=[];for(let e=0;e<t.length;e++){const r=t[e];let o=null,s=0;if(e<t.length-1)o=t[e+1],s=o-r;else{let e=0,t=0;for(;65535!==e;)t+=2,e=new Uint16Array(n.buffer.slice(r+t,r+t+2))[0];s=t+2}let a=[];for(let e=0;e<s;e+=2)a.push(new Uint16Array(n.buffer.slice(r+e,r+e+2))[0]);a=a.filter((e=>0!==e&&65535!==e)),i.push(a)}r.blockList=i}return r}parseMap=async()=>{const e=JSON.parse(JSON.stringify(Q));e.name=this.mapName;const t=(()=>this.lumps.find((e=>"BEHAVIOR"===e.lumpName))?Z.HEXEN:this.lumps.find((e=>"TEXTMAP"===e.lumpName))?Z.UDMF:Z.DOOM)(),r=this.lumps.find((e=>"THINGS"===e.lumpName));if(void 0!==r)switch(await this.sendEvent(be.MAP_THINGS_PARSING,`Things parsed for ${this.mapName} | Format: ${t}`),t){case Z.DOOM:e.things=this.getDoomMapThings(r.lumpLocation,r.lumpSize);break;case Z.HEXEN:e.things=this.getHexenMapThings(r.lumpLocation,r.lumpSize);break;case Z.UDMF:e.things=[]}const n=this.lumps.find((e=>"LINEDEFS"===e.lumpName));if(void 0!==n)switch(await this.sendEvent(be.MAP_LININGEFS_PARSING,`Linedefs parsing for ${this.mapName} | Format: ${t}`),t){case Z.DOOM:e.linedefs=this.getDoomMapLinedefs(n.lumpLocation,n.lumpSize);break;case Z.HEXEN:e.linedefs=this.getHexenMapLineDefs(n.lumpLocation,n.lumpSize);break;case Z.UDMF:e.linedefs=[]}const i=this.lumps.find((e=>"SIDEDEFS"===e.lumpName));void 0!==i&&(await this.sendEvent(be.MAP_SIDINGEFS_PARSING,`Sidedefs parsing for ${this.mapName}`),e.sidedefs=this.getMapSidedefs(i.lumpLocation,i.lumpSize));const o=this.lumps.find((e=>"VERTEXES"===e.lumpName));if(void 0!==o&&(await this.sendEvent(be.MAP_VERTICES_PARSING,`Vertices parsing for ${this.mapName}`),e.vertices=this.getMapVertices(o.lumpLocation,o.lumpSize)),this.options.parseSegments){const t=this.lumps.find((e=>"SEGS"===e.lumpName));void 0!==t&&(await this.sendEvent(be.MAP_SEGMENTS_PARSING,`Segments parsing for ${this.mapName}`),e.segments=this.getMapSegments(t.lumpLocation,t.lumpSize))}else await this.sendEvent(be.MAP_SKIPPING_SEGMENTS,`SKIPPING Segments parsing for ${this.mapName}`);if(this.options.parseSubSectors){const t=this.lumps.find((e=>"SSECTORS"===e.lumpName));void 0!==t&&(await this.sendEvent(be.MAP_SUBSECTORS_PARSING,`SubSectors parsing for ${this.mapName}`),e.subSectors=this.getMapSubSectors(t.lumpLocation,t.lumpSize))}else await this.sendEvent(be.MAP_SKIPPING_SUBSECTORS,`SKIPPING SubSectors parsing for ${this.mapName}`);if(this.options.parseNodes){const t=this.lumps.find((e=>"NODES"===e.lumpName));void 0!==t&&(await this.sendEvent(be.MAP_NODES_PARSING,`Nodes parsing for ${this.mapName}`),e.nodes=this.getMapNodes(t.lumpLocation,t.lumpSize))}else await this.sendEvent(be.MAP_SKIPPING_NODES,`SKIPPING Nodes parsing for ${this.mapName}`);const s=this.lumps.find((e=>"SECTORS"===e.lumpName));if(void 0!==s&&(await this.sendEvent(be.MAP_SECTORS_PARSING,`Sectors parsing for ${this.mapName}`),e.sectors=this.getMapSectors(s.lumpLocation,s.lumpSize)),this.options.parseRejects){const t=this.lumps.find((e=>"REJECT"===e.lumpName));void 0!==t&&(await this.sendEvent(be.MAP_REJECT_TABLE_PARSING,`RejectTable parsing for ${this.mapName}`),e.rejectTable=this.getMapRejectTable(t.lumpLocation,t.lumpSize,e.sectors.length))}else await this.sendEvent(be.MAP_SKIPPING_REJECT_TABLE,`SKIPPING RejectTable parsing for ${this.mapName}`);const a=this.lumps.find((e=>"BLOCKMAP"===e.lumpName));return void 0!==a&&(await this.sendEvent(be.MAP_BLOCKMAP_PARSING,`BlockMap parsing for ${this.mapName}`),this.options.parseBlockmap||await this.sendEvent(be.MAP_SKIPPING_BLOCKLIST,`SKIPPING BlockList parsing for ${this.mapName}`),e.blockMap=this.getMapBlockmap(a.lumpLocation,a.lumpSize)),e}}class br extends Se{parsePlaypal=()=>{const e=JSON.parse(JSON.stringify(Ae));if(0===this.lumps.length||this.lumps[0].lumpName!==t)return e;const r=new Uint8Array(this.file.slice(this.lumps[0].lumpLocation,this.lumps[0].lumpLocation+this.lumps[0].lumpSize));for(let t=0;t<14;t++){const s=[],a=[];for(let e=0;e<768;e+=3){const h=768*t+e,c=new Uint8Array(r.buffer.slice(h,h+3));s.push(...Array.from(c)),a.push({r:c[0],g:c[1],b:c[2],hex:(n=c[0],i=c[1],o=c[2],`#${(1<<24|n<<16|i<<8|o).toString(16).slice(1)}`)})}e.rawPlaypal.push(s),e.typedPlaypal.push(a)}var n,i,o;return e}}class mr extends Se{dir;constructor(e){super(e),this.dir=e.dir}parseTextures=()=>{const e={texture1:[],texture2:[],patchNames:[],patches:{}},t=this.dir.find((e=>e.type===Ee.TEXTURES1));t&&(e.texture1=this.parseTextureLump(t));const r=this.dir.find((e=>e.type===Ee.TEXTURES2));r&&(e.texture2=this.parseTextureLump(r));const n=this.dir.find((e=>e.type===Ee.PNAMES));n&&(e.patchNames=this.parsePnames(n));const i=[];for(const t of e.patchNames){const e=this.dir.find((e=>e.lumpName===t&&e.type===Ee.PATCH));e&&i.push(e)}const o=new Tr({patchLumps:i,file:this.file,sendEvent:this.sendEvent});for(const t of o.parsePatches())e.patches[t.name]=t;return e};parseTextureLump=e=>{const t=[],r=new Uint8Array(this.file.slice(e.lumpLocation,e.lumpLocation+e.lumpSize)),n=new Int32Array(r.buffer.slice(0,4))[0],i=[];for(let e=0;e<n;e++){const t=4+4*e;i.push(new Int32Array(r.buffer.slice(t,t+4))[0])}for(const e of i){const n=Ue(r.subarray(e,e+8)),i=Boolean(new Int32Array(r.buffer.slice(e+8,e+12))[0]),o=new Int16Array(r.buffer.slice(e+12,e+14))[0],s=new Int16Array(r.buffer.slice(e+14,e+16))[0],a=new Int32Array(r.buffer.slice(e+16,e+20))[0],h=new Int16Array(r.buffer.slice(e+20,e+22))[0],c=[];for(let t=0;t<h;t++){const n=e+22+10*t,i=new Int16Array(r.buffer.slice(n,n+2))[0],o=new Int16Array(r.buffer.slice(n+2,n+4))[0],s=new Int16Array(r.buffer.slice(n+4,n+6))[0],a=new Int16Array(r.buffer.slice(n+6,n+8))[0],h=new Int16Array(r.buffer.slice(n+8,n+10))[0];c.push({xOffset:i,yOffset:o,patchNum:s,stepDir:a,colormap:h})}t.push({name:n,masked:i,width:o,height:s,colDir:a,patchCount:h,patches:c})}return t};parsePnames=e=>{const t=[],r=new Uint8Array(this.file.slice(e.lumpLocation,e.lumpLocation+e.lumpSize)),n=new Int32Array(r.buffer.slice(0,4))[0];for(let e=0;e<n;e++){const n=8*e,i=Ue(r.subarray(n+4,n+4+8)).toUpperCase();t.push(i)}return t.filter((e=>e))}}class Tr extends Se{patchLumps;constructor(e){super(e),this.patchLumps=e.patchLumps}parsePatches=e=>{const t=e??this.patchLumps;if(!t)return[];const r=[];for(const e of t){const t=this.parsePatch(e);t&&r.push(t)}return r};parsePatch=e=>{if("patch"!==e.imageType?.ext)return null;const t=new Uint8Array(this.file.slice(e.lumpLocation,e.lumpLocation+e.lumpSize)),r=new Uint16Array(t.buffer.slice(0,2))[0],n=new Uint16Array(t.buffer.slice(2,4))[0],i=new Int16Array(t.buffer.slice(4,6))[0],o=new Int16Array(t.buffer.slice(6,8))[0],s=[],a=[];for(let e=0;e<r;e++){const r=8+4*e;a.push(new Uint32Array(t.buffer.slice(r,r+4))[0])}return a.forEach(((e,r)=>{let n=!1,i=0,o=1e3,a=-1;for(s.push([]);!n&&o>=0;){const h=new Uint8Array(t.buffer.slice(e+i,e+i+1))[0];255===h&&(s[r].push({yOffset:0,data:[]}),n=!0);let c=h;c<=a&&(c=a+h);const l=new Uint8Array(t.buffer.slice(e+i+1,e+i+2))[0],u=Array.from(new Uint8Array(t.buffer.slice(e+i+3,e+i+3+l)));255===new Uint8Array(t.buffer.slice(e+i+3+l+1,e+i+3+l+2))[0]?n=!0:i=i+3+l+1,s[r].push({yOffset:c,data:u}),o--,0===o&&(n=!0),a=c}})),{name:e.lumpName,width:r,height:n,xOffset:i,yOffset:o,columns:s}}}class Ar extends Se{dir;constructor(e){super(e),this.dir=e.dir}parseSprites=()=>{const e=[];let t=null;for(const r of this.dir)r.lumpName.match(d)?t=r:(!r.lumpName.match(f)&&t&&e.push(r),r.lumpName.match(f)&&t&&(t=null));const r=new Tr({file:this.file,sendEvent:this.sendEvent}),n=[];for(const t of e){const e=t.lumpName.match(p),i=t.lumpName.match(_);if(!(e&&4===e.length||i&&5===i.length))continue;let o=null,s=null,a=null,h=null;if(e&&(o=e[1],s=e[2],a=e[3]),!e&&i&&(o=i[1],s=i[2],a=i[3],h=i[4]),null===o||null===s||null===a)continue;const c=r.parsePatch(t);if(!c)continue;const l=[{idx:a,data:c,mirrored:!1}];h&&l.push({idx:h,data:c,mirrored:!0});const u=n.find((e=>e.name===o&&e.animation===s));u?u.frames.push(...l):n.push({name:o,animation:s,frames:l})}n.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:e.animation<t.animation?-1:e.animation>t.animation?1:0));for(const e of n)e.frames.sort(((e,t)=>e.idx<t.idx?-1:e.idx>t.idx?1:0));return n}}class xr extends Se{dir;constructor(e){super(e),this.dir=e.dir}parseFlats=()=>{const e=this.dir.filter((e=>e.type===Ee.FLAT)),t=[];for(const r of e){const e={name:r.lumpName,pixels:Array.from(new Uint8Array(this.file.slice(r.lumpLocation,r.lumpLocation+r.lumpSize))),height:Math.floor(r.lumpSize/64),width:64};t.push(e)}return t}}class Sr extends Se{dir;constructor(e){super(e),this.dir=e.dir}parseMenuGraphics=()=>{const e=new Tr({file:this.file,sendEvent:this.sendEvent}),t=[],r=this.dir.filter((e=>e.type===Ee.MENU_PATCH));for(const n of r){const r=e.parsePatch(n);r&&t.push({name:n.lumpName,data:r})}return t.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0)),t}}class yr extends Se{dir;mapInfo;dehacked;constructor(e){super(e),this.dir=e.dir,this.mapInfo=e.mapInfo,this.dehacked=e.dehacked}parseMusic=async()=>{const e=this.dir.filter((e=>e.type===Ee.MUSIC));let t;const r=this.dir.find((e=>e.type===Ee.MUSINFO));if(r){t=new Or({file:this.file,sendEvent:this.sendEvent,musInfoLump:r}).parseMusInfo()}const n=[];for(const r of e){const e=new Uint8Array(this.file.slice(r.lumpLocation,r.lumpLocation+r.lumpSize)),i=this.deduceMapName(r,t);n.push({name:r.lumpName,data:e,type:r.musicType??{ext:"UNKNOWN",mime:"UNKNOWN"},inMap:i||r.lumpName})}return n.sort(((e,t)=>e.inMap.localeCompare(t.inMap))),[n,t]};deduceMapName(e,t){const r=this.mapInfo?De(this.mapInfo):new Map,n=this.mapInfo?Me(this.mapInfo):new Map;let i="";const o=r.get(e.lumpName);if(o){const e=n.get(o);e&&(i=e.match(g)?`${e}`:`${o}: ${e}`)}if(!i&&t?.musicToMap[e.lumpName]&&t.musicToMap[e.lumpName].length>0&&n){const r=t.musicToMap[e.lumpName][0],o=n.get(r);o&&(i=o.match(g)?`${o}`:`${r}: ${o}`)}if(!i&&this.dehacked?.parsed.bexStrings)for(const t of this.dehacked.parsed.bexStrings){const r=fe[t.key];if(r){if(Ie[r]===e.lumpName){const e=t.value.toString();i=e.match(g)?`${e}`:`${r}: ${e}`;break}}}if(!i&&this.dehacked?.parsed.texts){const t=Object.keys(Oe);for(const r of this.dehacked.parsed.texts)if(t.includes(r.from)&&Oe[r.from]===e.lumpName){i=r.to;break}}return i||(i=ye[e.lumpName]),i}}class Ir extends Se{mapInfos;constructor(e){super(e),this.mapInfos=e.mapInfos}parseMapInfo(){const e={type:we.UNKNOWN};for(const t of this.mapInfos){const r=new Uint8Array(this.file.slice(t.lumpLocation,t.lumpLocation+t.lumpSize)),n=Ue(r);"UMAPINFO"===t.lumpName&&(e.type=we.UMAPINFO,e.uMapInfo=this.parseUmapInfo(n)),"DMAPINFO"===t.lumpName&&(e.type===we.UNKNOWN&&(e.type=we.DMAPINFO),e.dMapInfo=this.parseDMapInfo(n)),"ZMAPINFO"===t.lumpName&&(e.type===we.UNKNOWN&&(e.type=we.ZMAPINFO),e.zMapInfo=this.parseWadMapZMapInfo(n)),"MAPINFO"!==t.lumpName||e.zMapInfo||(e.type===we.UNKNOWN&&(e.type=we.ZMAPINFO),e.zMapInfo=this.parseWadMapZMapInfo(n))}return e}parseUmapInfo(e){let t={...Re};const r={},n=e.split(/\r?\n/);let i=!1,o="",s="";for(let e=0;e<n.length;e++){const a=n[e].trim();if(!a.startsWith("//")&&""!==a)if(a.toLowerCase().startsWith("map ")){let e=a.substring(4).trim();e.endsWith("{")&&(e=e.substring(0,e.length-2)),t={...Re,id:e.toUpperCase()},i=!0}else if(i){if("}"===a){t&&(r[t.id]=t),t={...Re},i=!1;continue}const e=a.indexOf("=");e>0?(o=a.substring(0,e).trim().toLowerCase(),s=a.substring(e+1).trim(),s.startsWith('"')&&s.endsWith('"')&&(s=s.substring(1,s.length-1)),s.startsWith('"')&&s.endsWith(",")&&(s=`${s.substring(1,s.length-2).trim()}\n`),this.processUmapInfoKeyValue(o,s,t)):""!==o&&a.endsWith(",")?s+=`${a.substring(1,a.length-2).trim()}\n`:""===o||a.endsWith(",")||(s+=`${a.substring(1,a.length-1).trim()}`,this.processUmapInfoKeyValue(o,s,t))}}return r}processUmapInfoKeyValue(e,t,r){switch(e){case"intertextsecret":case"intertext":case"label":r[e]="clear"===t?null:t;break;case"partime":r.partime=Number.parseInt(t,10)||0;break;case"author":case"skytexture":case"music":case"exitpic":case"enterpic":case"endpic":case"interbackdrop":case"intermusic":case"next":case"nextsecret":case"levelpic":case"levelname":r[e]=t;break;case"nointermission":case"endbunny":case"endcast":case"endgame":r[e]="true"===t.toLowerCase();break;case"episode":if("clear"===t)r.episode=null;else{const e=t.split(",").map((e=>e.trim().replace(/^"|"$/g,"")));3===e.length&&(r.episode={patch:e[0],name:e[1],key:e[2]})}break;case"bossaction":if("clear"===t)r.bossaction=[];else{const e=t.split(",").map((e=>e.trim()));3===e.length&&r.bossaction.push({thing:e[0],linespecial:Number.parseInt(e[1],10)||0,tag:Number.parseInt(e[2],10)||0})}}}parseDMapInfo(e){const t={...Ne};let r={...ve},n={...Ce},i={...Le};const o=e.split(/\r?\n/);let s=null,a="";for(let e=0;e<o.length;e++){const h=o[e].trim();if(!h.startsWith("//")&&""!==h)if(h.toLowerCase().startsWith("map ")){const e=h.match(/map\s+"([^"]+)"\s+"([^"]+)"/);e&&(r={...ve,id:e[1].toUpperCase(),displayName:e[2]},s="map")}else if(h.startsWith("episode ")){const e=h.match(/episode\s+"([^"]+)"/);e&&(n={...Ce,lump:e[1]},s="episode")}else if(h.startsWith("endsequence ")){const e=h.match(/endsequence\s+"([^"]+)"/);e&&(i={...Le,id:e[1]},s="endsequence")}else if("}"!==h){if(s){const e=h.indexOf("=");if(e>0){a=h.substring(0,e).trim().toLowerCase();const t=h.substring(e+1).trim();this.processDMapInfoKeyValue(s,a,t,r,n,i)}else"endsequence"===s&&h.startsWith('"')&&h.endsWith('"')?i&&i.text.push(h.substring(1,h.length-1)):"map07special"===h&&r&&(r.map07special=!0)}}else"map"===s?t.maps.push(r):"episode"===s?t.episodes.push(n):"endsequence"===s&&t.endsequences.push(i),s=null,r={...ve},n={...Ce},i={...Le}}return t}processDMapInfoKeyValue(e,t,r,n,i,o){switch(e){case"map":switch(t){case"secretnext":case"next":case"music":case"endsequence":n[t]=this.stripQuotes(r);break;case"par":case"episodenumber":case"mapnumber":n[t]=Number.parseInt(r,10)||0;break;case"sky1":{const e=r.split(",").map((e=>e.trim()));n.sky1={lump:this.stripQuotes(e[0]),scrollSpeed:e.length>1&&Number.parseInt(e[1],10)||0};break}}break;case"episode":"name"===t&&(i.name=this.stripQuotes(r));break;case"endsequence":switch(t){case"music":case"flat":o[t]=this.stripQuotes(r)}}}stripQuotes(e){return e.startsWith('"')&&e.endsWith('"')?e.substring(1,e.length-1):e}parseWadMapZMapInfo(e){const t={...Pe},r=e=>{const t={},r=e.split("\n").map((e=>e.trim())).filter((e=>e));for(const e of r){if(e.startsWith("//"))continue;const r=e.match(/^([a-zA-Z0-9_]+)\s*=\s*(.*)$/);if(r){const e=r[1];let n=r[2].trim();Number.isNaN(Number(n))?"true"===n||"1"===n?n=!0:"false"===n||"0"===n?n=!1:n.startsWith('"')&&n.endsWith('"')&&(n=n.slice(1,-1)):n=Number(n),t[e]=n;continue}const n=e.match(/^([a-zA-Z0-9_]+)$/);n&&(t[n[1]]=!0)}return t},n=/map\s+([^\s]+)\s+"([^"]+)"\s*\{([^}]+)\}/gs,i=[];let o;for(;null!==(o=n.exec(e));){const e=o[1].trim(),t=o[2].trim(),r=o[3].trim();i.push([e,t,r])}for(const e of i){const n=e[0],i=e[1],o=r(e[2]),s={id:n.toUpperCase(),name:i},a={};for(const e of Object.keys(o))e.startsWith("compat_")?a[e]=o[e]:s[e.toLowerCase()]=o[e];t.maps.push(s)}return t}}class Or extends Se{musInfoLump;constructor(e){super(e),this.musInfoLump=e.musInfoLump}parseMusInfo(){const e=new Uint8Array(this.file.slice(this.musInfoLump.lumpLocation,this.musInfoLump.lumpLocation+this.musInfoLump.lumpSize)),t=Ue(e).split("\n"),r={};let n=null;for(const e of t){const t=e.trim();if(t)if(/^\d/.test(t)){if(n){const e=t.replace(/^\d+\s+/,"");r[n].music.push(e)}}else n=t,r[n]={music:[]}}const i={};for(const[e,{music:t}]of Object.entries(r))for(const r of t)i[r]||(i[r]=[]),i[r].push(e);return{mapToMusic:r,musicToMap:i}}}class Rr extends Se{dir;constructor(e){super(e),this.dir=e.dir}parseStbarGraphics=()=>{const e=new Tr({file:this.file,sendEvent:this.sendEvent}),t=[],r=this.dir.filter((e=>e.type===Ee.STBAR_PATCH));for(const n of r){const r=e.parsePatch(n);r&&t.push({name:n.lumpName,data:r})}return t.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0)),t}}class vr{_fileUrls=[];_wadLoaded=!1;_wadLoadAttempted=!1;_wadLoadError="";_wadFiles=[new ArrayBuffer(0)];_wadStructs=[JSON.parse(JSON.stringify(oe))];_dehFile=void 0;_dehStruct=JSON.parse(JSON.stringify(pe));_wadName="";_internalLog=[];_eventSink=void 0;mapOpts;_debugLog=!1;_breatheInLog=!1;constructor(e){if(this.mapOpts=e.mapOpts??{},this._debugLog=e.debugLog??!1,this._breatheInLog=e.breatheInLog??!1,void 0!==e.eventListener&&(this._eventSink=e.eventListener),void 0!==e.fileUrl&&void 0===e.readyCb){const e="Ready callback option is required when providing a file URL directly to constructor";this.sendEvent(be.MISSING_READYCB,e)}void 0!==e.fileUrl&&void 0!==e.readyCb&&(this._fileUrls=[e.fileUrl],this.loadFileFromUrl(this._fileUrls[0],e.readyCb))}async breathe(e){await new Promise((t=>setTimeout(t,e)))}async sendEvent(e,t,r){if(void 0!==this._eventSink){if(!this._debugLog&&e.includes("DEBUG"))return;this._eventSink(e,t),this._internalLog.push({evt:e,msg:t}),this._breatheInLog&&await this.breathe(r||1)}}get eventLog(){return this._internalLog}get fileUrls(){return this._fileUrls}get niceFileNames(){return this.fileUrls.map((e=>{const t=e.split(/[.]WAD/i)[0],r=t.split("/").pop();return r||t}))}get wadLoaded(){return this._wadLoaded}set wadLoaded(e){this._wadLoaded=e}get wadLoadAttempted(){return this._wadLoadAttempted}set wadLoadAttempted(e){this._wadLoadAttempted=e}get wadLoadError(){return this._wadLoadError}set wadLoadError(e){this._wadLoadError=e}get wadFiles(){return this._wadFiles}set wadFiles(e){this._wadFiles=e}get wadFileLengths(){return this._wadFiles.map((e=>e.byteLength))}get fileLoaded(){return this.wadLoadAttempted&&this.wadLoaded&&this.wadFiles.length>0&&this.wadFiles[0].byteLength>0}get wadName(){return this._wadName}loadFile(e,t){this.wadLoadAttempted=!0,this._wadStructs=[JSON.parse(JSON.stringify(oe))],this._fileUrls=[e.name],this._wadFiles=[new ArrayBuffer(0)];try{e.arrayBuffer().then((e=>{this.wadFiles=[e],this.wadLoaded=!0,this.sendEvent(be.FILE_LOADED),void 0!==t&&t(!0)})).catch((e=>{this.wadLoadError=e.message,void 0!==t&&t(!1,e)}))}catch(e){this.wadLoadError=e.message,void 0!==t&&t(!1,this.wadLoadError)}}loadArrayBuffer(e,t,r){this.wadLoadAttempted=!0,this._wadStructs=[JSON.parse(JSON.stringify(oe))],this._fileUrls=[t],this.wadFiles=[e],this.wadLoaded=!0,this.sendEvent(be.FILE_LOADED,`Loaded ${t}`),void 0!==r&&r(!0)}loadArrayBuffers(e,t,r,n){const i=Array.from(t).map(((t,r)=>{if(t.toLowerCase().endsWith(".wad"))return e[r]})).filter((e=>void 0!==e)),o=Array.from(t).map(((t,r)=>{if(t.toLowerCase().endsWith(".deh"))return e[r]})).filter((e=>void 0!==e));this.wadLoadAttempted=!0,this._wadStructs=[];for(let e=0;e<i.length;e++)this._wadStructs.push(JSON.parse(JSON.stringify(oe)));this._fileUrls=t.filter((e=>e.toLowerCase().endsWith(".wad"))),this.wadFiles=i,this._dehFile=o.length>0?o[0]:this._dehFile,this._dehStruct=JSON.parse(JSON.stringify(pe)),this.wadLoaded=!0,this._wadName=r,this.sendEvent(be.FILE_LOADED,`Loaded ${t.join(", ")}`),void 0!==n&&n(!0)}loadFileFromUrl(e,t){this.wadLoadAttempted=!0,this._wadStructs=[JSON.parse(JSON.stringify(oe))],this._fileUrls=[e],this._wadFiles=[new ArrayBuffer(0)],fetch(e).then((async e=>{try{this.wadFiles=[await e.arrayBuffer()],this.wadLoaded=!0,this.sendEvent(be.FILE_LOADED),void 0!==t&&t(!0)}catch(e){this.wadLoadError=e.message,void 0!==t&&t(!1,this.wadLoadError)}})).catch((e=>{this.wadLoadError=e.message,void 0!==t&&t(!1,this.wadLoadError)}))}async parseForAllWads(e,t,r){const n=await t(),i=[];for(let t=0;t<this._wadFiles.length;t++){let o=[];for(let r=0;r<e.length;r++){const n=e[r],i=this._wadStructs[t];o.push(i?.[n])}if(o.includes(void 0)){o=[];const i=await r(t,n);i?o.push(...i):o.push(...Array(e.length).fill(void 0))}i.push(o)}return i}async generateWadFileInfos(e,t){return e.map(((e,r)=>{if(e)return{wadFileName:t[r],wadIdx:r,...e}})).filter((e=>void 0!==e))}async headers(){if(!this.fileLoaded)return this._wadStructs.map((e=>{}));if(this._wadStructs.every((e=>e.header)))return this._wadStructs.map((e=>e.header));const e=(await this.parseForAllWads(["header"],(async()=>null),(async(e,t)=>{await this.sendEvent(be.HEADER_PARSING,`Header parsing for ${this._fileUrls[e]}`);const r=new _r({file:this._wadFiles[e],sendEvent:this.sendEvent}).parseHeader();return r?[r]:void 0}))).map((e=>e[0]));return this.setHeaders(e),e}setHeaders(e){this._wadStructs.forEach(((t,r)=>{t.header=e[r]}))}async header(){return await this.generateWadFileInfos(await this.headers(),this.niceFileNames)}async detectedTypes(){if(!this.fileLoaded)return[void 0];if(this._wadStructs.every((e=>e.detectedType)))return this._wadStructs.map((e=>e.detectedType));const e=[];for(const t of this.niceFileNames){const r=t.toLowerCase();let n=ie.DOOM;r.includes("heretic")&&(n=ie.HERETIC),r.includes("hexen")&&(n=ie.HEXEN),r.includes("chex")&&(n=ie.CHEX),r.includes("strife")&&(n=ie.STRIFE),await this.sendEvent(be.DETECTED_TYPE_SET,`Set detected WAD type of ${t} to ${n}`),e.push(n)}return this.setDetectedTypes(e),e}setDetectedTypes(e){this._wadStructs.forEach(((t,r)=>{t.detectedType=e[r]}))}async detectedType(){return await this.generateWadFileInfos(await this.detectedTypes(),this.niceFileNames)}async directories(){if(this._wadStructs.every((e=>e.directory)))return this._wadStructs.map((e=>e.directory));const e=await this.parseForAllWads(["directory","mapInfo"],(async()=>await this.headers()),(async(e,t)=>{if(await this.sendEvent(be.DIRECTORY_PARSING,`Directory parsing for ${this._fileUrls[e]}`),t[e]){const r=new fr({file:this._wadFiles[e],sendEvent:this.sendEvent,header:t[e]}),[n,i]=await r.parseDirectory();return await this.sendEvent(be.PARSED_COUNT,`Parsed ${n.length} lumps`),[n,i]}})),t=e.map((e=>e[0])),r=e.map((e=>e[1]));return this.setDirectories(t),this.setMapInfos(r),t}setDirectories(e){this._wadStructs.forEach(((t,r)=>{t.directory=e[r]}))}async directory(){const e=(await this.directories()).filter((e=>void 0!==e));return(await this.generateWadFileInfos(e.map((e=>({data:e}))),this.niceFileNames)).flatMap((e=>e.data.map((t=>({...t,wadIdx:e.wadIdx,wadFileName:e.wadFileName})))))}async mapInfos(){return await this.directories(),this._wadStructs.map((e=>e.mapInfo))}setMapInfos(e){this._wadStructs.forEach(((t,r)=>{t.mapInfo=e[r]}))}async mapInfo(){return function(e){const t={type:we.UNKNOWN,uMapInfo:{},dMapInfo:{maps:[],episodes:[],endsequences:[]},zMapInfo:{maps:[]}},r=[],n=[],i=[],o=[],s=[];for(const a of e){if(a.uMapInfo)for(const[e,n]of Object.entries(a.uMapInfo))t.uMapInfo[e]||r.push(e),t.uMapInfo[e]=n;if(a.dMapInfo){for(const e of a.dMapInfo.maps)t.dMapInfo.maps.some((t=>t.id===e.id))||n.push(e.id),t.dMapInfo.maps=[...t.dMapInfo.maps.filter((t=>t.id!==e.id)),e];for(const e of a.dMapInfo.episodes){const r=`${e.lump}|${e.name}`;i.includes(r)||i.push(r),t.dMapInfo.episodes=[...t.dMapInfo.episodes.filter((e=>`${e.lump}|${e.name}`!==r)),e]}for(const e of a.dMapInfo.endsequences)o.includes(e.id)||o.push(e.id),t.dMapInfo.endsequences=[...t.dMapInfo.endsequences.filter((t=>t.id!==e.id)),e]}if(a.zMapInfo)for(const e of a.zMapInfo.maps)t.zMapInfo.maps.some((t=>t.id===e.id))||s.push(e.id),t.zMapInfo.maps=[...t.zMapInfo.maps.filter((t=>t.id!==e.id)),e]}if(t.uMapInfo&&Object.keys(t.uMapInfo).length>0){const e={};for(const n of r)e[n]=t.uMapInfo[n];t.uMapInfo=e}return t.dMapInfo&&(t.dMapInfo.maps=n.map((e=>t.dMapInfo.maps.find((t=>t.id===e)))).filter((e=>void 0!==e)),t.dMapInfo.episodes=i.map((e=>t.dMapInfo.episodes.find((t=>`${t.lump}|${t.name}`===e)))).filter((e=>void 0!==e)),t.dMapInfo.endsequences=o.map((e=>t.dMapInfo.endsequences.find((t=>t.id===e)))).filter((e=>void 0!==e))),t.zMapInfo&&(t.zMapInfo.maps=s.map((e=>t.zMapInfo.maps.find((t=>t.id===e)))).filter((e=>void 0!==e))),t.uMapInfo&&Object.keys(t.uMapInfo).length>0?t.type=we.UMAPINFO:t.dMapInfo&&t.dMapInfo.maps.length>0?t.type=we.DMAPINFO:t.zMapInfo&&t.zMapInfo.maps.length>0&&(t.type=we.ZMAPINFO),t}((await this.mapInfos()).filter((e=>void 0!==e)))}async mapGroupLists(){const e=(await this.parseForAllWads(["mapGroups"],(async()=>await this.directories()),(async(e,t)=>{if(t[e]){await this.sendEvent(be.MAPGROUPS_PARSING,`MapGroups parsing for ${this._fileUrls[e]}`);return[new Er({file:this._wadFiles[e],sendEvent:this.sendEvent,directory:t[e]}).parseMapGroups()]}}))).map((e=>e[0]));return this.setMapGroups(e),e}setMapGroups(e){this._wadStructs.forEach(((t,r)=>{t.mapGroups=e[r]}))}async mapGroups(){const e=(await this.mapGroupLists()).filter((e=>void 0!==e)).flat();return await this.generateWadFileInfos(e,this.niceFileNames)}async mapsLists(){const e=await this.parseForAllWads(["maps"],(async()=>await this.mapGroupLists()),(async(e,t)=>{if(t[e]){await this.sendEvent(be.MAPS_PARSING,`Maps parsing for ${this._fileUrls[e]}`);const r=[];for(let n=0;n<t[e].length;n++){const i=t[e][n],o=new gr({...this.mapOpts,lumps:i.lumps,mapName:i.name,file:this._wadFiles[e],sendEvent:this.sendEvent,detectedType:(await this.detectedType())[e]??ie.DOOM}),s=await o.parseMap();r.push(s)}return await this.sendEvent(be.PARSED_COUNT,`Parsed ${r.length} maps`),[r]}})),t=e.map((e=>e[0]));return this.setMaps(t),t}setMaps(e){this._wadStructs.forEach(((t,r)=>{t.maps=e[r]}))}async maps(){const e=(await this.mapsLists()).filter((e=>void 0!==e)).flat();return await this.generateWadFileInfos(e,this.niceFileNames)}async playpals(){const e=(await this.parseForAllWads(["playpal"],(async()=>await this.directories()),(async(e,r)=>{if(r[e]){await this.sendEvent(be.PLAYPAL_PARSING,`Playpal parsing for ${this._fileUrls[e]}`);const n=r[e].find((e=>e.lumpName===t));if(void 0===n)return;return[new br({lumps:[n],file:this._wadFiles[e],sendEvent:this.sendEvent}).parsePlaypal()]}}))).map((e=>e[0]));return this.setPlaypals(e),e}setPlaypals(e){this._wadStructs.forEach(((t,r)=>{t.playpal=e[r]}))}async playpal(){return await this.generateWadFileInfos(await this.playpals(),this.niceFileNames)}async colormaps(){const e=(await this.parseForAllWads(["colormap"],(async()=>await this.directories()),(async(e,t)=>{if(t[e]){const r=t[e].find((e=>e.lumpName===i));if(void 0===r)return;await this.sendEvent(be.COLORMAP_PARSING,`ColorMap parsing for ${this._fileUrls[e]}`);return[new He({lumps:[r],file:this._wadFiles[e],sendEvent:this.sendEvent}).parseColormap()]}}))).map((e=>e[0]));return this.setColormaps(e),e}setColormaps(e){this._wadStructs.forEach(((t,r)=>{t.colormap=e[r]}))}async colormap(){return await this.generateWadFileInfos(await this.colormaps(),this.niceFileNames)}async endooms(){const e=(await this.parseForAllWads(["endoom"],(async()=>await this.directories()),(async(e,t)=>{if(t[e]){const r=t[e].find((e=>e.lumpName===o));if(void 0===r)return;await this.sendEvent(be.ENDOOM_PARSING,`Endoom parsing for ${this._fileUrls[e]}`);return[new pr({lumps:[r],file:this._wadFiles[e],sendEvent:this.sendEvent}).parseEndoom()]}}))).map((e=>e[0]));return this.setEndooms(e),e}setEndooms(e){this._wadStructs.forEach(((t,r)=>{t.endoom=e[r]}))}async endoom(){return await this.generateWadFileInfos(await this.endooms(),this.niceFileNames)}async dehackeds(){const e=(await this.parseForAllWads(["dehacked"],(async()=>await this.directories()),(async(e,t)=>{if(t[e]){const r=t[e].find((e=>e.lumpName===s));if(void 0===r)return;await this.sendEvent(be.DEHACKED_PARSING,`Dehacked parsing for ${this._fileUrls[e]}`);return[new ke({lumps:[r],file:this._wadFiles[e],sendEvent:this.sendEvent,fileName:this.fileUrls[e]}).parseDehacked()]}}))).map((e=>e[0]));return this.setDehackeds(e),e}setDehackeds(e){this._wadStructs.forEach(((t,r)=>{t.dehacked=e[r]}))}async dehackedExternal(){if(!this._dehFile)return;if(this._dehStruct.dehackedString)return this._dehStruct;await this.sendEvent(be.DEHACKED_PARSING,"Dehacked parsing from external DEH file");const e=new ke({lumps:[],sendEvent:this.sendEvent,dehackedBuffer:this._dehFile}).parseDehacked();return this.setDehackedExternal(e),e}setDehackedExternal(e){this._dehStruct=e}async dehacked(){return function(e){const t=e.map((e=>{if(e.dehackedString)return`#--------\n#\n# DEH STRING SOURCE: ${e.source}\n#\n#--------\n\n${e.dehackedString}`})).filter((e=>void 0!==e)).join("\n"),r=new Map;for(const t of e)for(const e of t.thingTranslations)r.set(e.from,e.to);const n=Array.from(r,(([e,t])=>({from:e,to:t}))),i={things:[],frames:[],pointers:[],sounds:[],ammo:[],weapons:[],misc:{},texts:[],pars:[],bexStrings:[],bexSprites:[],bexSounds:[],bexMusic:[],cheats:{},helperThing:void 0},o=[{key:"things",source:e=>e.parsed.things,target:e=>e.things,getKey:e=>`thing_${e.dehId}`},{key:"frames",source:e=>e.parsed.frames,target:e=>e.frames,getKey:e=>`frame_${e.index}`},{key:"pointers",source:e=>e.parsed.pointers,target:e=>e.pointers,getKey:e=>`ptr_${e.frameIndex}`},{key:"sounds",source:e=>e.parsed.sounds,target:e=>e.sounds,getKey:e=>`sound_${e.index}`},{key:"ammo",source:e=>e.parsed.ammo,target:e=>e.ammo,getKey:e=>`ammo_${e.index}`},{key:"weapons",source:e=>e.parsed.weapons,target:e=>e.weapons,getKey:e=>`weapon_${e.index}`},{key:"texts",source:e=>e.parsed.texts,target:e=>e.texts,getKey:e=>`text_${e.from}`},{key:"pars",source:e=>e.parsed.pars,target:e=>e.pars,getKey:e=>`par_${e.episode??-1}_${e.map}`},{key:"bexStrings",source:e=>e.parsed.bexStrings,target:e=>e.bexStrings,getKey:e=>`bexs_${e.key}`},{key:"bexSprites",source:e=>e.parsed.bexSprites,target:e=>e.bexSprites,getKey:e=>`bexs_${e.key}`},{key:"bexSounds",source:e=>e.parsed.bexSounds,target:e=>e.bexSounds,getKey:e=>`bexs_${e.key}`},{key:"bexMusic",source:e=>e.parsed.bexMusic,target:e=>e.bexMusic,getKey:e=>`bexs_${e.key}`}];for(const t of o){const r=new Map;for(const n of e)for(const e of t.source(n))r.set(t.getKey(e),e);t.target(i).push(...Array.from(r.values()))}i.things.sort(((e,t)=>e.dehId-t.dehId)),i.frames.sort(((e,t)=>e.index-t.index)),i.pointers.sort(((e,t)=>e.frameIndex-t.frameIndex)),i.sounds.sort(((e,t)=>e.index-t.index)),i.ammo.sort(((e,t)=>e.index-t.index)),i.weapons.sort(((e,t)=>e.index-t.index)),i.texts.sort(((e,t)=>e.from.localeCompare(t.from))),i.pars.sort(((e,t)=>(e.episode??-1)-(t.episode??-1)||e.map-t.map)),i.bexStrings.sort(((e,t)=>e.key.localeCompare(t.key))),i.bexSprites.sort(((e,t)=>e.key.localeCompare(t.key))),i.bexSounds.sort(((e,t)=>e.key.localeCompare(t.key))),i.bexMusic.sort(((e,t)=>e.key.localeCompare(t.key))),i.misc={},i.cheats={};for(const t of e)i.misc={...i.misc,...t.parsed.misc},void 0!==t.parsed.helperThing&&(i.helperThing=t.parsed.helperThing),i.cheats={...i.cheats,...t.parsed.cheats};return{dehackedString:t,thingTranslations:n,parsed:i,source:"combined"}}([...await this.dehackeds(),await this.dehackedExternal()].filter((e=>void 0!==e)))}async texturesList(){const e=(await this.parseForAllWads(["textures"],(async()=>await this.directories()),(async(e,t)=>{if(t[e]){await this.sendEvent(be.TEXTURES_PARSING,`Textures parsing for ${this._fileUrls[e]}`);const r=new mr({lumps:[],dir:t[e],file:this._wadFiles[e],sendEvent:this.sendEvent}).parseTextures();return await this.sendEvent(be.PARSED_COUNT,`Parsed ${r.texture1.length+r.texture2.length} textures with ${Object.keys(r.patches).length} patches`),[r]}}))).map((e=>e[0]));return this.setTextures(e),e}setTextures(e){this._wadStructs.forEach(((t,r)=>{t.textures=e[r]}))}async textures(){return function(e){const t=[],r=new Map;for(const n of e)for(const e of n.patchNames)r.has(e)||(r.set(e,t.length),t.push(e));const n={};for(const t of e)Object.assign(n,t.patches);for(const e of Object.keys(n))r.has(e)||(r.set(e,t.length),t.push(e));const i=(e,t)=>({...e,patches:e.patches.map((e=>{const n=t[e.patchNum],i=r.get(n);return{...e,patchNum:void 0!==i?i:e.patchNum}}))}),o=t=>{const r=new Map,n=[];for(const o of e){const e=o[t];for(const t of e){const e=i(t,o.patchNames);r.has(e.name)||n.push(e.name),r.set(e.name,e)}}return n.map((e=>r.get(e))).filter((e=>void 0!==e))};return{patchNames:t,patches:n,texture1:o("texture1"),texture2:o("texture2")}}((await this.texturesList()).filter((e=>void 0!==e)))}async flatsList(){const e=(await this.parseForAllWads(["flats"],(async()=>await this.directories()),(async(e,t)=>{if(t[e]){await this.sendEvent(be.FLATS_PARSING,`Flats parsing for ${this._fileUrls[e]}`);const r=new xr({lumps:[],dir:t[e],file:this._wadFiles[e],sendEvent:this.sendEvent}).parseFlats();return await this.sendEvent(be.PARSED_COUNT,`Parsed ${r.length} flats`),[r]}}))).map((e=>e[0]));return this.setFlats(e),e}setFlats(e){this._wadStructs.forEach(((t,r)=>{t.flats=e[r]}))}async flats(){return function(e){const t=[],r=new Map,n=[];for(const t of e)for(const e of t)r.has(e.name)||n.push(e.name),r.set(e.name,e);for(const e of n)t.push(r.get(e));return t.filter((e=>void 0!==e))}((await this.flatsList()).filter((e=>void 0!==e)))}async spritesList(){const e=await this.parseForAllWads(["sprites"],(async()=>await this.directories()),(async(e,t)=>{if(t[e]){await this.sendEvent(be.SPRITES_PARSING,`Sprites parsing for ${this._fileUrls[e]}`);const r=new Ar({lumps:[],dir:t[e],file:this._wadFiles[e],sendEvent:this.sendEvent}).parseSprites();return await this.sendEvent(be.PARSED_COUNT,`Parsed ${r.length} sprites with ${r.reduce(((e,t)=>e+t.frames.length),0)} frames`),[r]}})),t=e.map((e=>e[0]));return this.setSprites(t),t}setSprites(e){this._wadStructs.forEach(((t,r)=>{t.sprites=e[r]}))}async sprites(){return function(e){const t=[],r=new Map,n=[];for(const t of e)for(const e of t){const t=`${e.name}_${e.animation}`;r.has(t)||n.push(t),r.set(t,e)}for(const e of n)t.push(r.get(e));return t.filter((e=>void 0!==e))}((await this.spritesList()).filter((e=>void 0!==e)))}async menuGraphicsList(){const e=(await this.parseForAllWads(["menuGraphics"],(async()=>await this.directories()),(async(e,t)=>{if(t[e]){await this.sendEvent(be.MENU_GRAPHICS_PARSING,`Menu graphics parsing for ${this._fileUrls[e]}`);const r=new Sr({lumps:[],dir:t[e],file:this._wadFiles[e],sendEvent:this.sendEvent}).parseMenuGraphics();return await this.sendEvent(be.PARSED_COUNT,`Parsed ${r.length} menu graphics`),[r]}}))).map((e=>e[0]));return this.setMenuGraphics(e),e}setMenuGraphics(e){this._wadStructs.forEach(((t,r)=>{t.menuGraphics=e[r]}))}async menuGraphics(){return Ge((await this.menuGraphicsList()).filter((e=>void 0!==e)))}async stbarGraphicsList(){const e=(await this.parseForAllWads(["stbarGraphics"],(async()=>await this.directories()),(async(e,t)=>{if(t[e]){await this.sendEvent(be.STBAR_GRAPHICS_PARSING,`Stbar graphics parsing for ${this._fileUrls[e]}`);const r=new Rr({lumps:[],dir:t[e],file:this._wadFiles[e],sendEvent:this.sendEvent}).parseStbarGraphics();return await this.sendEvent(be.PARSED_COUNT,`Parsed ${r.length} stbar graphics`),[r]}}))).map((e=>e[0]));return this.setStbarGraphics(e),e}setStbarGraphics(e){this._wadStructs.forEach(((t,r)=>{t.stbarGraphics=e[r]}))}async stbarGraphics(){return Ge((await this.stbarGraphicsList()).filter((e=>void 0!==e)))}async musicList(){const e=await this.parseForAllWads(["music"],(async()=>await this.directories()),(async(e,t)=>{if(t[e]){await this.sendEvent(be.MUSIC_PARSING,`Music parsing for ${this._fileUrls[e]}`);const r=new yr({lumps:[],dir:t[e],file:this._wadFiles[e],sendEvent:this.sendEvent,mapInfo:await this.mapInfo(),dehacked:await this.dehacked()}),[n,i]=await r.parseMusic();return await this.sendEvent(be.PARSED_COUNT,`Parsed ${n.length} music files`),[n,i]}})),t=e.map((e=>e[0])),r=e.map((e=>e[1]));return this.setMusics(t),this.setMusInfos(r),t}setMusics(e){this._wadStructs.forEach(((t,r)=>{t.music=e[r]}))}async music(){return function(e){const t=[],r=new Map,n=[];for(const t of e)for(const e of t)r.has(e.name)||n.push(e.name),r.set(e.name,e);for(const e of n)t.push(r.get(e));return t.filter((e=>void 0!==e))}((await this.musicList()).filter((e=>void 0!==e)))}async musInfos(){return await this.musicList(),this._wadStructs.map((e=>e.musInfo))}setMusInfos(e){this._wadStructs.forEach(((t,r)=>{t.musInfo=e[r]}))}async musInfo(){return function(e){const t={},r={},n=(e,...t)=>{for(const r of t)e.includes(r)||e.push(r)};for(const i of e){for(const[e,r]of Object.entries(i.mapToMusic))t[e]||(t[e]={music:[]}),n(t[e].music,...r.music);for(const[e,t]of Object.entries(i.musicToMap))r[e]||(r[e]=[]),n(r[e],...t)}for(const[e,i]of Object.entries(t))for(const t of i.music)r[t]||(r[t]=[]),n(r[t],e);for(const[e,i]of Object.entries(r))for(const r of i)t[r]||(t[r]={music:[]}),n(t[r].music,e);return{mapToMusic:t,musicToMap:r}}((await this.musInfos()).filter((e=>void 0!==e)))}}var Cr=r(5072),Lr=r.n(Cr),Nr=r(7825),Pr=r.n(Nr),wr=r(7659),Mr=r.n(wr),Dr=r(5056),Ur=r.n(Dr),Br=r(540),Gr=r.n(Br),Hr=r(1113),Fr=r.n(Hr),kr=r(8993),Yr={};Yr.styleTagTransform=Fr(),Yr.setAttributes=Ur(),Yr.insert=Mr().bind(null,"head"),Yr.domAPI=Pr(),Yr.insertStyleElement=Gr();Lr()(kr.A,Yr);kr.A&&kr.A.locals&&kr.A.locals;var Wr=r(6574),Xr={};Xr.styleTagTransform=Fr(),Xr.setAttributes=Ur(),Xr.insert=Mr().bind(null,"head"),Xr.domAPI=Pr(),Xr.insertStyleElement=Gr();Lr()(Wr.A,Xr);Wr.A&&Wr.A.locals&&Wr.A.locals;var Vr=r(1208),Kr={};Kr.styleTagTransform=Fr(),Kr.setAttributes=Ur(),Kr.insert=Mr().bind(null,"head"),Kr.domAPI=Pr(),Kr.insertStyleElement=Gr();Lr()(Vr.A,Kr);Vr.A&&Vr.A.locals&&Vr.A.locals;var jr=r(3340),zr={};zr.styleTagTransform=Fr(),zr.setAttributes=Ur(),zr.insert=Mr().bind(null,"head"),zr.domAPI=Pr(),zr.insertStyleElement=Gr();Lr()(jr.A,zr);jr.A&&jr.A.locals&&jr.A.locals;var Zr=r(1183),$r={};$r.styleTagTransform=Fr(),$r.setAttributes=Ur(),$r.insert=Mr().bind(null,"head"),$r.domAPI=Pr(),$r.insertStyleElement=Gr();Lr()(Zr.A,$r);Zr.A&&Zr.A.locals&&Zr.A.locals;var qr=r(8638),Qr={};Qr.styleTagTransform=Fr(),Qr.setAttributes=Ur(),Qr.insert=Mr().bind(null,"head"),Qr.domAPI=Pr(),Qr.insertStyleElement=Gr();Lr()(qr.A,Qr);qr.A&&qr.A.locals&&qr.A.locals;var Jr=r(3413),en={};en.styleTagTransform=Fr(),en.setAttributes=Ur(),en.insert=Mr().bind(null,"head"),en.domAPI=Pr(),en.insertStyleElement=Gr();Lr()(Jr.A,en);Jr.A&&Jr.A.locals&&Jr.A.locals;var tn=r(4702),rn={};rn.styleTagTransform=Fr(),rn.setAttributes=Ur(),rn.insert=Mr().bind(null,"head"),rn.domAPI=Pr(),rn.insertStyleElement=Gr();Lr()(tn.A,rn);tn.A&&tn.A.locals&&tn.A.locals;var nn=r(1118),on={};on.styleTagTransform=Fr(),on.setAttributes=Ur(),on.insert=Mr().bind(null,"head"),on.domAPI=Pr(),on.insertStyleElement=Gr();Lr()(nn.A,on);nn.A&&nn.A.locals&&nn.A.locals;var sn=r(6801),an={};an.styleTagTransform=Fr(),an.setAttributes=Ur(),an.insert=Mr().bind(null,"head"),an.domAPI=Pr(),an.insertStyleElement=Gr();Lr()(sn.A,an);sn.A&&sn.A.locals&&sn.A.locals;var hn=r(6721),cn={};cn.styleTagTransform=Fr(),cn.setAttributes=Ur(),cn.insert=Mr().bind(null,"head"),cn.domAPI=Pr(),cn.insertStyleElement=Gr();Lr()(hn.A,cn);hn.A&&hn.A.locals&&hn.A.locals;var ln=r(1248),un={};un.styleTagTransform=Fr(),un.setAttributes=Ur(),un.insert=Mr().bind(null,"head"),un.domAPI=Pr(),un.insertStyleElement=Gr();Lr()(ln.A,un);ln.A&&ln.A.locals&&ln.A.locals;var dn=r(9307),fn={};fn.styleTagTransform=Fr(),fn.setAttributes=Ur(),fn.insert=Mr().bind(null,"head"),fn.domAPI=Pr(),fn.insertStyleElement=Gr();Lr()(dn.A,fn);dn.A&&dn.A.locals&&dn.A.locals;var pn=r(9281),_n={};_n.styleTagTransform=Fr(),_n.setAttributes=Ur(),_n.insert=Mr().bind(null,"head"),_n.domAPI=Pr(),_n.insertStyleElement=Gr();Lr()(pn.A,_n);pn.A&&pn.A.locals&&pn.A.locals;var En=r(7131),gn={};gn.styleTagTransform=Fr(),gn.setAttributes=Ur(),gn.insert=Mr().bind(null,"head"),gn.domAPI=Pr(),gn.insertStyleElement=Gr();Lr()(En.A,gn);En.A&&En.A.locals&&En.A.locals;var bn=r(2034),mn={};mn.styleTagTransform=Fr(),mn.setAttributes=Ur(),mn.insert=Mr().bind(null,"head"),mn.domAPI=Pr(),mn.insertStyleElement=Gr();Lr()(bn.A,mn);bn.A&&bn.A.locals&&bn.A.locals;var Tn=r(4676),An={};An.styleTagTransform=Fr(),An.setAttributes=Ur(),An.insert=Mr().bind(null,"head"),An.domAPI=Pr(),An.insertStyleElement=Gr();Lr()(Tn.A,An);Tn.A&&Tn.A.locals&&Tn.A.locals;var xn=r(3247),Sn={};Sn.styleTagTransform=Fr(),Sn.setAttributes=Ur(),Sn.insert=Mr().bind(null,"head"),Sn.domAPI=Pr(),Sn.insertStyleElement=Gr();Lr()(xn.A,Sn);xn.A&&xn.A.locals&&xn.A.locals;var yn=r(8558),In={};In.styleTagTransform=Fr(),In.setAttributes=Ur(),In.insert=Mr().bind(null,"head"),In.domAPI=Pr(),In.insertStyleElement=Gr();Lr()(yn.A,In);yn.A&&yn.A.locals&&yn.A.locals;var On=r(3464),Rn={};Rn.styleTagTransform=Fr(),Rn.setAttributes=Ur(),Rn.insert=Mr().bind(null,"head"),Rn.domAPI=Pr(),Rn.insertStyleElement=Gr();Lr()(On.A,Rn);On.A&&On.A.locals&&On.A.locals;var vn=r(4735),Cn={};Cn.styleTagTransform=Fr(),Cn.setAttributes=Ur(),Cn.insert=Mr().bind(null,"head"),Cn.domAPI=Pr(),Cn.insertStyleElement=Gr();Lr()(vn.A,Cn);vn.A&&vn.A.locals&&vn.A.locals;var Ln=r(8301),Nn={};Nn.styleTagTransform=Fr(),Nn.setAttributes=Ur(),Nn.insert=Mr().bind(null,"head"),Nn.domAPI=Pr(),Nn.insertStyleElement=Gr();Lr()(Ln.A,Nn);Ln.A&&Ln.A.locals&&Ln.A.locals;var Pn=r(5408),wn={};wn.styleTagTransform=Fr(),wn.setAttributes=Ur(),wn.insert=Mr().bind(null,"head"),wn.domAPI=Pr(),wn.insertStyleElement=Gr();Lr()(Pn.A,wn);Pn.A&&Pn.A.locals&&Pn.A.locals;let Mn="<no file>",Dn="<no page selected>",Un=!1,Bn=!1;const Gn=e=>{Dn=e,Hn()},Hn=()=>{const e=document.getElementById("topbar-head");e&&(e.innerText=`${Mn} | ${Dn}`)},Fn=[{project:"js-mod-player",author:"Anders Tornblad (atornblad)",text:"",link:"https://github.com/atornblad/js-mod-player",license:"https://github.com/atornblad/js-mod-player/blob/main/LICENSE.md",modificationsMade:["- Added type definitions","- Added functionality to load straight from a buffer","- Added global CustomEvent dispatchers to row and stop messages from AudioWorklet","- Added ability to enable subscriptions by default to allow listening to CustomEvents","- Modified default behaviour to stop playback after mod ends"]},{project:"mus2midi",author:"Gareth Williams (gareththegeek)",text:"",link:"https://github.com/gareththegeek/mus2midi",license:"https://github.com/gareththegeek/mus2midi/blob/main/LICENSE",modificationsMade:["- Modified event generation to log errors instead of throwing an error"]},{project:"timidity (not affiliated with timidity++)",author:"Feross Aboukhadijeh (feross)",text:"",link:"https://github.com/feross/timidity",license:"https://github.com/feross/timidity/blob/master/LICENSE",modificationsMade:["- Added partial typings to libtimidity.js and bindings of libtimidity.wasm","- Took original timidity.js and converted it to TypeScript","- Changed (badly) the way Audio is played to use AudioWorklets and created midiAudioProcessor.js to consume and play buffers created by timidity.ts","- Modified original timidity.cfg to one used by eawpats and hard coded loading of additional .cfg files used by the master config"]},{project:"eawpats",author:"Eric A. Welsh (for compiling the package)",text:"I can't find sources for the original patches, so attribution goes to Eric A. Welsh for compiling the package. Most of the patches are in public domain, but ones detailed in the email from Andrew Suffield (license link) define the ones that are for non-commercial use only. The actual license for these patches is unknown.",link:"https://www.doomworld.com/idgames/sounds/eawpats",license:"https://lists.debian.org/debian-legal/2002/09/msg00137.html",modificationsMade:""},{project:"pixijs v6",author:"pixijs",text:"",link:"https://github.com/pixijs/pixijs",license:"https://github.com/pixijs/pixijs/blob/dev/LICENSE",modificationsMade:""},{project:"ttf-moderndos",author:"Jayvee Enaguas (HarvettFox96)",text:"",link:"https://notabug.org/HarvettFox96/ttf-moderndos",license:"https://notabug.org/HarvettFox96/ttf-moderndos/src/master/LICENSE",modificationsMade:""},{project:"RobotoMono-Regular",author:"Christian Robertson",text:"",link:"https://fonts.google.com/specimen/Roboto+Mono",license:"https://fonts.google.com/specimen/Roboto+Mono/license",modificationsMade:""},{project:"DOOM1.WAD",author:"id Software",text:"Distributed as shareware",link:"",license:"",modificationsMade:""}],kn="attribution-label";function Yn(){Gn("Attributions");const e=pE("attributions"),t=document.createElement("div");t.id="attributions-container",function(e){for(const t of Fn){const r=document.createElement("div");r.className="attribution-item";const n=(e,t)=>{if(""===t)return null;const r=document.createElement("p");if(e){const t=document.createElement("span");t.className=kn,t.textContent=`${e}: `,r.appendChild(t)}const n=document.createElement("span");return n.className="attribution-value",n.textContent="string"==typeof t?t:`\n${t.join("\n")}`,r.appendChild(n),r},i=(e,t)=>{if(""===t)return null;const n=document.createElement("p"),i=document.createElement("span");i.className=kn,i.textContent=`${e}: `;const o=document.createElement("a");return o.href=t,o.textContent=t,o.target="_blank",o.rel="noopener noreferrer",n.appendChild(i),n.appendChild(o),r.appendChild(n),n},o=n("Project",t.project);o&&r.appendChild(o);const s=n("Author",t.author);s&&r.appendChild(s);const a=i("Link",t.link);a&&r.appendChild(a);const h=i("License",t.license);h&&r.appendChild(h);const c=n("Modifications",t.modificationsMade);c&&r.appendChild(c);const l=n("",t.text);l&&r.appendChild(l),e.appendChild(r)}}(t),e.appendChild(t)}const Wn=(e,t,r)=>{const n=document.createElement("div");n.style.margin="20px";const i=document.createElement("canvas"),o=i.getContext("2d");o&&(i.width=768,i.height=102,t.forEach(((e,t)=>{e.forEach(((e,n)=>{o.fillStyle=r[e].hex;const i=n%256*3,s=3*t;o.fillRect(i,s,3,3)}))})),n.appendChild(i),e.appendChild(n))};let Xn=null;const Vn="dir-window-container";let Kn=Math.floor((window.innerHeight-80)/17);window.addEventListener("resize",(()=>{document.getElementById(Vn)&&(Kn=Math.floor((window.innerHeight-80)/17),zn())}));let jn=[];const zn=()=>{Gn("Directory"),jn=HE(),jn.sort(((e,t)=>e.wadIdx-t.wadIdx));const e=pE("directory"),t=document.createElement("div");t.id=Vn,t.classList.add("dir-container"),e.appendChild(t);const r=[];let n=[];jn.forEach(((e,t)=>{n.push(e),(t+1)%Kn===0&&(r.push(n),n=[])})),r.push(n),r.forEach(((e,r)=>{const n=document.createElement("div"),i=e=>{const t=document.createElement("div");return t.innerHTML=e.toString(),t},o=document.createElement("div");o.style.fontWeight="bold",o.appendChild(i("idx")),o.appendChild(i("name")),o.appendChild(i("location")),o.appendChild(i("size")),o.appendChild(i("type")),o.appendChild(i("wad")),n.appendChild(o),e.forEach(((e,t)=>{const o=document.createElement("div");o.appendChild(i(r*Kn+t)),o.appendChild(i(e.lumpName)),o.appendChild(i(e.lumpLocation)),o.appendChild(i(e.lumpSize)),o.appendChild(i(e.type)),o.appendChild(i(e.wadFileName)),n.appendChild(o)})),t.appendChild(n)}))};let Zn=[],$n=[],qn="on";const Qn=()=>{for(const e of $n)clearInterval(e);$n=[]},Jn="https://cors.lauri.lat/";var ei=r(8078);const ti="log-window-messages";let ri=[];const ni=()=>{ri=[];const e=document.getElementById(ti);e&&(e.innerHTML="")},ii=(e,t=!1,r=!1)=>{const n=document.getElementById(ti);if(n){const i=document.createElement("p");if(i.textContent=e,r){const e=Array.from(n.children);e[e.length-1].parentElement?.removeChild(e[e.length-1]),ri.pop()}n.appendChild(i),t||ri.push(e)}};let oi=null;const si=async e=>{ni(),_E("log"),ii(`Trying to load ${e}`);const t=`${window.location.origin}?file=${encodeURIComponent(e)}`;if(window.history.replaceState({},"",t),e.toLowerCase().split(/(?=.zip)/g).pop()?.startsWith(".zip"))try{ii(`Loading ${e}`);const t=await hi(Jn+e);if(t){const{entries:r}=await(0,ei.$1)(t);await ai(r,e.split("/").pop()||"unknown")}}catch(e){ii("Failed to fetch the zip from provided URL.¯\\_(ツ)_/¯")}else if(e.toLowerCase().split(/(?=.wad)/g).pop()?.startsWith(".wad")){const t=await hi(Jn+e);oi&&t&&oi.loadArrayBuffer(t,e)}else ii("Cannot determine if it is zip or wad from the URL. Or maybe it was not a file at all ¯\\_(ツ)_/¯")},ai=async(e,t)=>{const r=Object.entries(e).filter((e=>e[0].toLowerCase().endsWith(".wad"))),n=Object.entries(e).filter((e=>e[0].toLowerCase().endsWith(".deh")));if(0===r.length)return void ii("No wad files found in zip");const i=r.sort((([,e],[,t])=>t.size-e.size)).map((e=>e[1]));let o=null;if(n.length>0&&(o=n[0][1]),ii(`Selecting ${i.map((e=>e.name)).join(", ")} ${o?` and external DEH file ${o.name}`:""}`),oi){const e=[],r=[];for(const t of i)e.push(await t.arrayBuffer());r.push(...i.map((e=>e.name))),o&&(e.push(await o.arrayBuffer()),r.push(o.name)),oi.loadArrayBuffers(e,r,t)}},hi=async e=>{const t=await fetch(e);if(!t.body||!t.headers)return null;const r=t.body.getReader(),n=t.headers.get("Content-Length"),i=n?+n:0;let o=0,s=!0,a=!0;const h=[];for(;s;){const{done:e,value:t}=await r.read();if(e){s=!1;break}h.push(t),o+=t.length,ii(`Received ${o} of ${i} (${(o/i*100).toFixed(2)}%)`,!1,!a),a=!1}const c=new Uint8Array(o);let l=0;for(const e of h)c.set(e,l),l+=e.length;return c.buffer},ci=e=>{const t=document.createElement("div");t.classList.add("spinner-loader");for(let e=0;e<8;e++)t.appendChild(document.createElement("div"));return t.id=e,t},li=e=>{const t=document.getElementById(e);t&&t.parentElement?.removeChild(t)},ui="ex-search-window",di="ex-search-window-searchdiv",fi="ex-search-window-searchbutton",pi="ex-search-window-results",_i=["https://www.quaddicted.com/files/idgames/","https://ftpmirror1.infania.net/pub/idgames/","https://youfailit.net/pub/idgames/","https://www.gamers.org/pub/idgames/"],Ei="https://dsdarchive.com";let gi=null,bi=null;const mi=(e,t)=>{xi();const r=encodeURIComponent(e);t.appendChild(ci("idgames-loader")),fetch(`${Jn+"https://www.doomworld.com/idgames/api/api.php?"}action=search&query=${r}&type=title&sort=date&out=json`).then((async e=>{gi=null,gi=await e.json(),Si("idgames")})).finally((()=>{li("idgames-loader")}))},Ti=(e,t)=>{const r=e=>{const[t]=Array.from(e.getElementsByTagName("h1")),[r]=Array.from(e.getElementsByClassName("p-short one-line"));if(t&&r){const e=t.firstChild,n=r.firstElementChild;return{title:e.innerText,fileUrl:e.href.replace(window.location.origin,`${Ei}/`),dsdaUrl:n.href.replace(window.location.origin,`${Ei}`).replace("/table_view","")}}return null};xi();const n=encodeURIComponent(e);t.appendChild(ci("dsda-loader")),fetch(`${Jn+Ei}/search?utf8=%E2%9C%93&search=${n}&commit=Search`).then((async e=>{bi=null;const t=new DOMParser,n=t.parseFromString(await e.text(),"text/html");if("Search | DSDA"===n.title){const e=Array.from(n.getElementsByTagName("a")).filter((e=>e.href.includes("/wads/"))).map((e=>e.href.replace(window.location.origin,"/"))).map((e=>fetch(Jn+Ei+e).then((async e=>r(t.parseFromString(await e.text(),"text/html")))))),i=await Promise.all(e);bi=i.filter((e=>null!==e))}else{const e=r(n);e&&(bi=[e])}Si("dsda")})).finally((()=>{li("dsda-loader")}))},Ai=(e,t)=>{const r=document.createElement("div"),n=document.createElement("p");n.innerText=`Search by title from ${e}`,r.appendChild(n);const i=document.createElement("div");i.id=`${di}-${e}`,i.classList.add(di);const o=document.createElement("input");o.type="text",o.oninput=t=>{const r=document.getElementById(`${fi}-${e}`),n=t.target.value.trim();r&&(n.length>=3&&r.disabled?r.disabled=!1:n.length<3&&!r.disabled&&(r.disabled=!0))},o.onkeydown=e=>{const n=e.target.value.trim();"Enter"===e.key&&n.length>=3&&r.parentElement&&t(o.value.trim(),r.parentElement)},i.appendChild(o);const s=document.createElement("button");return s.innerText="Search",s.id=`${fi}-${e}`,s.disabled=!0,s.onclick=()=>{r.parentElement&&t(o.value.trim(),r.parentElement)},i.appendChild(s),r.appendChild(i),r},xi=()=>{const e=document.getElementById(pi);e&&e.parentElement?.removeChild(e)},Si=e=>{xi();const t=document.getElementById(ui);if(!t)return;const r=document.createElement("div");r.id=pi;const n=document.createElement("div");if("idgames"===e){if(!gi)return;if(gi.content){const e=gi.content.file;if(Array.isArray(e))if(0===e.length)(()=>{const e=document.createElement("p");e.style.fontWeight="bold",e.innerText="No Results",r.appendChild(e);const t=document.createElement("p");t.innerText="Found some files but none were levels",r.appendChild(t)})();else{for(const t of e)n.appendChild(Ii(t));r.appendChild(n)}else n.appendChild(Ii(e)),r.appendChild(n)}else if(gi.warning){const e=document.createElement("p");e.style.fontWeight="bold",e.innerText=gi.warning.type,r.appendChild(e);const t=document.createElement("p");t.innerText=gi.warning.message,r.appendChild(t)}}else if("dsda"===e){if(!bi)return;for(const e of bi)n.appendChild(Oi(e));r.appendChild(n)}t.appendChild(r)},yi=(e,t)=>{const r=document.createElement("p");r.innerText=e;const n=document.createElement("span");return n.innerText=t,r.appendChild(n),r},Ii=e=>{const t=document.createElement("div"),r=document.createElement("p");r.innerText=e.title,t.appendChild(r),t.appendChild(yi("File: ",e.filename)),t.appendChild(yi("Dir: ",e.dir)),t.appendChild(yi("Size: ",`${((e,t=2)=>{if(!+e)return"0 Bytes";const r=t<0?0:t,n=Math.floor(Math.log(e)/Math.log(1024));return`${Number.parseFloat((e/1024**n).toFixed(r))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}`})(e.size)}`)),t.appendChild(yi("Author: ",e.author)),t.appendChild(yi("Email: ",e.email));const n=document.createElement("div");t.appendChild(n);const i=document.createElement("a");i.innerText="Open in idgames",i.href=e.url,i.target="_blank",i.rel="noopener noreferrer",n.appendChild(i);const o=document.createElement("button");return o.innerText="Load WAD",o.onclick=()=>{const t=_i[Math.floor(Math.random()*_i.length)];si(t+e.dir+e.filename)},n.appendChild(o),t},Oi=e=>{const t=document.createElement("div"),r=document.createElement("p");r.innerText=e.title,t.appendChild(r),t.appendChild(yi("File: ",e.fileUrl.split("/").pop()??""));const n=document.createElement("div");t.appendChild(n);const i=document.createElement("a");i.innerText="Open in DSDA",i.href=e.dsdaUrl,i.target="_blank",i.rel="noopener noreferrer",n.appendChild(i);const o=document.createElement("button");return o.innerText="Load WAD",o.onclick=()=>{si(e.fileUrl)},n.appendChild(o),t},Ri=(e,t)=>{const r=document.createElement("div");r.id=e,r.onclick=()=>{vi(e)},r.className="full-screen-modal";const n=document.createElement("button");n.innerText="CLOSE",n.className="full-screen-modal-close",n.onclick=()=>{vi(e)},r.appendChild(n);const i=document.createElement("div");i.className="full-screen-modal-content",i.appendChild(t),i.addEventListener("click",(e=>{e.stopImmediatePropagation()})),r.appendChild(i),document.body.appendChild(r)},vi=e=>{const t=document.getElementById(e);t&&t.parentElement?.removeChild(t)};let Ci;const Li=(e,t=!0,r=1)=>{const n=document.createElement("div"),i=document.createElement("canvas");i.height=e.height*r,i.width=e.width*r,n.appendChild(i);const o=i.getContext("2d");if(!o)return n;const s=o.createImageData(e.width,e.height,{colorSpace:"srgb"});if(((e,t)=>{const r=YE()[0]??xe;if(r)for(let n=0;n<e.pixels.length;n++){const i=4*n;t.data[i]=r.typedPlaypal[0][e.pixels[n]].r,t.data[i+1]=r.typedPlaypal[0][e.pixels[n]].g,t.data[i+2]=r.typedPlaypal[0][e.pixels[n]].b,t.data[i+3]=255}})(e,s),o.imageSmoothingEnabled=!1,o.putImageData(s,0,0),1!==r){const e=new Image;e.onload=()=>{o.clearRect(0,0,i.width,i.height),o.scale(r,r),o.drawImage(e,0,0)},e.src=i.toDataURL()}return t&&i.addEventListener("click",(()=>{Ni(e)})),n},Ni=e=>{const t=document.createElement("div");t.style.border="1px solid white",t.appendChild(Li(e,!1,4)),Ri("flat-view",t)};let Pi=null;let wi=[];var Mi,Di=2*Math.PI,Ui=180/Math.PI,Bi=Math.PI/180;!function(e){e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC"}(Mi||(Mi={}));var Gi=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=0,this.y=0,this.x=e,this.y=t}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},e.prototype.copyTo=function(e){return e.set(this.x,this.y),e},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x=e,this.y=t,this},e.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},e}(),Hi=[new Gi,new Gi,new Gi,new Gi],Fi=function(){function e(e,t,r,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=Number(e),this.y=Number(t),this.width=Number(r),this.height=Number(n),this.type=Mi.RECT}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EMPTY",{get:function(){return new e(0,0,0,0)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},e.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},e.prototype.contains=function(e,t){return!(this.width<=0||this.height<=0)&&(e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height)},e.prototype.intersects=function(e,t){if(!t){var r=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=r)return!1;var n=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>n}var i=this.left,o=this.right,s=this.top,a=this.bottom;if(o<=i||a<=s)return!1;var h=Hi[0].set(e.left,e.top),c=Hi[1].set(e.left,e.bottom),l=Hi[2].set(e.right,e.top),u=Hi[3].set(e.right,e.bottom);if(l.x<=h.x||c.y<=h.y)return!1;var d=Math.sign(t.a*t.d-t.b*t.c);if(0===d)return!1;if(t.apply(h,h),t.apply(c,c),t.apply(l,l),t.apply(u,u),Math.max(h.x,c.x,l.x,u.x)<=i||Math.min(h.x,c.x,l.x,u.x)>=o||Math.max(h.y,c.y,l.y,u.y)<=s||Math.min(h.y,c.y,l.y,u.y)>=a)return!1;var f=d*(c.y-h.y),p=d*(h.x-c.x),_=f*i+p*s,E=f*o+p*s,g=f*i+p*a,b=f*o+p*a;if(Math.max(_,E,g,b)<=f*h.x+p*h.y||Math.min(_,E,g,b)>=f*u.x+p*u.y)return!1;var m=d*(h.y-l.y),T=d*(l.x-h.x),A=m*i+T*s,x=m*o+T*s,S=m*i+T*a,y=m*o+T*a;return!(Math.max(A,x,S,y)<=m*h.x+T*h.y||Math.min(A,x,S,y)>=m*u.x+T*u.y)},e.prototype.pad=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},e.prototype.fit=function(e){var t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),n=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=n,this.height=Math.max(i-n,0),this},e.prototype.ceil=function(e,t){void 0===e&&(e=1),void 0===t&&(t=.001);var r=Math.ceil((this.x+this.width-t)*e)/e,n=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=n-this.y,this},e.prototype.enlarge=function(e){var t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),n=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=n,this.height=i-n,this},e.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),ki=function(){function e(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),this.x=e,this.y=t,this.radius=r,this.type=Mi.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(e,t){if(this.radius<=0)return!1;var r=this.radius*this.radius,n=this.x-e,i=this.y-t;return(n*=n)+(i*=i)<=r},e.prototype.getBounds=function(){return new Fi(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},e.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},e}(),Yi=function(){function e(e,t,r,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=e,this.y=t,this.width=r,this.height=n,this.type=Mi.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var r=(e-this.x)/this.width,n=(t-this.y)/this.height;return(r*=r)+(n*=n)<=1},e.prototype.getBounds=function(){return new Fi(this.x-this.width,this.y-this.height,this.width,this.height)},e.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),Wi=function(){function e(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];var n=Array.isArray(t[0])?t[0]:t;if("number"!=typeof n[0]){for(var i=[],o=0,s=n.length;o<s;o++)i.push(n[o].x,n[o].y);n=i}this.points=n,this.type=Mi.POLY,this.closeStroke=!0}return e.prototype.clone=function(){var t=new e(this.points.slice());return t.closeStroke=this.closeStroke,t},e.prototype.contains=function(e,t){for(var r=!1,n=this.points.length/2,i=0,o=n-1;i<n;o=i++){var s=this.points[2*i],a=this.points[2*i+1],h=this.points[2*o],c=this.points[2*o+1];a>t!=c>t&&e<(t-a)/(c-a)*(h-s)+s&&(r=!r)}return r},e.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce((function(e,t){return e+", "+t}),"")+"]"},e}(),Xi=function(){function e(e,t,r,n,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=0),void 0===i&&(i=20),this.x=e,this.y=t,this.width=r,this.height=n,this.radius=i,this.type=Mi.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){var r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+r&&t<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;var n=e-(this.x+r),i=t-(this.y+r),o=r*r;if(n*n+i*i<=o)return!0;if((n=e-(this.x+this.width-r))*n+i*i<=o)return!0;if(n*n+(i=t-(this.y+this.height-r))*i<=o)return!0;if((n=e-(this.x+r))*n+i*i<=o)return!0}return!1},e.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},e}(),Vi=function(){function e(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=0),this._x=r,this._y=n,this.cb=e,this.scope=t}return e.prototype.clone=function(t,r){return void 0===t&&(t=this.cb),void 0===r&&(r=this.scope),new e(t,r,this._x,this._y)},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this._x===e&&this._y===t||(this._x=e,this._y=t,this.cb.call(this.scope)),this},e.prototype.copyFrom=function(e){return this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},e.prototype.copyTo=function(e){return e.set(this._x,this._y),e},e.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},e.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),e}(),Ki=function(){function e(e,t,r,n,i,o){void 0===e&&(e=1),void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=1),void 0===i&&(i=0),void 0===o&&(o=0),this.array=null,this.a=e,this.b=t,this.c=r,this.d=n,this.tx=i,this.ty=o}return e.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},e.prototype.set=function(e,t,r,n,i,o){return this.a=e,this.b=t,this.c=r,this.d=n,this.tx=i,this.ty=o,this},e.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},e.prototype.apply=function(e,t){t=t||new Gi;var r=e.x,n=e.y;return t.x=this.a*r+this.c*n+this.tx,t.y=this.b*r+this.d*n+this.ty,t},e.prototype.applyInverse=function(e,t){t=t||new Gi;var r=1/(this.a*this.d+this.c*-this.b),n=e.x,i=e.y;return t.x=this.d*r*n+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*i+-this.b*r*n+(-this.ty*this.a+this.tx*this.b)*r,t},e.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},e.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},e.prototype.rotate=function(e){var t=Math.cos(e),r=Math.sin(e),n=this.a,i=this.c,o=this.tx;return this.a=n*t-this.b*r,this.b=n*r+this.b*t,this.c=i*t-this.d*r,this.d=i*r+this.d*t,this.tx=o*t-this.ty*r,this.ty=o*r+this.ty*t,this},e.prototype.append=function(e){var t=this.a,r=this.b,n=this.c,i=this.d;return this.a=e.a*t+e.b*n,this.b=e.a*r+e.b*i,this.c=e.c*t+e.d*n,this.d=e.c*r+e.d*i,this.tx=e.tx*t+e.ty*n+this.tx,this.ty=e.tx*r+e.ty*i+this.ty,this},e.prototype.setTransform=function(e,t,r,n,i,o,s,a,h){return this.a=Math.cos(s+h)*i,this.b=Math.sin(s+h)*i,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=e-(r*this.a+n*this.c),this.ty=t-(r*this.b+n*this.d),this},e.prototype.prepend=function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var r=this.a,n=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},e.prototype.decompose=function(e){var t=this.a,r=this.b,n=this.c,i=this.d,o=e.pivot,s=-Math.atan2(-n,i),a=Math.atan2(r,t),h=Math.abs(s+a);return h<1e-5||Math.abs(Di-h)<1e-5?(e.rotation=a,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=s,e.skew.y=a),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(n*n+i*i),e.position.x=this.tx+(o.x*t+o.y*n),e.position.y=this.ty+(o.x*r+o.y*i),e},e.prototype.invert=function(){var e=this.a,t=this.b,r=this.c,n=this.d,i=this.tx,o=e*n-t*r;return this.a=n/o,this.b=-t/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-n*i)/o,this.ty=-(e*this.ty-t*i)/o,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},e.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},e.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!1,configurable:!0}),e}(),ji=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],zi=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Zi=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],$i=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],qi=[],Qi=[],Ji=Math.sign;!function(){for(var e=0;e<16;e++){var t=[];qi.push(t);for(var r=0;r<16;r++)for(var n=Ji(ji[e]*ji[r]+Zi[e]*zi[r]),i=Ji(zi[e]*ji[r]+$i[e]*zi[r]),o=Ji(ji[e]*Zi[r]+Zi[e]*$i[r]),s=Ji(zi[e]*Zi[r]+$i[e]*$i[r]),a=0;a<16;a++)if(ji[a]===n&&zi[a]===i&&Zi[a]===o&&$i[a]===s){t.push(a);break}}for(e=0;e<16;e++){var h=new Ki;h.set(ji[e],zi[e],Zi[e],$i[e],0,0),Qi.push(h)}}();var eo,to,ro,no,io,oo,so,ao,ho,co,lo,uo,fo,po,_o,Eo,go,bo,mo,To,Ao={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return ji[e]},uY:function(e){return zi[e]},vX:function(e){return Zi[e]},vY:function(e){return $i[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return qi[e][t]},sub:function(e,t){return qi[e][Ao.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2==(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?t>=0?Ao.S:Ao.N:2*Math.abs(t)<=Math.abs(e)?e>0?Ao.E:Ao.W:t>0?e>0?Ao.SE:Ao.SW:e>0?Ao.NE:Ao.NW},matrixAppendRotationInv:function(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var i=Qi[Ao.inv(t)];i.tx=r,i.ty=n,e.append(i)}},xo=function(){function e(){this.worldTransform=new Ki,this.localTransform=new Ki,this.position=new Vi(this.onChange,this,0,0),this.scale=new Vi(this.onChange,this,1,1),this.pivot=new Vi(this.onChange,this,0,0),this.skew=new Vi(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},e.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},e.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var r=e.worldTransform,n=this.worldTransform;n.a=t.a*r.a+t.b*r.c,n.b=t.a*r.b+t.b*r.d,n.c=t.c*r.a+t.d*r.c,n.d=t.c*r.b+t.d*r.d,n.tx=t.tx*r.a+t.ty*r.c+r.tx,n.ty=t.tx*r.b+t.ty*r.d+r.ty,this._parentID=e._worldID,this._worldID++}},e.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),e.IDENTITY=new e,e}();!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(eo||(eo={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(to||(to={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(ro||(ro={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(no||(no={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(io||(io={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(oo||(oo={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(so||(so={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(ao||(ao={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(ho||(ho={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(co||(co={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(lo||(lo={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(uo||(uo={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(fo||(fo={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(po||(po={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(_o||(_o={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(Eo||(Eo={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE",e[e.COLOR=4]="COLOR"}(go||(go={})),function(e){e[e.RED=1]="RED",e[e.GREEN=2]="GREEN",e[e.BLUE=4]="BLUE",e[e.ALPHA=8]="ALPHA"}(bo||(bo={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(mo||(mo={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(To||(To={}));var So={createCanvas:function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,r},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var e;return null!==(e=document.baseURI)&&void 0!==e?e:window.location.href},fetch:function(e,t){return fetch(e,t)}},yo=/iPhone/i,Io=/iPod/i,Oo=/iPad/i,Ro=/\biOS-universal(?:.+)Mac\b/i,vo=/\bAndroid(?:.+)Mobile\b/i,Co=/Android/i,Lo=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,No=/Silk/i,Po=/Windows Phone/i,wo=/\bWindows(?:.+)ARM\b/i,Mo=/BlackBerry/i,Do=/BB10/i,Uo=/Opera Mini/i,Bo=/\b(CriOS|Chrome)(?:.+)Mobile/i,Go=/Mobile(?:.+)Firefox\b/i,Ho=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};var Fo=function(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=t.userAgent,n=r.split("[FBAN");void 0!==n[1]&&(r=n[0]),void 0!==(n=r.split("Twitter"))[1]&&(r=n[0]);var i=function(e){return function(t){return t.test(e)}}(r),o={apple:{phone:i(yo)&&!i(Po),ipod:i(Io),tablet:!i(yo)&&(i(Oo)||Ho(t))&&!i(Po),universal:i(Ro),device:(i(yo)||i(Io)||i(Oo)||i(Ro)||Ho(t))&&!i(Po)},amazon:{phone:i(Lo),tablet:!i(Lo)&&i(No),device:i(Lo)||i(No)},android:{phone:!i(Po)&&i(Lo)||!i(Po)&&i(vo),tablet:!i(Po)&&!i(Lo)&&!i(vo)&&(i(No)||i(Co)),device:!i(Po)&&(i(Lo)||i(No)||i(vo)||i(Co))||i(/\bokhttp\b/i)},windows:{phone:i(Po),tablet:i(wo),device:i(Po)||i(wo)},other:{blackberry:i(Mo),blackberry10:i(Do),opera:i(Uo),firefox:i(Go),chrome:i(Bo),device:i(Mo)||i(Do)||i(Uo)||i(Go)||i(Bo)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}(globalThis.navigator);var ko={ADAPTER:So,MIPMAP_TEXTURES:uo.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:mo.NONE,SPRITE_MAX_TEXTURES:function(e){var t=!0;if(Fo.tablet||Fo.phone){var r;if(Fo.apple.device)if(r=navigator.userAgent.match(/OS (\d+)_(\d+)?/))parseInt(r[1],10)<11&&(t=!1);if(Fo.android.device)if(r=navigator.userAgent.match(/Android\s([0-9.]*)/))parseInt(r[1],10)<7&&(t=!1)}return t?e:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,antialias:!1,preserveDrawingBuffer:!1},GC_MODE:_o.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:lo.CLAMP,SCALE_MODE:co.LINEAR,PRECISION_VERTEX:Eo.HIGH,PRECISION_FRAGMENT:Fo.apple.device?Eo.HIGH:Eo.MEDIUM,CAN_UPLOAD_SAME_BUFFER:!Fo.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Yo=r(228),Wo=r(6570),Xo=r(8835),Vo={parse:Xo.qg,format:Xo.GP,resolve:Xo.hd};ko.RETINA_PREFIX=/@([0-9\.]+)x/,ko.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Ko,jo=!1,zo="6.5.10";var Zo={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function $o(e,t){return void 0===t&&(t=[]),t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t}function qo(e){var t=e.toString(16);return"#"+(t="000000".substring(0,6-t.length)+t)}function Qo(e){return"string"==typeof e&&"#"===(e=Zo[e.toLowerCase()]||e)[0]&&(e=e.slice(1)),parseInt(e,16)}var Jo=function(){for(var e=[],t=[],r=0;r<32;r++)e[r]=r,t[r]=r;e[no.NORMAL_NPM]=no.NORMAL,e[no.ADD_NPM]=no.ADD,e[no.SCREEN_NPM]=no.SCREEN,t[no.NORMAL]=no.NORMAL_NPM,t[no.ADD]=no.ADD_NPM,t[no.SCREEN]=no.SCREEN_NPM;var n=[];return n.push(t),n.push(e),n}();function es(e,t){return Jo[t?1:0][e]}function ts(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var r=e>>16&255,n=e>>8&255,i=255&e;return(255*t<<24)+((r=r*t+.5|0)<<16)+((n=n*t+.5|0)<<8)+(i=i*t+.5|0)}function rs(e,t,r,n){return(r=r||new Float32Array(4))[0]=(e>>16&255)/255,r[1]=(e>>8&255)/255,r[2]=(255&e)/255,(n||void 0===n)&&(r[0]*=t,r[1]*=t,r[2]*=t),r[3]=t,r}function ns(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}Float32Array,Uint32Array,Int32Array,Uint8Array;function is(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1}function os(e){return!(e&e-1||!e)}function ss(e){var t=(e>65535?1:0)<<4,r=((e>>>=t)>255?1:0)<<3;return t|=r,t|=r=((e>>>=r)>15?1:0)<<2,(t|=r=((e>>>=r)>3?1:0)<<1)|(e>>>=r)>>1}function as(e,t,r){var n,i=e.length;if(!(t>=i||0===r)){var o=i-(r=t+r>i?i-t:r);for(n=t;n<o;++n)e[n]=e[n+r];e.length=o}}function hs(e){return 0===e?0:e<0?-1:1}var cs=0;function ls(){return++cs}var us={};function ds(e,t,r){if(void 0===r&&(r=3),!us[t]){var n=(new Error).stack;void 0===n||(n=n.split("\n").splice(r).join("\n"),console.groupCollapsed),us[t]=!0}}var fs={},ps=Object.create(null),_s=Object.create(null);var Es=function(){function e(e,t,r){this.canvas=ko.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=r||ko.RESOLUTION,this.resize(e,t)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(e,t){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(t*this.resolution)},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),e}();var gs;function bs(e,t){var r=ko.RETINA_PREFIX.exec(e);return r?parseFloat(r[1]):void 0!==t?t:1}ko.SORTABLE_CHILDREN=!1;var ms=function(){function e(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},e.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?Fi.EMPTY:((e=e||new Fi(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},e.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},e.prototype.addPointMatrix=function(e,t){var r=e.a,n=e.b,i=e.c,o=e.d,s=e.tx,a=e.ty,h=r*t.x+i*t.y+s,c=n*t.x+o*t.y+a;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)},e.prototype.addQuad=function(e){var t=this.minX,r=this.minY,n=this.maxX,i=this.maxY,o=e[0],s=e[1];t=o<t?o:t,r=s<r?s:r,n=o>n?o:n,i=s>i?s:i,t=(o=e[2])<t?o:t,r=(s=e[3])<r?s:r,n=o>n?o:n,i=s>i?s:i,t=(o=e[4])<t?o:t,r=(s=e[5])<r?s:r,n=o>n?o:n,i=s>i?s:i,t=(o=e[6])<t?o:t,r=(s=e[7])<r?s:r,n=o>n?o:n,i=s>i?s:i,this.minX=t,this.minY=r,this.maxX=n,this.maxY=i},e.prototype.addFrame=function(e,t,r,n,i){this.addFrameMatrix(e.worldTransform,t,r,n,i)},e.prototype.addFrameMatrix=function(e,t,r,n,i){var o=e.a,s=e.b,a=e.c,h=e.d,c=e.tx,l=e.ty,u=this.minX,d=this.minY,f=this.maxX,p=this.maxY,_=o*t+a*r+c,E=s*t+h*r+l;u=_<u?_:u,d=E<d?E:d,f=_>f?_:f,p=E>p?E:p,u=(_=o*n+a*r+c)<u?_:u,d=(E=s*n+h*r+l)<d?E:d,f=_>f?_:f,p=E>p?E:p,u=(_=o*t+a*i+c)<u?_:u,d=(E=s*t+h*i+l)<d?E:d,f=_>f?_:f,p=E>p?E:p,u=(_=o*n+a*i+c)<u?_:u,d=(E=s*n+h*i+l)<d?E:d,f=_>f?_:f,p=E>p?E:p,this.minX=u,this.minY=d,this.maxX=f,this.maxY=p},e.prototype.addVertexData=function(e,t,r){for(var n=this.minX,i=this.minY,o=this.maxX,s=this.maxY,a=t;a<r;a+=2){var h=e[a],c=e[a+1];n=h<n?h:n,i=c<i?c:i,o=h>o?h:o,s=c>s?c:s}this.minX=n,this.minY=i,this.maxX=o,this.maxY=s},e.prototype.addVertices=function(e,t,r,n){this.addVerticesMatrix(e.worldTransform,t,r,n)},e.prototype.addVerticesMatrix=function(e,t,r,n,i,o){void 0===i&&(i=0),void 0===o&&(o=i);for(var s=e.a,a=e.b,h=e.c,c=e.d,l=e.tx,u=e.ty,d=this.minX,f=this.minY,p=this.maxX,_=this.maxY,E=r;E<n;E+=2){var g=t[E],b=t[E+1],m=s*g+h*b+l,T=c*b+a*g+u;d=Math.min(d,m-i),p=Math.max(p,m+i),f=Math.min(f,T-o),_=Math.max(_,T+o)}this.minX=d,this.minY=f,this.maxX=p,this.maxY=_},e.prototype.addBounds=function(e){var t=this.minX,r=this.minY,n=this.maxX,i=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>n?e.maxX:n,this.maxY=e.maxY>i?e.maxY:i},e.prototype.addBoundsMask=function(e,t){var r=e.minX>t.minX?e.minX:t.minX,n=e.minY>t.minY?e.minY:t.minY,i=e.maxX<t.maxX?e.maxX:t.maxX,o=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=i&&n<=o){var s=this.minX,a=this.minY,h=this.maxX,c=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>h?i:h,this.maxY=o>c?o:c}},e.prototype.addBoundsMatrix=function(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)},e.prototype.addBoundsArea=function(e,t){var r=e.minX>t.x?e.minX:t.x,n=e.minY>t.y?e.minY:t.y,i=e.maxX<t.x+t.width?e.maxX:t.x+t.width,o=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=i&&n<=o){var s=this.minX,a=this.minY,h=this.maxX,c=this.maxY;this.minX=r<s?r:s,this.minY=n<a?n:a,this.maxX=i>h?i:h,this.maxY=o>c?o:c}},e.prototype.pad=function(e,t){void 0===e&&(e=0),void 0===t&&(t=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)},e.prototype.addFramePad=function(e,t,r,n,i,o){e-=i,t-=o,r+=i,n+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>n?this.maxY:n},e}(),Ts=function(e,t){return Ts=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Ts(e,t)};function As(e,t){function r(){this.constructor=e}Ts(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var xs=function(e){function t(){var t=e.call(this)||this;return t.tempDisplayObjectParent=null,t.transform=new xo,t.alpha=1,t.visible=!0,t.renderable=!0,t.cullable=!1,t.cullArea=null,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new ms,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._maskRefCount=0,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}return As(t,e),t.mixin=function(e){for(var r=Object.keys(e),n=0;n<r.length;++n){var i=r[n];Object.defineProperty(t.prototype,i,Object.getOwnPropertyDescriptor(e,i))}},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new Fi),t=this._boundsRect),this._bounds.getRectangle(t)},t.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new Fi),e=this._localBoundsRect),this._localBounds||(this._localBounds=new ms);var t=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var n=this._bounds,i=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,e);return this.parent=r,this.transform=t,this._bounds=n,this._bounds.updateID+=this._boundsID-i,o},t.prototype.toGlobal=function(e,t,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},t.prototype.toLocal=function(e,t,r,n){return t&&(e=t.toGlobal(e,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(e,t,r,n,i,o,s,a,h){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=e,this.position.y=t,this.scale.x=r||1,this.scale.y=n||1,this.rotation=i,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=h,this},t.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new Ss),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},t.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*Ui},set:function(e){this.transform.rotation=e*Bi},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(e){if(this._mask!==e){var t;if(this._mask)(t=this._mask.isMaskData?this._mask.maskObject:this._mask)&&(t._maskRefCount--,0===t._maskRefCount&&(t.renderable=!0,t.isMask=!1));if(this._mask=e,this._mask)(t=this._mask.isMaskData?this._mask.maskObject:this._mask)&&(0===t._maskRefCount&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)}},enumerable:!1,configurable:!0}),t}(Yo),Ss=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sortDirty=null,t}return As(t,e),t}(xs);function ys(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}xs.prototype.displayObjectUpdateTransform=xs.prototype.updateTransform;var Is=function(e){function t(){var t=e.call(this)||this;return t.children=[],t.sortableChildren=ko.SORTABLE_CHILDREN,t.sortDirty=!1,t}return As(t,e),t.prototype.onChildrenChange=function(e){},t.prototype.addChild=function(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];if(t.length>1)for(var n=0;n<t.length;n++)this.addChild(t[n]);else{var i=t[0];i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this)}return t[0]},t.prototype.addChildAt=function(e,t){if(t<0||t>this.children.length)throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e},t.prototype.swapChildren=function(e,t){if(e!==t){var r=this.getChildIndex(e),n=this.getChildIndex(t);this.children[r]=t,this.children[n]=e,this.onChildrenChange(r<n?r:n)}},t.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},t.prototype.setChildIndex=function(e,t){if(t<0||t>=this.children.length)throw new Error("The index "+t+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(e);as(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)},t.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];if(t.length>1)for(var n=0;n<t.length;n++)this.removeChild(t[n]);else{var i=t[0],o=this.children.indexOf(i);if(-1===o)return null;i.parent=null,i.transform._parentID=-1,as(this.children,o,1),this._boundsID++,this.onChildrenChange(o),i.emit("removed",this),this.emit("childRemoved",i,this,o)}return t[0]},t.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,as(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t},t.prototype.removeChildren=function(e,t){void 0===e&&(e=0),void 0===t&&(t=this.children.length);var r,n=e,i=t-n;if(i>0&&i<=t){r=this.children.splice(n,i);for(var o=0;o<r.length;++o)r[o].parent=null,r[o].transform&&(r[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(o=0;o<r.length;++o)r[o].emit("removed",this),this.emit("childRemoved",r[o],this,o);return r}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var e=!1,t=0,r=this.children.length;t<r;++t){var n=this.children[t];n._lastSortedIndex=t,e||0===n.zIndex||(e=!0)}e&&this.children.length>1&&this.children.sort(ys),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var r=this.children[e];r.visible&&r.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t=this.children[e];if(t.visible&&t.renderable)if(t.calculateBounds(),t._mask){var r=t._mask.isMaskData?t._mask.maskObject:t._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(t._bounds,r._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(t,r){void 0===r&&(r=!1);var n=e.prototype.getLocalBounds.call(this,t);if(!r)for(var i=0,o=this.children.length;i<o;++i){var s=this.children[i];s.visible&&s.updateTransform()}return n},t.prototype._calculateBounds=function(){},t.prototype._renderWithCulling=function(e){var r=e.renderTexture.sourceFrame;if(r.width>0&&r.height>0){var n,i;if(this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==t.prototype._render&&(n=this.getBounds(!0)),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(var o=0,s=this.children.length;o<s;++o){var a=this.children[o],h=a.cullable;a.cullable=h||!this.cullArea,a.render(e),a.cullable=h}}},t.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(var t=0,r=this.children.length;t<r;++t)this.children[t].render(e)}},t.prototype.renderAdvanced=function(e){var t=this.filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<t.length;n++)t[n].enabled&&this._enabledFilters.push(t[n])}var i=t&&this._enabledFilters&&this._enabledFilters.length||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==go.NONE));if(i&&e.batch.flush(),t&&this._enabledFilters&&this._enabledFilters.length&&e.filter.push(this,this._enabledFilters),r&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);n=0;for(var o=this.children.length;n<o;++n)this.children[n].render(e)}i&&e.batch.flush(),r&&e.mask.pop(this),t&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},t.prototype._render=function(e){},t.prototype.destroy=function(t){e.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof t?t:t&&t.children,n=this.removeChildren(0,this.children.length);if(r)for(var i=0;i<n.length;++i)n[i].destroy(t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e},enumerable:!1,configurable:!0}),t}(xs);Is.prototype.containerUpdateTransform=Is.prototype.updateTransform;var Os,Rs=function(){return Rs=Object.assign||function(e){for(var t,r=arguments,n=1,i=arguments.length;n<i;n++)for(var o in t=r[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Rs.apply(this,arguments)};!function(e){e.Application="application",e.RendererPlugin="renderer-webgl-plugin",e.CanvasRendererPlugin="renderer-canvas-plugin",e.Loader="loader",e.LoadParser="load-parser",e.ResolveParser="resolve-parser",e.CacheParser="cache-parser",e.DetectionParser="detection-parser"}(Os||(Os={}));var vs,Cs=function(e){if("function"==typeof e||"object"==typeof e&&e.extension){if(!e.extension)throw new Error("Extension class must have an extension object");var t="object"!=typeof e.extension?{type:e.extension}:e.extension;e=Rs(Rs({},t),{ref:e})}if("object"!=typeof e)throw new Error("Invalid extension type");return"string"==typeof(e=Rs({},e)).type&&(e.type=[e.type]),e},Ls={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var e=arguments,t=this,r=[],n=0;n<arguments.length;n++)r[n]=e[n];return r.map(Cs).forEach((function(e){e.type.forEach((function(r){var n,i;return null===(i=(n=t._removeHandlers)[r])||void 0===i?void 0:i.call(n,e)}))})),this},add:function(){for(var e=arguments,t=this,r=[],n=0;n<arguments.length;n++)r[n]=e[n];return r.map(Cs).forEach((function(e){e.type.forEach((function(r){var n=t._addHandlers,i=t._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))}))})),this},handle:function(e,t,r){var n=this._addHandlers=this._addHandlers||{},i=this._removeHandlers=this._removeHandlers||{};if(n[e]||i[e])throw new Error("Extension type "+e+" already has a handler");n[e]=t,i[e]=r;var o=this._queue;return o[e]&&(o[e].forEach((function(e){return t(e)})),delete o[e]),this},handleByMap:function(e,t){return this.handle(e,(function(e){t[e.name]=e.ref}),(function(e){delete t[e.name]}))},handleByList:function(e,t){return this.handle(e,(function(r){var n,i;t.includes(r.ref)||(t.push(r.ref),e===Os.Loader&&(null===(i=(n=r.ref).add)||void 0===i||i.call(n)))}),(function(e){var r=t.indexOf(e.ref);-1!==r&&t.splice(r,1)}))}};ko.TARGET_FPMS=.06,function(e){e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY"}(vs||(vs={}));var Ns=function(){function e(e,t,r,n){void 0===t&&(t=null),void 0===r&&(r=0),void 0===n&&(n=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=r,this.once=n}return e.prototype.match=function(e,t){return void 0===t&&(t=null),this.fn===e&&this.context===t},e.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},e.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},e.prototype.destroy=function(e){void 0===e&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t},e}(),Ps=function(){function e(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Ns(null,null,1/0),this.deltaMS=1/ko.TARGET_FPMS,this.elapsedMS=1/ko.TARGET_FPMS,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return e.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(e,t,r){return void 0===r&&(r=vs.NORMAL),this._addListener(new Ns(e,t,r))},e.prototype.addOnce=function(e,t,r){return void 0===r&&(r=vs.NORMAL),this._addListener(new Ns(e,t,r,!0))},e.prototype._addListener=function(e){var t=this._head.next,r=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}else e.connect(r);return this._startIfPossible(),this},e.prototype.remove=function(e,t){for(var r=this._head.next;r;)r=r.match(e,t)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(e.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,t=this._head;t=t.next;)e++;return e},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},e.prototype.update=function(e){var t;if(void 0===e&&(e=performance.now()),e>this.lastTime){if((t=this.elapsedMS=e-this.lastTime)>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){var r=e-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=e-r%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*ko.TARGET_FPMS;for(var n=this._head,i=n.next;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(this.maxFPS,e),r=Math.min(Math.max(0,t)/1e3,ko.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(0===e)this._minElapsedMS=0;else{var t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"shared",{get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared},enumerable:!1,configurable:!0}),Object.defineProperty(e,"system",{get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system},enumerable:!1,configurable:!0}),e}(),ws=function(){function e(){}return e.init=function(e){var t=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,vs.LOW)},get:function(){return this._ticker}}),this.stop=function(){t._ticker.stop()},this.start=function(){t._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Ps.shared:new Ps,e.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},e.extension=Os.Application,e}();class Ms{constructor(e){this.parent=e,this.paused=!1}destroy(){}down(e){return!1}move(e){return!1}up(e){return!1}wheel(e){return!1}update(e){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}}var Ds="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};var Us,Bs,Gs,Hs=(Us=function(e,t){(function(){var t,r;t={linear:function(e,t,r,n){return r*e/n+t},easeInQuad:function(e,t,r,n){return r*(e/=n)*e+t},easeOutQuad:function(e,t,r,n){return-r*(e/=n)*(e-2)+t},easeInOutQuad:function(e,t,r,n){return(e/=n/2)<1?r/2*e*e+t:-r/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,r,n){return r*(e/=n)*e*e+t},easeOutCubic:function(e,t,r,n){return r*((e=e/n-1)*e*e+1)+t},easeInOutCubic:function(e,t,r,n){return(e/=n/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,r,n){return r*(e/=n)*e*e*e+t},easeOutQuart:function(e,t,r,n){return-r*((e=e/n-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,r,n){return(e/=n/2)<1?r/2*e*e*e*e+t:-r/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,r,n){return r*(e/=n)*e*e*e*e+t},easeOutQuint:function(e,t,r,n){return r*((e=e/n-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,r,n){return(e/=n/2)<1?r/2*e*e*e*e*e+t:r/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,r,n){return-r*Math.cos(e/n*(Math.PI/2))+r+t},easeOutSine:function(e,t,r,n){return r*Math.sin(e/n*(Math.PI/2))+t},easeInOutSine:function(e,t,r,n){return-r/2*(Math.cos(Math.PI*e/n)-1)+t},easeInExpo:function(e,t,r,n){return 0===e?t:r*Math.pow(2,10*(e/n-1))+t},easeOutExpo:function(e,t,r,n){return e===n?t+r:r*(1-Math.pow(2,-10*e/n))+t},easeInOutExpo:function(e,t,r,n){return(e/=n/2)<1?r/2*Math.pow(2,10*(e-1))+t:r/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,r,n){return-r*(Math.sqrt(1-(e/=n)*e)-1)+t},easeOutCirc:function(e,t,r,n){return r*Math.sqrt(1-(e=e/n-1)*e)+t},easeInOutCirc:function(e,t,r,n){return(e/=n/2)<1?-r/2*(Math.sqrt(1-e*e)-1)+t:r/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,r,n){var i,o,s;return s=1.70158,0===e||(e/=n),(o=0)||(o=.3*n),(i=r)<Math.abs(r)?(i=r,s=o/4):s=o/(2*Math.PI)*Math.asin(r/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e*n-s)*(2*Math.PI)/o)+t},easeOutElastic:function(e,t,r,n){var i,o,s;return s=1.70158,0===e||(e/=n),(o=0)||(o=.3*n),(i=r)<Math.abs(r)?(i=r,s=o/4):s=o/(2*Math.PI)*Math.asin(r/i),i*Math.pow(2,-10*e)*Math.sin((e*n-s)*(2*Math.PI)/o)+r+t},easeInOutElastic:function(e,t,r,n){var i,o,s;return s=1.70158,0===e||(e/=n/2),(o=0)||(o=n*(.3*1.5)),(i=r)<Math.abs(r)?(i=r,s=o/4):s=o/(2*Math.PI)*Math.asin(r/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e*n-s)*(2*Math.PI)/o)*-.5+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*n-s)*(2*Math.PI)/o)*.5+r+t},easeInBack:function(e,t,r,n,i){return void 0===i&&(i=1.70158),r*(e/=n)*e*((i+1)*e-i)+t},easeOutBack:function(e,t,r,n,i){return void 0===i&&(i=1.70158),r*((e=e/n-1)*e*((i+1)*e+i)+1)+t},easeInOutBack:function(e,t,r,n,i){return void 0===i&&(i=1.70158),(e/=n/2)<1?r/2*(e*e*((1+(i*=1.525))*e-i))+t:r/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},easeInBounce:function(e,r,n,i){return n-t.easeOutBounce(i-e,0,n,i)+r},easeOutBounce:function(e,t,r,n){return(e/=n)<1/2.75?r*(7.5625*e*e)+t:e<2/2.75?r*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?r*(7.5625*(e-=2.25/2.75)*e+.9375)+t:r*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,r,n,i){return e<i/2?.5*t.easeInBounce(2*e,0,n,i)+r:.5*t.easeOutBounce(2*e-i,0,n,i)+.5*n+r}},r=t,e.exports=r}).call(Ds)},Us(Gs={path:Bs,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&Gs.path)}},Gs.exports),Gs.exports);function Fs(e,t){return e?"function"==typeof e?e:"string"==typeof e?Hs[e]:void 0:Hs[t]}const ks={removeOnInterrupt:!1,ease:"linear",time:1e3};class Ys extends Ms{__init(){this.startWidth=null}__init2(){this.startHeight=null}__init3(){this.deltaWidth=null}__init4(){this.deltaHeight=null}__init5(){this.width=null}__init6(){this.height=null}__init7(){this.time=0}constructor(e,t={}){super(e),Ys.prototype.__init.call(this),Ys.prototype.__init2.call(this),Ys.prototype.__init3.call(this),Ys.prototype.__init4.call(this),Ys.prototype.__init5.call(this),Ys.prototype.__init6.call(this),Ys.prototype.__init7.call(this),this.options=Object.assign({},ks,t),this.options.ease=Fs(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}setupPosition(){void 0!==this.options.position?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,void 0!==this.options.scale?this.width=this.parent.screenWidth/this.options.scale:void 0!==this.options.scaleX||void 0!==this.options.scaleY?(void 0!==this.options.scaleX&&(this.width=this.parent.screenWidth/this.options.scaleX),void 0!==this.options.scaleY&&(this.height=this.parent.screenHeight/this.options.scaleY)):(void 0!==this.options.width&&(this.width=this.options.width),void 0!==this.options.height&&(this.height=this.options.height)),null!==this.width&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),null!==this.height&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),null!==this.width&&this.parent.fitWidth(this.width,this.keepCenter,null===this.height),null!==this.height&&this.parent.fitHeight(this.height,this.keepCenter,null===this.width),!this.keepCenter&&this.options.position&&this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(e){if(this.paused)return;this.time+=e;const t=new Gi(this.parent.scale.x,this.parent.scale.y);if(this.time>=this.options.time){const e=this.parent.width,r=this.parent.height;this.complete(),e===this.parent.width&&r===this.parent.height||this.parent.emit("zoomed",{viewport:this.parent,original:t,type:"animate"})}else{const e=this.options.ease(this.time,0,1,this.options.time);if(null!==this.width){const t=this.startWidth,r=this.deltaWidth;this.parent.fitWidth(t+r*e,this.keepCenter,null===this.height)}if(null!==this.height){const t=this.startHeight,r=this.deltaHeight;this.parent.fitHeight(t+r*e,this.keepCenter,null===this.width)}if(null===this.width?this.parent.scale.x=this.parent.scale.y:null===this.height&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const t=this.startX,r=this.startY,n=this.deltaX,i=this.deltaY,o=new Gi(this.parent.x,this.parent.y);this.parent.moveCenter(t+n*e,r+i*e),this.parent.emit("moved",{viewport:this.parent,original:o,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:t,type:"animate"})}}}function Ws(e){let t,r=e[0],n=1;for(;n<e.length;){const i=e[n],o=e[n+1];if(n+=2,("optionalAccess"===i||"optionalCall"===i)&&null==r)return;"access"===i||"optionalAccess"===i?(t=r,r=o(r)):"call"!==i&&"optionalCall"!==i||(r=o(((...e)=>r.call(t,...e))),t=void 0)}return r}const Xs={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};class Vs extends Ms{constructor(e,t={}){super(e),this.options=Object.assign({},Xs,t),this.ease=Fs(this.options.ease,"easeInOutSine"),this.options.sides?"all"===this.options.sides?this.top=this.bottom=this.left=this.right=!0:"horizontal"===this.options.sides?(this.right=this.left=!0,this.top=this.bottom=!1):"vertical"===this.options.sides?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=-1!==this.options.sides.indexOf("top"),this.bottom=-1!==this.options.sides.indexOf("bottom"),this.left=-1!==this.options.sides.indexOf("left"),this.right=-1!==this.options.sides.indexOf("right")):this.left=this.top=this.right=this.bottom=!1;const r=this.options.underflow.toLowerCase();"center"===r?(this.underflowX=0,this.underflowY=0):(this.underflowX=-1!==r.indexOf("left")?-1:-1!==r.indexOf("right")?1:0,this.underflowY=-1!==r.indexOf("top")?-1:-1!==r.indexOf("bottom")?1:0),this.reset()}isActive(){return null!==this.toX||null!==this.toY}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(e){if(!this.paused){if(this.bounce(),this.toX){const t=this.toX;t.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),t.time>=this.options.time?(this.parent.x=t.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(t.time,t.start,t.delta,this.options.time)}if(this.toY){const t=this.toY;t.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),t.time>=this.options.time?(this.parent.y=t.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(t.time,t.start,t.delta,this.options.time)}}}calcUnderflowX(){let e;switch(this.underflowX){case-1:e=0;break;case 1:e=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:e=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return e}calcUnderflowY(){let e;switch(this.underflowY){case-1:e=0;break;case 1:e=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:e=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return e}oob(){const e=this.options.bounceBox;if(e){const t=void 0===e.x?0:e.x,r=void 0===e.y?0:e.y,n=void 0===e.width?this.parent.worldWidth:e.width,i=void 0===e.height?this.parent.worldHeight:e.height;return{left:this.parent.left<t,right:this.parent.right>n,top:this.parent.top<r,bottom:this.parent.bottom>i,topLeft:new Gi(t*this.parent.scale.x,r*this.parent.scale.y),bottomRight:new Gi(n*this.parent.scale.x-this.parent.screenWidth,i*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new Gi(0,0),bottomRight:new Gi(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){if(this.paused)return;let e,t=this.parent.plugins.get("decelerate",!0);t&&(t.x||t.y)&&(t.x&&t.percentChangeX===Ws([t,"access",e=>e.options,"optionalAccess",e=>e.friction])||t.y&&t.percentChangeY===Ws([t,"access",e=>e.options,"optionalAccess",e=>e.friction]))&&(e=this.oob(),(e.left&&this.left||e.right&&this.right)&&(t.percentChangeX=this.options.friction),(e.top&&this.top||e.bottom&&this.bottom)&&(t.percentChangeY=this.options.friction));const r=this.parent.plugins.get("drag",!0)||{},n=this.parent.plugins.get("pinch",!0)||{};if(t=t||{},!(Ws([r,"optionalAccess",e=>e.active])||Ws([n,"optionalAccess",e=>e.active])||this.toX&&this.toY||t.x&&t.y)){e=e||this.oob();const r=e.topLeft,n=e.bottomRight;if(!this.toX&&!t.x){let t=null;e.left&&this.left?t=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-r.x:e.right&&this.right&&(t=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-n.x),null!==t&&this.parent.x!==t&&(this.toX={time:0,start:this.parent.x,delta:t-this.parent.x,end:t},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!t.y){let t=null;e.top&&this.top?t=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-r.y:e.bottom&&this.bottom&&(t=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-n.y),null!==t&&this.parent.y!==t&&(this.toY={time:0,start:this.parent.y,delta:t-this.parent.y,end:t},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}}const Ks={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class js extends Ms{constructor(e,t={}){super(e),this.options=Object.assign({},Ks,t),this.options.direction&&(this.options.left="x"===this.options.direction||"all"===this.options.direction||null,this.options.right="x"===this.options.direction||"all"===this.options.direction||null,this.options.top="y"===this.options.direction||"all"===this.options.direction||null,this.options.bottom="y"===this.options.direction||"all"===this.options.direction||null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const e=this.options.underflow.toLowerCase();"none"===e?this.noUnderflow=!0:"center"===e?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=-1!==e.indexOf("left")?-1:-1!==e.indexOf("right")?1:0,this.underflowY=-1!==e.indexOf("top")?-1:-1!==e.indexOf("bottom")?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused)return;if(this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const e={x:this.parent.x,y:this.parent.y},t=this.parent.plugins.decelerate||{};if(null!==this.options.left||null!==this.options.right){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:0!==this.parent.x&&(this.parent.x=0,r=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,r=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,r=!0)}else null!==this.options.left&&this.parent.left<(!0===this.options.left?0:this.options.left)&&(this.parent.x=-(!0===this.options.left?0:this.options.left)*this.parent.scale.x,t.x=0,r=!0),null!==this.options.right&&this.parent.right>(!0===this.options.right?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(!0===this.options.right?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,t.x=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-x"})}if(null!==this.options.top||null!==this.options.bottom){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:0!==this.parent.y&&(this.parent.y=0,r=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,r=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,r=!0)}else null!==this.options.top&&this.parent.top<(!0===this.options.top?0:this.options.top)&&(this.parent.y=-(!0===this.options.top?0:this.options.top)*this.parent.scale.y,t.y=0,r=!0),null!==this.options.bottom&&this.parent.bottom>(!0===this.options.bottom?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(!0===this.options.bottom?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,t.y=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const zs={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class Zs extends Ms{constructor(e,t={}){super(e),this.options=Object.assign({},zs,t),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused)if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let e=this.parent.worldScreenWidth,t=this.parent.worldScreenHeight;if(null!==this.options.minWidth&&e<this.options.minWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,t=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.maxWidth&&e>this.options.maxWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,e=this.parent.worldScreenWidth,t=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.minHeight&&t<this.options.minHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,e=this.parent.worldScreenWidth,t=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.maxHeight&&t>this.options.maxHeight){const e=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/e,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){const e={x:null,y:null},t={x:null,y:null};if("number"==typeof this.options.minScale)e.x=this.options.minScale,e.y=this.options.minScale;else if(null!==this.options.minScale){const t=this.options.minScale;e.x=void 0===t.x?null:t.x,e.y=void 0===t.y?null:t.y}if("number"==typeof this.options.maxScale)t.x=this.options.maxScale,t.y=this.options.maxScale;else if(null!==this.options.maxScale){const e=this.options.maxScale;t.x=void 0===e.x?null:e.x,t.y=void 0===e.y?null:e.y}let r=this.parent.scale.x,n=this.parent.scale.y;null!==e.x&&r<e.x&&(r=e.x),null!==t.x&&r>t.x&&(r=t.x),null!==e.y&&n<e.y&&(n=e.y),null!==t.y&&n>t.y&&(n=t.y),r===this.parent.scale.x&&n===this.parent.scale.y||(this.parent.scale.set(r,n),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}reset(){this.clamp()}}const $s={friction:.98,bounce:.8,minSpeed:.01},qs=16;class Qs extends Ms{constructor(e,t={}){super(e),this.options=Object.assign({},$s,t),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",(e=>this.moved(e)))}down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!(!this.x&&!this.y)}move(){if(this.paused)return!1;const e=this.parent.input.count();return(1===e||e>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}moved(e){if(this.saved.length){const t=this.saved[this.saved.length-1];"clamp-x"===e.type?t.x===e.original.x&&(t.x=this.parent.x):"clamp-y"===e.type&&t.y===e.original.y&&(t.y=this.parent.y)}}up(){if(0===this.parent.input.count()&&this.saved.length){const e=performance.now();for(const t of this.saved)if(t.time>=e-100){const r=e-t.time;this.x=(this.parent.x-t.x)/r,this.y=(this.parent.y-t.y)/r,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(e){void 0!==(e=e||{}).x&&(this.x=e.x,this.percentChangeX=this.options.friction),void 0!==e.y&&(this.y=e.y,this.percentChangeY=this.options.friction)}update(e){if(this.paused)return;const t=this.x||this.y,r=this.timeSinceRelease,n=this.timeSinceRelease+e;if(this.x){const t=this.percentChangeX,i=Math.log(t);this.parent.x+=this.x*qs/i*(Math.pow(t,n/qs)-Math.pow(t,r/qs)),this.x*=Math.pow(this.percentChangeX,e/qs)}if(this.y){const t=this.percentChangeY,i=Math.log(t);this.parent.y+=this.y*qs/i*(Math.pow(t,n/qs)-Math.pow(t,r/qs)),this.y*=Math.pow(this.percentChangeY,e/qs)}this.timeSinceRelease+=e,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),t&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}const Js={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20,wheelSwapAxes:!1};class ea extends Ms{__init(){this.windowEventHandlers=new Array}constructor(e,t={}){super(e),ea.prototype.__init.call(this),this.options=Object.assign({},Js,t),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||"all"===this.options.direction||"x"===this.options.direction,this.yDirection=!this.options.direction||"all"===this.options.direction||"y"===this.options.direction,this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){this.addWindowEventHandler("keyup",(t=>{e.includes(t.code)&&(this.keyIsPressed=!1)})),this.addWindowEventHandler("keydown",(t=>{e.includes(t.code)&&(this.keyIsPressed=!0)}))}addWindowEventHandler(e,t){window.addEventListener(e,t),this.windowEventHandlers.push({event:e,handler:t})}destroy(){this.windowEventHandlers.forEach((({event:e,handler:t})=>{window.removeEventListener(e,t)}))}mouseButtons(e){this.mouse=e&&"all"!==e?[-1!==e.indexOf("left"),-1!==e.indexOf("middle"),-1!==e.indexOf("right")]:[!0,!0,!0]}parseUnderflow(){const e=this.options.underflow.toLowerCase();"center"===e?(this.underflowX=0,this.underflowY=0):(e.includes("left")?this.underflowX=-1:e.includes("right")?this.underflowX=1:this.underflowX=0,e.includes("top")?this.underflowY=-1:e.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(e){const t="mouse"===e.data.pointerType,r=this.parent.input.count();return!(!(1===r||r>1&&!this.parent.plugins.get("pinch",!0))||t&&!this.mouse[e.data.button])}checkKeyPress(e){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&"touch"===e.data.pointerType}down(e){return!(this.paused||!this.options.pressDrag)&&(this.checkButtons(e)&&this.checkKeyPress(e)?(this.last={x:e.data.global.x,y:e.data.global.y},this.current=e.data.pointerId,!0):(this.last=null,!1))}get active(){return this.moved}move(e){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===e.data.pointerId){const t=e.data.global.x,r=e.data.global.y,n=this.parent.input.count();if(1===n||n>1&&!this.parent.plugins.get("pinch",!0)){const n=t-this.last.x,i=r-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(n)||this.yDirection&&this.parent.input.checkThreshold(i)){const n={x:t,y:r};return this.xDirection&&(this.parent.x+=(n.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(n.y-this.last.y)*this.options.factor),this.last=n,this.moved||this.parent.emit("drag-start",{event:e,screen:new Gi(this.last.x,this.last.y),world:this.parent.toWorld(new Gi(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}return!1}up(e){if(this.paused)return!1;const t=this.parent.input.touches;if(1===t.length){const e=t[0];return e.last&&(this.last={x:e.last.x,y:e.last.y},this.current=e.id),this.moved=!1,!0}if(this.last&&this.moved){const t=new Gi(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:e,screen:t,world:this.parent.toWorld(t),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(e){if(this.paused)return!1;if(this.options.wheel){const t=this.parent.plugins.get("wheel",!0);if(!t||!t.options.wheelZoom&&!e.ctrlKey){const t=e.deltaMode?this.options.lineHeight:1,r=[e.deltaX,e.deltaY],[n,i]=this.options.wheelSwapAxes?r.reverse():r;return this.xDirection&&(this.parent.x+=n*t*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=i*t*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||e.preventDefault(),this.parent.options.stopPropagation&&e.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){const e=this.parent.plugins.get("decelerate",!0)||{};if("y"!==this.options.clampWheel)if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,e.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,e.x=0);if("x"!==this.options.clampWheel)if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,e.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,e.y=0)}}const ta={speed:0,acceleration:null,radius:null};class ra extends Ms{constructor(e,t,r={}){super(e),this.target=t,this.options=Object.assign({},ta,r),this.velocity={x:0,y:0}}update(e){if(this.paused)return;const t=this.parent.center;let r=this.target.x,n=this.target.y;if(this.options.radius){if(!(Math.sqrt(Math.pow(this.target.y-t.y,2)+Math.pow(this.target.x-t.x,2))>this.options.radius))return;{const e=Math.atan2(this.target.y-t.y,this.target.x-t.x);r=this.target.x-Math.cos(e)*this.options.radius,n=this.target.y-Math.sin(e)*this.options.radius}}const i=r-t.x,o=n-t.y;if(i||o)if(this.options.speed)if(this.options.acceleration){const e=Math.atan2(n-t.y,r-t.x),s=Math.sqrt(Math.pow(i,2)+Math.pow(o,2));if(s){const a=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);this.velocity=s>a?{x:Math.min(this.velocity.x+(this.options.acceleration,this.options.speed)),y:Math.min(this.velocity.y+(this.options.acceleration,this.options.speed))}:{x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const h=Math.cos(e)*this.velocity.x,c=Math.sin(e)*this.velocity.y,l=Math.abs(h)>Math.abs(i)?r:t.x+h,u=Math.abs(c)>Math.abs(o)?n:t.y+c;this.parent.moveCenter(l,u),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const e=Math.atan2(n-t.y,r-t.x),s=Math.cos(e)*this.options.speed,a=Math.sin(e)*this.options.speed,h=Math.abs(s)>Math.abs(i)?r:t.x+s,c=Math.abs(a)>Math.abs(o)?n:t.y+a;this.parent.moveCenter(h,c),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(r,n),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const na={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class ia extends Ms{constructor(e,t={}){super(e),this.options=Object.assign({},na,t),this.reverse=this.options.reverse?1:-1,this.radiusSquared="number"==typeof this.options.radius?Math.pow(this.options.radius,2):null,this.resize()}resize(){const e=this.options.distance;null!==e?(this.left=e,this.top=e,this.right=this.parent.screenWidth-e,this.bottom=this.parent.screenHeight-e):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=null===this.options.right?null:this.parent.screenWidth-this.options.right,this.bottom=null===this.options.bottom?null:this.parent.screenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(e){if(this.paused)return!1;if("mouse"!==e.data.pointerType&&1!==e.data.identifier||!this.options.allowButtons&&0!==e.data.buttons)return!1;const t=e.data.global.x,r=e.data.global.y;if(this.radiusSquared){const e=this.parent.toScreen(this.parent.center);if(Math.pow(e.x-t,2)+Math.pow(e.y-r,2)>=this.radiusSquared){const n=Math.atan2(e.y-r,e.x-t);this.options.linear?(this.horizontal=Math.round(Math.cos(n))*this.options.speed*this.reverse*.06,this.vertical=Math.round(Math.sin(n))*this.options.speed*this.reverse*.06):(this.horizontal=Math.cos(n)*this.options.speed*this.reverse*.06,this.vertical=Math.sin(n)*this.options.speed*this.reverse*.06)}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else null!==this.left&&t<this.left?this.horizontal=Number(this.reverse)*this.options.speed*.06:null!==this.right&&t>this.right?this.horizontal=-1*this.reverse*this.options.speed*.06:(this.decelerateHorizontal(),this.horizontal=0),null!==this.top&&r<this.top?this.vertical=Number(this.reverse)*this.options.speed*.06:null!==this.bottom&&r>this.bottom?this.vertical=-1*this.reverse*this.options.speed*.06:(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){const e=this.parent.plugins.get("decelerate",!0);this.horizontal&&e&&!this.options.noDecelerate&&e.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const e=this.parent.plugins.get("decelerate",!0);this.vertical&&e&&!this.options.noDecelerate&&e.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){const e=this.parent.center;this.horizontal&&(e.x+=this.horizontal*this.options.speed),this.vertical&&(e.y+=this.vertical*this.options.speed),this.parent.moveCenter(e),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}const oa={noDrag:!1,percent:1,center:null,factor:1,axis:"all"};class sa extends Ms{__init(){this.active=!1}__init2(){this.pinching=!1}__init3(){this.moved=!1}constructor(e,t={}){super(e),sa.prototype.__init.call(this),sa.prototype.__init2.call(this),sa.prototype.__init3.call(this),this.options=Object.assign({},oa,t)}down(){return this.parent.input.count()>=2&&(this.active=!0,!0)}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(e){if(this.paused||!this.active)return!1;const t=e.data.global.x,r=e.data.global.y,n=this.parent.input.touches;if(n.length>=2){const i=n[0],o=n[1],s=i.last&&o.last?Math.sqrt(Math.pow(o.last.x-i.last.x,2)+Math.pow(o.last.y-i.last.y,2)):null;if(i.id===e.data.pointerId?i.last={x:t,y:r,data:e.data}:o.id===e.data.pointerId&&(o.last={x:t,y:r,data:e.data}),s){let e;const t={x:i.last.x+(o.last.x-i.last.x)/2,y:i.last.y+(o.last.y-i.last.y)/2};this.options.center||(e=this.parent.toLocal(t));let r=Math.sqrt(Math.pow(o.last.x-i.last.x,2)+Math.pow(o.last.y-i.last.y,2));r=0===r?r=1e-10:r;const n=(1-s/r)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=n),this.isAxisY()&&(this.parent.scale.y+=n),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:t});const a=this.parent.plugins.get("clamp-zoom",!0);if(a&&a.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const r=this.parent.toGlobal(e);this.parent.x+=(t.x-r.x)*this.options.factor,this.parent.y+=(t.y-r.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(t.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(t.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=t,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return!!(this.pinching&&this.parent.input.touches.length<=1)&&(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0)}}const aa={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class ha extends Ms{constructor(e,t,r,n={}){super(e),this.options=Object.assign({},aa,n),this.ease=Fs(n.ease,"easeInOutSine"),this.x=t,this.y=r,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const e=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-e.x,this.deltaY=this.y-e.y,this.startX=e.x,this.startY=e.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(0===this.parent.input.count()){const e=this.parent.plugins.get("decelerate",!0);e&&(e.x||e.y)&&(e.percentChangeX=e.percentChangeY=this.options.friction)}return!1}update(e){if(!(this.paused||this.options.interrupt&&0!==this.parent.input.count()))if(this.snapping){const t=this.snapping;let r,n,i;t.time+=e;const o=this.startX,s=this.startY,a=this.deltaX,h=this.deltaY;if(t.time>this.options.time)r=!0,n=o+a,i=s+h;else{const e=this.ease(t.time,0,1,this.options.time);n=o+a*e,i=s+h*e}this.options.topLeft?this.parent.moveCorner(n,i):this.parent.moveCenter(n,i),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),r&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const e=this.options.topLeft?this.parent.corner:this.parent.center;e.x===this.x&&e.y===this.y||this.snapStart()}}}const ca={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};class la extends Ms{constructor(e,t={}){super(e),this.options=Object.assign({},ca,t),this.ease=Fs(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=e.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=e.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,0===this.options.time?(e.container.scale.x=this.xScale,e.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):t.forceStart&&this.createSnapping()}createSnapping(){const e=this.parent.worldScreenWidth,t=this.parent.worldScreenHeight,r=this.parent.screenWidth/this.xScale,n=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:e,startY:t,deltaX:r-e,deltaY:n-t},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(e){if(this.paused)return;if(this.options.interrupt&&0!==this.parent.input.count())return;let t;if(this.options.center||this.options.noMove||(t=this.parent.center),this.snapping){if(this.snapping){const r=this.snapping;if(r.time+=e,r.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const e=this.snapping,t=this.ease(e.time,e.startX,e.deltaX,this.options.time),r=this.ease(e.time,e.startY,e.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/t,this.parent.scale.y=this.parent.screenHeight/r}const n=this.parent.plugins.get("clamp-zoom",!0);n&&n.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(t))}}else this.parent.scale.x===this.xScale&&this.parent.scale.y===this.yScale||this.createSnapping()}resume(){this.snapping=null,super.resume()}}const ua={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};class da extends Ms{constructor(e,t={}){super(e),this.options=Object.assign({},ua,t),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){window.addEventListener("keydown",(t=>{e.includes(t.code)&&(this.keyIsPressed=!0)})),window.addEventListener("keyup",(t=>{e.includes(t.code)&&(this.keyIsPressed=!1)}))}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const e=this.smoothingCenter,t=this.smoothing;let r;this.options.center||(r=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x+=t.x),this.isAxisY()&&(this.parent.scale.y+=t.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const n=this.parent.plugins.get("clamp-zoom",!0);if(n&&n.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const t=this.parent.toGlobal(r);this.parent.x+=e.x-t.x,this.parent.y+=e.y-t.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(e){if(this.paused)return;const t=this.parent.input.getPointerPosition(e),r=-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/200,n=Math.pow(2,(1+this.options.percent)*r);let i;this.options.center||(i=this.parent.toLocal(t)),this.isAxisX()&&(this.parent.scale.x*=n),this.isAxisY()&&(this.parent.scale.y*=n),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const e=this.parent.toGlobal(i);this.parent.x+=t.x-e.x,this.parent.y+=t.y-e.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel",{wheel:{dx:e.deltaX,dy:e.deltaY,dz:e.deltaZ},event:e,viewport:this.parent})}wheel(e){if(this.paused)return!1;if(!this.checkKeyPress())return!1;if(e.ctrlKey&&this.options.trackpadPinch)this.pinch(e);else if(this.options.wheelZoom){const t=this.parent.input.getPointerPosition(e),r=(this.options.reverse?-1:1)*-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/500,n=Math.pow(2,(1+this.options.percent)*r);if(this.options.smooth){const e={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+e.x)*n-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+e.y)*n-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=t}else{let e;this.options.center||(e=this.parent.toLocal(t)),this.isAxisX()&&(this.parent.scale.x*=n),this.isAxisY()&&(this.parent.scale.y*=n),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const r=this.parent.plugins.get("clamp-zoom",!0);if(r&&r.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const r=this.parent.toGlobal(e);this.parent.x+=t.x-r.x,this.parent.y+=t.y-r.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel",{wheel:{dx:e.deltaX,dy:e.deltaY,dz:e.deltaZ},event:e,viewport:this.parent})}return!this.parent.options.passiveWheel}}class fa{constructor(e){this.viewport=e,this.touches=[],this.addListeners()}addListeners(){this.viewport.interactive=!0,this.viewport.forceHitArea||(this.viewport.hitArea=new Fi(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.on("pointerout",this.up,this),this.wheelFunction=e=>this.handleWheel(e),this.viewport.options.divWheel.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){this.viewport.options.divWheel.removeEventListener("wheel",this.wheelFunction)}down(e){if(this.viewport.pause||!this.viewport.worldVisible)return;if("mouse"===e.data.pointerType?this.isMouseDown=!0:this.get(e.data.pointerId)||this.touches.push({id:e.data.pointerId,last:null}),1===this.count()){this.last=e.data.global.clone();const t=this.viewport.plugins.get("decelerate",!0),r=this.viewport.plugins.get("bounce",!0);t&&t.isActive()||r&&r.isActive()?this.clickedAvailable=!1:this.clickedAvailable=!0}else this.clickedAvailable=!1;this.viewport.plugins.down(e)&&this.viewport.options.stopPropagation&&e.stopPropagation()}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(e){return Math.abs(e)>=this.viewport.threshold}move(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const t=this.viewport.plugins.move(e);if(this.clickedAvailable&&this.last){const t=e.data.global.x-this.last.x,r=e.data.global.y-this.last.y;(this.checkThreshold(t)||this.checkThreshold(r))&&(this.clickedAvailable=!1)}t&&this.viewport.options.stopPropagation&&e.stopPropagation()}up(e){if(this.viewport.pause||!this.viewport.worldVisible)return;"mouse"===e.data.pointerType&&(this.isMouseDown=!1),"mouse"!==e.data.pointerType&&this.remove(e.data.pointerId);const t=this.viewport.plugins.up(e);this.clickedAvailable&&0===this.count()&&this.last&&(this.viewport.emit("clicked",{event:e,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this}),this.clickedAvailable=!1),t&&this.viewport.options.stopPropagation&&e.stopPropagation()}getPointerPosition(e){const t=new Gi;if(this.viewport.options.interaction)this.viewport.options.interaction.mapPositionToPoint(t,e.clientX,e.clientY);else if(this.viewport.options.useDivWheelForInputManager&&this.viewport.options.divWheel){const r=this.viewport.options.divWheel.getBoundingClientRect();t.x=e.clientX-r.left,t.y=e.clientY-r.top}else t.x=e.clientX,t.y=e.clientY;return t}handleWheel(e){if(this.viewport.pause||!this.viewport.worldVisible)return;if(this.viewport.options.interaction&&this.viewport.options.interaction.interactionDOMElement!==e.target)return;const t=this.viewport.toLocal(this.getPointerPosition(e));if(this.viewport.left<=t.x&&t.x<=this.viewport.right&&this.viewport.top<=t.y&&t.y<=this.viewport.bottom){this.viewport.plugins.wheel(e)&&!this.viewport.options.passiveWheel&&e.preventDefault()}}pause(){this.touches=[],this.isMouseDown=!1}get(e){for(const t of this.touches)if(t.id===e)return t;return null}remove(e){for(let t=0;t<this.touches.length;t++)if(this.touches[t].id===e)return void this.touches.splice(t,1)}count(){return(this.isMouseDown?1:0)+this.touches.length}}function pa(e){let t,r=e[0],n=1;for(;n<e.length;){const i=e[n],o=e[n+1];if(n+=2,("optionalAccess"===i||"optionalCall"===i)&&null==r)return;"access"===i||"optionalAccess"===i?(t=r,r=o(r)):"call"!==i&&"optionalCall"!==i||(r=o(((...e)=>r.call(t,...e))),t=void 0)}return r}const _a=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];class Ea{constructor(e){this.viewport=e,this.list=[],this.plugins={}}add(e,t,r=_a.length){const n=this.plugins[e];n&&n.destroy(),this.plugins[e]=t;const i=_a.indexOf(e);-1!==i&&_a.splice(i,1),_a.splice(r,0,e),this.sort()}get(e,t){return t&&pa([this,"access",e=>e.plugins,"access",t=>t[e],"optionalAccess",e=>e.paused])?null:this.plugins[e]}update(e){for(const t of this.list)t.update(e)}resize(){for(const e of this.list)e.resize()}reset(){for(const e of this.list)e.reset()}removeAll(){this.list.forEach((e=>{e.destroy()})),this.plugins={},this.sort()}remove(e){this.plugins[e]&&(pa([this,"access",e=>e.plugins,"access",t=>t[e],"optionalAccess",e=>e.destroy,"call",e=>e()]),delete this.plugins[e],this.viewport.emit(`${e}-remove`),this.sort())}pause(e){pa([this,"access",e=>e.plugins,"access",t=>t[e],"optionalAccess",e=>e.pause,"call",e=>e()])}resume(e){pa([this,"access",e=>e.plugins,"access",t=>t[e],"optionalAccess",e=>e.resume,"call",e=>e()])}sort(){this.list=[];for(const e of _a)this.plugins[e]&&this.list.push(this.plugins[e])}down(e){let t=!1;for(const r of this.list)r.down(e)&&(t=!0);return t}move(e){let t=!1;for(const r of this.viewport.plugins.list)r.move(e)&&(t=!0);return t}up(e){let t=!1;for(const r of this.list)r.up(e)&&(t=!0);return t}wheel(e){let t=!1;for(const r of this.list)r.wheel(e)&&(t=!0);return t}}const ga={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,interaction:null,disableOnContextMenu:!1,ticker:Ps.shared};class ba extends Is{__init(){this._disableOnContextMenu=e=>e.preventDefault()}constructor(e={}){super(),ba.prototype.__init.call(this),this.options=Object.assign({},{divWheel:document.body},ga,e),this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.divWheel=this.options.divWheel||document.body,this.options.disableOnContextMenu&&this.options.divWheel.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new fa(this),this.plugins=new Ea(this)}destroy(e){!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&this.options.divWheel.removeEventListener("contextmenu",this._disableOnContextMenu),this.input.destroy(),super.destroy(e)}update(e){this.pause||(this.plugins.update(e),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new Fi(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(e=window.innerWidth,t=window.innerHeight,r,n){this.screenWidth=e,this.screenHeight=t,void 0!==r&&(this._worldWidth=r),void 0!==n&&(this._worldHeight=n),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(e){this._worldWidth=e,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(e){this._worldHeight=e,this.plugins.resize()}getVisibleBounds(){return new Fi(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(e,t){return 2===arguments.length?this.toLocal(new Gi(e,t)):this.toLocal(e)}toScreen(e,t){return 2===arguments.length?this.toGlobal(new Gi(e,t)):this.toGlobal(e)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new Gi(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(e){this.moveCenter(e)}moveCenter(...e){let t,r;"number"==typeof e[0]?(t=e[0],r=e[1]):(t=e[0].x,r=e[0].y);const n=(this.worldScreenWidth/2-t)*this.scale.x,i=(this.worldScreenHeight/2-r)*this.scale.y;return this.x===n&&this.y===i||(this.position.set(n,i),this.plugins.reset(),this.dirty=!0),this}get corner(){return new Gi(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(e){this.moveCorner(e)}moveCorner(...e){let t,r;return 1===e.length?(t=-e[0].x*this.scale.x,r=-e[0].y*this.scale.y):(t=-e[0]*this.scale.x,r=-e[1]*this.scale.y),t===this.x&&r===this.y||(this.position.set(t,r),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(e){return this.screenWidth/e}findFitHeight(e){return this.screenHeight/e}findFit(e,t){const r=this.screenWidth/e,n=this.screenHeight/t;return Math.min(r,n)}findCover(e,t){const r=this.screenWidth/e,n=this.screenHeight/t;return Math.max(r,n)}fitWidth(e=this.worldWidth,t,r=!0,n){let i;t&&(i=this.center),this.scale.x=this.screenWidth/e,r&&(this.scale.y=this.scale.x);const o=this.plugins.get("clamp-zoom",!0);return!n&&o&&o.clamp(),t&&i&&this.moveCenter(i),this}fitHeight(e=this.worldHeight,t,r=!0,n){let i;t&&(i=this.center),this.scale.y=this.screenHeight/e,r&&(this.scale.x=this.scale.y);const o=this.plugins.get("clamp-zoom",!0);return!n&&o&&o.clamp(),t&&i&&this.moveCenter(i),this}fitWorld(e){let t;e&&(t=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const r=this.plugins.get("clamp-zoom",!0);return r&&r.clamp(),e&&t&&this.moveCenter(t),this}fit(e,t=this.worldWidth,r=this.worldHeight){let n;e&&(n=this.center),this.scale.x=this.screenWidth/t,this.scale.y=this.screenHeight/r,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const i=this.plugins.get("clamp-zoom",!0);return i&&i.clamp(),e&&n&&this.moveCenter(n),this}setZoom(e,t){let r;t&&(r=this.center),this.scale.set(e);const n=this.plugins.get("clamp-zoom",!0);return n&&n.clamp(),t&&r&&this.moveCenter(r),this}zoomPercent(e,t){return this.setZoom(this.scale.x+this.scale.x*e,t)}zoom(e,t){return this.fitWidth(e+this.worldScreenWidth,t),this}get scaled(){return this.scale.x}set scaled(e){this.setZoom(e,!0)}snapZoom(e){return this.plugins.add("snap-zoom",new la(this,e)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new Gi(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(e){this.x=-e*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(e){this.x=-e*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(e){this.y=-e*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(e){this.y=-e*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(e){this._dirty=e}get forceHitArea(){return this._forceHitArea}set forceHitArea(e){e?(this._forceHitArea=e,this.hitArea=e):(this._forceHitArea=null,this.hitArea=new Fi(0,0,this.worldWidth,this.worldHeight))}drag(e){return this.plugins.add("drag",new ea(this,e)),this}clamp(e){return this.plugins.add("clamp",new js(this,e)),this}decelerate(e){return this.plugins.add("decelerate",new Qs(this,e)),this}bounce(e){return this.plugins.add("bounce",new Vs(this,e)),this}pinch(e){return this.plugins.add("pinch",new sa(this,e)),this}snap(e,t,r){return this.plugins.add("snap",new ha(this,e,t,r)),this}follow(e,t){return this.plugins.add("follow",new ra(this,e,t)),this}wheel(e){return this.plugins.add("wheel",new da(this,e)),this}animate(e){return this.plugins.add("animate",new Ys(this,e)),this}clampZoom(e){return this.plugins.add("clamp-zoom",new Zs(this,e)),this}mouseEdges(e){return this.plugins.add("mouse-edges",new ia(this,e)),this}get pause(){return!!this._pause}set pause(e){this._pause=e,this.lastViewport=null,this.moving=!1,this.zooming=!1,e&&this.input.pause()}ensureVisible(e,t,r,n,i){i&&(r>this.worldScreenWidth||n>this.worldScreenHeight)&&(this.fit(!0,r,n),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let o=!1;e<this.left?(this.left=e,o=!0):e+r>this.right&&(this.right=e+r,o=!0),t<this.top?(this.top=t,o=!0):t+n>this.bottom&&(this.bottom=t+n,o=!0),o&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}const ma=function(e){var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){return t.reject(r)}))}))};const Ta=function(e){return new this((function(t,r){if(!e||void 0===e.length)return r(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var i=n.length;function o(e,r){if(r&&("object"==typeof r||"function"==typeof r)){var s=r.then;if("function"==typeof s)return void s.call(r,(function(t){o(e,t)}),(function(r){n[e]={status:"rejected",reason:r},0===--i&&t(n)}))}n[e]={status:"fulfilled",value:r},0===--i&&t(n)}for(var s=0;s<n.length;s++)o(s,n[s])}))};function Aa(e,t){this.name="AggregateError",this.errors=e,this.message=t||""}Aa.prototype=Error.prototype;const xa=function(e){var t=this;return new t((function(r,n){if(!e||void 0===e.length)return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return n();for(var o=[],s=0;s<i.length;s++)try{t.resolve(i[s]).then(r).catch((function(e){o.push(e),o.length===i.length&&n(new Aa(o,"All promises were rejected"))}))}catch(e){n(e)}}))};var Sa=setTimeout;function ya(e){return Boolean(e&&void 0!==e.length)}function Ia(){}function Oa(e){if(!(this instanceof Oa))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Pa(e,this)}function Ra(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,Oa._immediateFn((function(){var r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){var n;try{n=r(e._value)}catch(e){return void Ca(t.promise,e)}va(t.promise,n)}else(1===e._state?va:Ca)(t.promise,e._value)}))):e._deferreds.push(t)}function va(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if(t instanceof Oa)return e._state=3,e._value=t,void La(e);if("function"==typeof r)return void Pa(function(e,t){return function(){e.apply(t,arguments)}}(r,t),e)}e._state=1,e._value=t,La(e)}catch(t){Ca(e,t)}}function Ca(e,t){e._state=2,e._value=t,La(e)}function La(e){2===e._state&&0===e._deferreds.length&&Oa._immediateFn((function(){e._handled||Oa._unhandledRejectionFn(e._value)}));for(var t=0,r=e._deferreds.length;t<r;t++)Ra(e,e._deferreds[t]);e._deferreds=null}function Na(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function Pa(e,t){var r=!1;try{e((function(e){r||(r=!0,va(t,e))}),(function(e){r||(r=!0,Ca(t,e))}))}catch(e){if(r)return;r=!0,Ca(t,e)}}Oa.prototype.catch=function(e){return this.then(null,e)},Oa.prototype.then=function(e,t){var r=new this.constructor(Ia);return Ra(this,new Na(e,t,r)),r},Oa.prototype.finally=ma,Oa.all=function(e){return new Oa((function(t,r){if(!ya(e))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var i=n.length;function o(e,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){o(e,t)}),r)}n[e]=s,0===--i&&t(n)}catch(e){r(e)}}for(var s=0;s<n.length;s++)o(s,n[s])}))},Oa.any=xa,Oa.allSettled=Ta,Oa.resolve=function(e){return e&&"object"==typeof e&&e.constructor===Oa?e:new Oa((function(t){t(e)}))},Oa.reject=function(e){return new Oa((function(t,r){r(e)}))},Oa.race=function(e){return new Oa((function(t,r){if(!ya(e))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=e.length;n<i;n++)Oa.resolve(e[n]).then(t,r)}))},Oa._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){Sa(e,0)},Oa._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console};const wa=Oa;var Ma=r(5228);"undefined"==typeof globalThis&&("undefined"!=typeof self?self.globalThis=self:"undefined"!=typeof global&&(global.globalThis=global)),globalThis.Promise||(globalThis.Promise=wa),Object.assign||(Object.assign=Ma);if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!globalThis.performance||!globalThis.performance.now){var Da=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-Da}}for(var Ua=Date.now(),Ba=["ms","moz","webkit","o"],Ga=0;Ga<Ba.length&&!globalThis.requestAnimationFrame;++Ga){var Ha=Ba[Ga];globalThis.requestAnimationFrame=globalThis[Ha+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[Ha+"CancelAnimationFrame"]||globalThis[Ha+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(e){if("function"!=typeof e)throw new TypeError(e+"is not a function");var t=Date.now(),r=16+Ua-t;return r<0&&(r=0),Ua=t,globalThis.self.setTimeout((function(){Ua=Date.now(),e(performance.now())}),r)}),globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(e){return clearTimeout(e)}),Math.sign||(Math.sign=function(e){return 0===(e=Number(e))||isNaN(e)?e:e>0?1:-1}),Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array),globalThis.Float32Array||(globalThis.Float32Array=Array),globalThis.Uint32Array||(globalThis.Uint32Array=Array),globalThis.Uint16Array||(globalThis.Uint16Array=Array),globalThis.Uint8Array||(globalThis.Uint8Array=Array),globalThis.Int32Array||(globalThis.Int32Array=Array);var Fa=function(){function e(e){this.items=[],this._name=e,this._aliasCount=0}return e.prototype.emit=function(e,t,r,n,i,o,s,a){if(arguments.length>8)throw new Error("max arguments reached");var h=this.name,c=this.items;this._aliasCount++;for(var l=0,u=c.length;l<u;l++)c[l][h](e,t,r,n,i,o,s,a);return c===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},e.prototype.remove=function(e){var t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},e.prototype.contains=function(e){return-1!==this.items.indexOf(e)},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e}();Object.defineProperties(Fa.prototype,{dispatch:{value:Fa.prototype.emit},run:{value:Fa.prototype.emit}}),ko.PREFER_ENV=Fo.any?eo.WEBGL:eo.WEBGL2,ko.STRICT_TEXTURE_CACHE=!1;var ka=[];function Ya(e,t){if(!e)return null;var r="";if("string"==typeof e){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);n&&(r=n[1].toLowerCase())}for(var i=ka.length-1;i>=0;--i){var o=ka[i];if(o.test&&o.test(e,r))return new o(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var Wa=function(e,t){return Wa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Wa(e,t)};function Xa(e,t){function r(){this.constructor=e}Wa(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var Va=function(){return Va=Object.assign||function(e){for(var t,r=arguments,n=1,i=arguments.length;n<i;n++)for(var o in t=r[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Va.apply(this,arguments)};var Ka=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new Fa("setRealSize"),this.onUpdate=new Fa("update"),this.onError=new Fa("onError")}return e.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},e.prototype.resize=function(e,t){e===this._width&&t===this._height||(this._width=e,this._height=t,this.onResize.emit(e,t))},Object.defineProperty(e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(e,t,r){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(e,t){return!1},e}(),ja=function(e){function t(t,r){var n=this,i=r||{},o=i.width,s=i.height;if(!o||!s)throw new Error("BufferResource width or height invalid");return(n=e.call(this,o,s)||this).data=t,n}return Xa(t,e),t.prototype.upload=function(e,t,r){var n=e.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===fo.UNPACK);var i=t.realWidth,o=t.realHeight;return r.width===i&&r.height===o?n.texSubImage2D(t.target,0,0,0,i,o,t.format,r.type,this.data):(r.width=i,r.height=o,n.texImage2D(t.target,0,r.internalFormat,i,o,0,t.format,r.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(Ka),za={scaleMode:co.NEAREST,format:oo.RGBA,alphaMode:fo.NPM},Za=function(e){function t(t,r){void 0===t&&(t=null),void 0===r&&(r=null);var n=e.call(this)||this,i=(r=r||{}).alphaMode,o=r.mipmap,s=r.anisotropicLevel,a=r.scaleMode,h=r.width,c=r.height,l=r.wrapMode,u=r.format,d=r.type,f=r.target,p=r.resolution,_=r.resourceOptions;return!t||t instanceof Ka||((t=Ya(t,_)).internal=!0),n.resolution=p||ko.RESOLUTION,n.width=Math.round((h||0)*n.resolution)/n.resolution,n.height=Math.round((c||0)*n.resolution)/n.resolution,n._mipmap=void 0!==o?o:ko.MIPMAP_TEXTURES,n.anisotropicLevel=void 0!==s?s:ko.ANISOTROPIC_LEVEL,n._wrapMode=l||ko.WRAP_MODE,n._scaleMode=void 0!==a?a:ko.SCALE_MODE,n.format=u||oo.RGBA,n.type=d||ao.UNSIGNED_BYTE,n.target=f||so.TEXTURE_2D,n.alphaMode=void 0!==i?i:fo.UNPACK,n.uid=ls(),n.touched=0,n.isPowerOfTwo=!1,n._refreshPOT(),n._glTextures={},n.dirtyId=0,n.dirtyStyleId=0,n.cacheId=null,n.valid=h>0&&c>0,n.textureCacheIds=[],n.destroyed=!1,n.resource=null,n._batchEnabled=0,n._batchLocation=0,n.parentTextureArray=null,n.setResource(t),n}return Xa(t,e),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,t){var r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,t,r){return r=r||this.resolution,this.setRealSize(e*r,t*r,r)},t.prototype.setRealSize=function(e,t,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=os(this.realWidth)&&os(this.realHeight)},t.prototype.setResolution=function(e){var t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete _s[this.cacheId],delete ps[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,r,n){void 0===n&&(n=ko.STRICT_TEXTURE_CACHE);var i="string"==typeof e,o=null;if(i)o=e;else{if(!e._pixiId){var s=r&&r.pixiIdPrefix||"pixiid";e._pixiId=s+"_"+ls()}o=e._pixiId}var a=_s[o];if(i&&n&&!a)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return a||((a=new t(e,r)).cacheId=o,t.addToCache(a,o)),a},t.fromBuffer=function(e,r,n,i){e=e||new Float32Array(r*n*4);var o=new ja(e,{width:r,height:n}),s=e instanceof Float32Array?ao.FLOAT:ao.UNSIGNED_BYTE;return new t(o,Object.assign({},za,i||{width:r,height:n,type:s}))},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),_s[t],_s[t]=e)},t.removeFromCache=function(e){if("string"==typeof e){var t=_s[e];if(t){var r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete _s[e],t}}else if(e&&e.textureCacheIds){for(var n=0;n<e.textureCacheIds.length;++n)delete _s[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(Yo),$a=function(e){function t(t,r){var n=this,i=r||{},o=i.width,s=i.height;(n=e.call(this,o,s)||this).items=[],n.itemDirtyIds=[];for(var a=0;a<t;a++){var h=new Za;n.items.push(h),n.itemDirtyIds.push(-2)}return n.length=t,n._load=null,n.baseTexture=null,n}return Xa(t,e),t.prototype.initFromArray=function(e,t){for(var r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof Ka?this.addResourceAt(e[r],r):this.addResourceAt(Ya(e[r],t),r))},t.prototype.dispose=function(){for(var e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,t){if(!this.items[t])throw new Error("Index "+t+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this},t.prototype.bind=function(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");e.prototype.bind.call(this,t);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=t,this.items[r].on("update",t.update,t)},t.prototype.unbind=function(t){e.prototype.unbind.call(this,t);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",t.update,t)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.items.map((function(e){return e.resource})).filter((function(e){return e})).map((function(e){return e.load()}));return this._load=Promise.all(t).then((function(){var t=e.items[0],r=t.realWidth,n=t.realHeight;return e.resize(r,n),Promise.resolve(e)})),this._load},t}(Ka),qa=function(e){function t(t,r){var n,i,o=this,s=r||{},a=s.width,h=s.height;return Array.isArray(t)?(n=t,i=t.length):i=t,o=e.call(this,i,{width:a,height:h})||this,n&&o.initFromArray(n,r),o}return Xa(t,e),t.prototype.addBaseTextureAt=function(e,t){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,t),this},t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=so.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,t,r){var n=this,i=n.length,o=n.itemDirtyIds,s=n.items,a=e.gl;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,i,0,t.format,r.type,null);for(var h=0;h<i;h++){var c=s[h];o[h]<c.dirtyId&&(o[h]=c.dirtyId,c.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,h,c.resource.width,c.resource.height,1,t.format,r.type,c.resource.source))}return!0},t}($a),Qa=function(e){function t(t){var r=this,n=t,i=n.naturalWidth||n.videoWidth||n.width,o=n.naturalHeight||n.videoHeight||n.height;return(r=e.call(this,i,o)||this).source=t,r.noSubImage=!1,r}return Xa(t,e),t.crossOrigin=function(e,t,r){void 0===r&&0!==t.indexOf("data:")?e.crossOrigin=function(e,t){if(void 0===t&&(t=globalThis.location),0===e.indexOf("data:"))return"";t=t||globalThis.location,gs||(gs=document.createElement("a")),gs.href=e;var r=Vo.parse(gs.href),n=!r.port&&""===t.port||r.port===t.port;return r.hostname===t.hostname&&n&&r.protocol===t.protocol?"":"anonymous"}(t):!1!==r&&(e.crossOrigin="string"==typeof r?r:"anonymous")},t.prototype.upload=function(e,t,r,n){var i=e.gl,o=t.realWidth,s=t.realHeight;if((n=n||this.source)instanceof HTMLImageElement){if(!n.complete||0===n.naturalWidth)return!1}else if(n instanceof HTMLVideoElement&&n.readyState<=1)return!1;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===fo.UNPACK),this.noSubImage||t.target!==i.TEXTURE_2D||r.width!==o||r.height!==s?(r.width=o,r.height=s,i.texImage2D(t.target,0,r.internalFormat,t.format,r.type,n)):i.texSubImage2D(i.TEXTURE_2D,0,0,0,t.format,r.type,n),!0},t.prototype.update=function(){if(!this.destroyed){var t=this.source,r=t.naturalWidth||t.videoWidth||t.width,n=t.naturalHeight||t.videoHeight||t.height;this.resize(r,n),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(Ka),Ja=function(e){function t(t){return e.call(this,t)||this}return Xa(t,e),t.test=function(e){var t=globalThis.OffscreenCanvas;return!!(t&&e instanceof t)||globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement},t}(Qa),eh=function(e){function t(r,n){var i=this,o=n||{},s=o.width,a=o.height,h=o.autoLoad,c=o.linkBaseTexture;if(r&&r.length!==t.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=e.call(this,6,{width:s,height:a})||this;for(var l=0;l<t.SIDES;l++)i.items[l].target=so.TEXTURE_CUBE_MAP_POSITIVE_X+l;return i.linkBaseTexture=!1!==c,r&&i.initFromArray(r,n),!1!==h&&i.load(),i}return Xa(t,e),t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=so.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,t,r){if(!this.items[t])throw new Error("Index "+t+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,t)}else e.target=so.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this},t.prototype.upload=function(e,r,n){for(var i=this.itemDirtyIds,o=0;o<t.SIDES;o++){var s=this.items[o];(i[o]<s.dirtyId||n.dirtyId<r.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(e,s,n),i[o]=s.dirtyId):i[o]<-1&&(e.gl.texImage2D(s.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[o]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}($a),th=function(e){function t(t,r){var n=this;if(r=r||{},!(t instanceof HTMLImageElement)){var i=new Image;Qa.crossOrigin(i,t,r.crossorigin),i.src=t,t=i}return n=e.call(this,t)||this,!t.complete&&n._width&&n._height&&(n._width=0,n._height=0),n.url=t.src,n._process=null,n.preserveBitmap=!1,n.createBitmap=(void 0!==r.createBitmap?r.createBitmap:ko.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,n.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,n.bitmap=null,n._load=null,!1!==r.autoLoad&&n.load(),n}return Xa(t,e),t.prototype.load=function(e){var t=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise((function(e,r){var n=t.source;t.url=n.src;var i=function(){t.destroyed||(n.onload=null,n.onerror=null,t.resize(n.width,n.height),t._load=null,t.createBitmap?e(t.process()):e(t))};n.complete&&n.src?i():(n.onload=i,n.onerror=function(e){r(e),t.onError.emit(e)})}))),this._load},t.prototype.process=function(){var e=this,t=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);var r=globalThis.createImageBitmap,n=!t.crossOrigin||"anonymous"===t.crossOrigin;return this._process=fetch(t.src,{mode:n?"cors":"no-cors"}).then((function(e){return e.blob()})).then((function(n){return r(n,0,0,t.width,t.height,{premultiplyAlpha:null===e.alphaMode||e.alphaMode===fo.UNPACK?"premultiply":"none"})})).then((function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))})),this._process},t.prototype.upload=function(t,r,n){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return e.prototype.upload.call(this,t,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,t,r,n,this.bitmap),!this.preserveBitmap){var i=!0,o=r._glTextures;for(var s in o){var a=o[s];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},t}(Qa),rh=function(e){function t(t,r){var n=this;return r=r||{},(n=e.call(this,ko.ADAPTER.createCanvas())||this)._width=0,n._height=0,n.svg=t,n.scale=r.scale||1,n._overrideWidth=r.width,n._overrideHeight=r.height,n._resolve=null,n._crossorigin=r.crossorigin,n._load=null,!1!==r.autoLoad&&n.load(),n}return Xa(t,e),t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise((function(r){if(e._resolve=function(){e.resize(e.source.width,e.source.height),r(e)},t.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}))),this._load},t.prototype._loadSvg=function(){var e=this,t=new Image;Qa.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=function(r){e._resolve&&(t.onerror=null,e.onError.emit(r))},t.onload=function(){if(e._resolve){var r=t.width,n=t.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var i=r*e.scale,o=n*e.scale;(e._overrideWidth||e._overrideHeight)&&(i=e._overrideWidth||e._overrideHeight/n*r,o=e._overrideHeight||e._overrideWidth/r*n),i=Math.round(i),o=Math.round(o);var s=e.source;s.width=i,s.height=o,s._pixiId="canvas_"+ls(),s.getContext("2d").drawImage(t,0,0,r,n,0,0,i,o),e._resolve(),e._resolve=null}}},t.getSize=function(e){var r=t.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,r){return"svg"===r||"string"==typeof e&&e.startsWith("data:image/svg+xml")||"string"==typeof e&&t.SVG_XML.test(e)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(Qa),nh=function(e){function t(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof r&&(r=[r]);var s=r[0].src||r[0];Qa.crossOrigin(o,s,n.crossorigin);for(var a=0;a<r.length;++a){var h=document.createElement("source"),c=r[a],l=c.src,u=c.mime,d=(l=l||r[a]).split("?").shift().toLowerCase(),f=d.slice(d.lastIndexOf(".")+1);u=u||t.MIME_TYPES[f]||"video/"+f,h.src=l,h.type=u,o.appendChild(h)}r=o}return(i=e.call(this,r)||this).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==n.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),!1!==n.autoLoad&&i.load(),i}return Xa(t,e),t.prototype.update=function(t){if(!this.destroyed){var r=Ps.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((function(r){e.valid?r(e):(e._resolve=r,t.load())})),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return!e.paused&&!e.ended&&this._isSourceReady()},t.prototype._isSourceReady=function(){return this.source.readyState>2},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ps.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Ps.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var t=this.valid;this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(Ps.shared.remove(this.update,this),this._isConnectedToTicker=!1);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Ps.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ps.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||t.TYPES.indexOf(r)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(Qa),ih=function(e){function t(t){return e.call(this,t)||this}return Xa(t,e),t.test=function(e){return!!globalThis.createImageBitmap&&"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap},t}(Qa);ka.push(th,ih,Ja,nh,rh,ja,eh,qa);var oh={__proto__:null,Resource:Ka,BaseImageResource:Qa,INSTALLED:ka,autoDetectResource:Ya,AbstractMultiResource:$a,ArrayResource:qa,BufferResource:ja,CanvasResource:Ja,CubeResource:eh,ImageResource:th,SVGResource:rh,VideoResource:nh,ImageBitmapResource:ih},sh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xa(t,e),t.prototype.upload=function(e,t,r){var n=e.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===fo.UNPACK);var i=t.realWidth,o=t.realHeight;return r.width===i&&r.height===o?n.texSubImage2D(t.target,0,0,0,i,o,t.format,r.type,this.data):(r.width=i,r.height=o,n.texImage2D(t.target,0,r.internalFormat,i,o,0,t.format,r.type,this.data)),!0},t}(ja),ah=function(){function e(e,t){this.width=Math.round(e||100),this.height=Math.round(t||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Fa("disposeFramebuffer"),this.multisample=mo.NONE}return Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),e.prototype.addColorTexture=function(e,t){return void 0===e&&(e=0),this.colorTextures[e]=t||new Za(null,{scaleMode:co.NEAREST,resolution:1,mipmap:uo.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.addDepthTexture=function(e){return this.depthTexture=e||new Za(new sh(null,{width:this.width,height:this.height}),{scaleMode:co.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:uo.OFF,format:oo.DEPTH_COMPONENT,type:ao.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.resize=function(e,t){if(e=Math.round(e),t=Math.round(t),e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var n=this.colorTextures[r],i=n.resolution;n.setSize(e/i,t/i)}if(this.depthTexture){i=this.depthTexture.resolution;this.depthTexture.setSize(e/i,t/i)}}},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},e}(),hh=function(e){function t(t){void 0===t&&(t={});var r=this;"number"==typeof t&&(t={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]});return t.width=t.width||100,t.height=t.height||100,t.multisample=void 0!==t.multisample?t.multisample:mo.NONE,(r=e.call(this,null,t)||this).mipmap=uo.OFF,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new ah(r.realWidth,r.realHeight).addColorTexture(0,r),r.framebuffer.multisample=t.multisample,r.maskStack=[],r.filterStack=[{}],r}return Xa(t,e),t.prototype.resize=function(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(Za),ch=function(){function e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return e.prototype.set=function(e,t,r){var n=t.width,i=t.height;if(r){var o=e.width/2/n,s=e.height/2/i,a=e.x/n+o,h=e.y/i+s;r=Ao.add(r,Ao.NW),this.x0=a+o*Ao.uX(r),this.y0=h+s*Ao.uY(r),r=Ao.add(r,2),this.x1=a+o*Ao.uX(r),this.y1=h+s*Ao.uY(r),r=Ao.add(r,2),this.x2=a+o*Ao.uX(r),this.y2=h+s*Ao.uY(r),r=Ao.add(r,2),this.x3=a+o*Ao.uX(r),this.y3=h+s*Ao.uY(r)}else this.x0=e.x/n,this.y0=e.y/i,this.x1=(e.x+e.width)/n,this.y1=e.y/i,this.x2=(e.x+e.width)/n,this.y2=(e.y+e.height)/i,this.x3=e.x/n,this.y3=(e.y+e.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},e.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},e}(),lh=new ch;function uh(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}var dh=function(e){function t(r,n,i,o,s,a){var h=e.call(this)||this;if(h.noFrame=!1,n||(h.noFrame=!0,n=new Fi(0,0,1,1)),r instanceof t&&(r=r.baseTexture),h.baseTexture=r,h._frame=n,h.trim=o,h.valid=!1,h._uvs=lh,h.uvMatrix=null,h.orig=i||n,h._rotate=Number(s||0),!0===s)h._rotate=2;else if(h._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return h.defaultAnchor=a?new Gi(a.x,a.y):new Gi(0,0),h._updateID=0,h.textureCacheIds=[],r.valid?h.noFrame?r.valid&&h.onBaseTextureUpdated(r):h.frame=n:r.once("loaded",h.onBaseTextureUpdated,h),h.noFrame&&r.on("update",h.onBaseTextureUpdated,h),h}return Xa(t,e),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var r=this.baseTexture.resource;r&&r.url&&ps[r.url]&&t.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new t(this.baseTexture,!this.noFrame&&e,r,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(n._frame=e),n},t.prototype.updateUvs=function(){this._uvs===lh&&(this._uvs=new ch),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,r,n){void 0===r&&(r={}),void 0===n&&(n=ko.STRICT_TEXTURE_CACHE);var i="string"==typeof e,o=null;if(i)o=e;else if(e instanceof Za){if(!e.cacheId){var s=r&&r.pixiIdPrefix||"pixiid";e.cacheId=s+"-"+ls(),Za.addToCache(e,e.cacheId)}o=e.cacheId}else{if(!e._pixiId){s=r&&r.pixiIdPrefix||"pixiid";e._pixiId=s+"_"+ls()}o=e._pixiId}var a=ps[o];if(i&&n&&!a)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return a||e instanceof Za?!a&&e instanceof Za&&(a=new t(e),t.addToCache(a,o)):(r.resolution||(r.resolution=bs(e)),(a=new t(new Za(e,r))).baseTexture.cacheId=o,Za.addToCache(a.baseTexture,o),t.addToCache(a,o)),a},t.fromURL=function(e,r){var n=Object.assign({autoLoad:!1},null==r?void 0:r.resourceOptions),i=t.from(e,Object.assign({resourceOptions:n},r),!1),o=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):o.load().then((function(){return Promise.resolve(i)}))},t.fromBuffer=function(e,r,n,i){return new t(Za.fromBuffer(e,r,n,i))},t.fromLoader=function(e,r,n,i){var o=new Za(e,Object.assign({scaleMode:ko.SCALE_MODE,resolution:bs(r)},i)),s=o.resource;s instanceof th&&(s.url=r);var a=new t(o);return n||(n=r),Za.addToCache(a.baseTexture,n),t.addToCache(a,n),n!==r&&(Za.addToCache(a.baseTexture,r),t.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise((function(e){a.baseTexture.once("loaded",(function(){return e(a)}))}))},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),ps[t],ps[t]=e)},t.removeFromCache=function(e){if("string"==typeof e){var t=ps[e];if(t){var r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete ps[e],t}}else if(e&&e.textureCacheIds){for(var n=0;n<e.textureCacheIds.length;++n)ps[e.textureCacheIds[n]]===e&&delete ps[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,r=e.y,n=e.width,i=e.height,o=t+n>this.baseTexture.width,s=r+i>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",h="X: "+t+" + "+n+" = "+(t+n)+" > "+this.baseTexture.width,c="Y: "+r+" + "+i+" = "+(r+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+a+" "+c)}this.valid=n&&i&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(t,"EMPTY",{get:function(){return t._EMPTY||(t._EMPTY=new t(new Za),uh(t._EMPTY),uh(t._EMPTY.baseTexture)),t._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(t,"WHITE",{get:function(){if(!t._WHITE){var e=ko.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),t._WHITE=new t(Za.from(e)),uh(t._WHITE),uh(t._WHITE.baseTexture)}return t._WHITE},enumerable:!1,configurable:!0}),t}(Yo),fh=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.valid=!0,n.filterFrame=null,n.filterPoolKey=null,n.updateUvs(),n}return Xa(t,e),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t,r){void 0===r&&(r=!0);var n=this.baseTexture.resolution,i=Math.round(e*n)/n,o=Math.round(t*n)/n;this.valid=i>0&&o>0,this._frame.width=this.orig.width=i,this._frame.height=this.orig.height=o,r&&this.baseTexture.resize(i,o),this.updateUvs()},t.prototype.setResolution=function(e){var t=this.baseTexture;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))},t.create=function(e){for(var r=arguments,n=[],i=1;i<arguments.length;i++)n[i-1]=r[i];return"number"==typeof e&&(ds(0,"Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:n[0],scaleMode:n[1],resolution:n[2]}),new t(new hh(e))},t}(dh),ph=function(){function e(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return e.prototype.createTexture=function(e,t,r){void 0===r&&(r=mo.NONE);var n=new hh(Object.assign({width:e,height:t,resolution:1,multisample:r},this.textureOptions));return new fh(n)},e.prototype.getOptimalTexture=function(e,t,r,n){var i;void 0===r&&(r=1),void 0===n&&(n=mo.NONE),e=Math.ceil(e*r-1e-6),t=Math.ceil(t*r-1e-6),this.enableFullScreen&&e===this._pixelsWidth&&t===this._pixelsHeight?i=n>1?-n:-1:(i=((65535&(e=is(e)))<<16|65535&(t=is(t)))>>>0,n>1&&(i+=4294967296*n)),this.texturePool[i]||(this.texturePool[i]=[]);var o=this.texturePool[i].pop();return o||(o=this.createTexture(e,t,n)),o.filterPoolKey=i,o.setResolution(r),o},e.prototype.getFilterTexture=function(e,t,r){var n=this.getOptimalTexture(e.width,e.height,t||e.resolution,r||mo.NONE);return n.filterFrame=e.filterFrame,n},e.prototype.returnTexture=function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)},e.prototype.returnFilterTexture=function(e){this.returnTexture(e)},e.prototype.clear=function(e){if(e=!1!==e)for(var t in this.texturePool){var r=this.texturePool[t];if(r)for(var n=0;n<r.length;n++)r[n].destroy(!0)}this.texturePool={}},e.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){for(var t in this.enableFullScreen=e.width>0&&e.height>0,this.texturePool)if(Number(t)<0){var r=this.texturePool[t];if(r)for(var n=0;n<r.length;n++)r[n].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},e.SCREEN_KEY=-1,e}(),_h=function(){function e(e,t,r,n,i,o,s){void 0===t&&(t=0),void 0===r&&(r=!1),void 0===n&&(n=ao.FLOAT),this.buffer=e,this.size=t,this.normalized=r,this.type=n,this.stride=i,this.start=o,this.instance=s}return e.prototype.destroy=function(){this.buffer=null},e.from=function(t,r,n,i,o){return new e(t,r,n,i,o)},e}(),Eh=0,gh=function(){function e(e,t,r){void 0===t&&(t=!0),void 0===r&&(r=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=Eh++,this.disposeRunner=new Fa("disposeBuffer")}return e.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(e.prototype,"index",{get:function(){return this.type===To.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?To.ELEMENT_ARRAY_BUFFER:To.ARRAY_BUFFER},enumerable:!1,configurable:!0}),e.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)},e}(),bh={Float32Array,Uint32Array,Int32Array,Uint8Array};var mh={5126:4,5123:2,5121:1},Th=0,Ah={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},xh=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=Th++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Fa("disposeGeometry"),this.refCount=0}return e.prototype.addAttribute=function(e,t,r,n,i,o,s,a){if(void 0===r&&(r=0),void 0===n&&(n=!1),void 0===a&&(a=!1),!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof gh||(t instanceof Array&&(t=new Float32Array(t)),t=new gh(t));var h=e.split("|");if(h.length>1){for(var c=0;c<h.length;c++)this.addAttribute(h[c],t,r,n,i);return this}var l=this.buffers.indexOf(t);return-1===l&&(this.buffers.push(t),l=this.buffers.length-1),this.attributes[e]=new _h(l,r,n,i,o,s,a),this.instanced=this.instanced||a,this},e.prototype.getAttribute=function(e){return this.attributes[e]},e.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},e.prototype.addIndex=function(e){return e instanceof gh||(e instanceof Array&&(e=new Uint16Array(e)),e=new gh(e)),e.type=To.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,-1===this.buffers.indexOf(e)&&this.buffers.push(e),this},e.prototype.getIndex=function(){return this.indexBuffer},e.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var e,t=[],r=[],n=new gh;for(e in this.attributes){var i=this.attributes[e],o=this.buffers[i.buffer];t.push(o.data),r.push(i.size*mh[i.type]/4),i.buffer=0}for(n.data=function(e,t){for(var r=0,n=0,i={},o=0;o<e.length;o++)n+=t[o],r+=e[o].length;var s=new ArrayBuffer(4*r),a=null,h=0;for(o=0;o<e.length;o++){var c=t[o],l=e[o],u=ns(l);i[u]||(i[u]=new bh[u](s)),a=i[u];for(var d=0;d<l.length;d++)a[(d/c|0)*n+h+d%c]=l[d];h+=c}return new Float32Array(s)}(t,r),e=0;e<this.buffers.length;e++)this.buffers[e]!==this.indexBuffer&&this.buffers[e].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},e.prototype.getSize=function(){for(var e in this.attributes){var t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},e.prototype.clone=function(){for(var t=new e,r=0;r<this.buffers.length;r++)t.buffers[r]=new gh(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];t.attributes[r]=new _h(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=To.ELEMENT_ARRAY_BUFFER),t},e.merge=function(t){for(var r,n=new e,i=[],o=[],s=[],a=0;a<t.length;a++){r=t[a];for(var h=0;h<r.buffers.length;h++)o[h]=o[h]||0,o[h]+=r.buffers[h].data.length,s[h]=0}for(a=0;a<r.buffers.length;a++)i[a]=new(Ah[ns(r.buffers[a].data)])(o[a]),n.buffers[a]=new gh(i[a]);for(a=0;a<t.length;a++){r=t[a];for(h=0;h<r.buffers.length;h++)i[h].set(r.buffers[h].data,s[h]),s[h]+=r.buffers[h].data.length}if(n.attributes=r.attributes,r.indexBuffer){n.indexBuffer=n.buffers[r.buffers.indexOf(r.indexBuffer)],n.indexBuffer.type=To.ELEMENT_ARRAY_BUFFER;var c=0,l=0,u=0,d=0;for(a=0;a<r.buffers.length;a++)if(r.buffers[a]!==r.indexBuffer){d=a;break}for(var a in r.attributes){var f=r.attributes[a];(0|f.buffer)===d&&(l+=f.size*mh[f.type]/4)}for(a=0;a<t.length;a++){var p=t[a].indexBuffer.data;for(h=0;h<p.length;h++)n.indexBuffer.data[h+u]+=c;c+=t[a].buffers[d].data.length/l,u+=p.length}}return n},e}(),Sh=function(e){function t(){var t=e.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}return Xa(t,e),t}(xh),yh=function(e){function t(){var t=e.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new gh(t.vertices),t.uvBuffer=new gh(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}return Xa(t,e),t.prototype.map=function(e,t){var r=0,n=0;return this.uvs[0]=r,this.uvs[1]=n,this.uvs[2]=r+t.width/e.width,this.uvs[3]=n,this.uvs[4]=r+t.width/e.width,this.uvs[5]=n+t.height/e.height,this.uvs[6]=r,this.uvs[7]=n+t.height/e.height,r=t.x,n=t.y,this.vertices[0]=r,this.vertices[1]=n,this.vertices[2]=r+t.width,this.vertices[3]=n,this.vertices[4]=r+t.width,this.vertices[5]=n+t.height,this.vertices[6]=r,this.vertices[7]=n+t.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(xh),Ih=0,Oh=function(){function e(e,t,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ih++,this.static=!!t,this.ubo=!!r,e instanceof gh?(this.buffer=e,this.buffer.type=To.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new gh(new Float32Array(1)),this.buffer.type=To.UNIFORM_BUFFER,this.autoManage=!0))}return e.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},e.prototype.add=function(t,r,n){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new e(r,n)},e.from=function(t,r,n){return new e(t,r,n)},e.uboFrom=function(t,r){return new e(t,null==r||r,!0)},e}(),Rh=function(){function e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=mo.NONE,this.sourceFrame=new Fi,this.destinationFrame=new Fi,this.bindingSourceFrame=new Fi,this.bindingDestinationFrame=new Fi,this.filters=[],this.transform=null}return e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},e}(),vh=[new Gi,new Gi,new Gi,new Gi],Ch=new Ki,Lh=function(){function e(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new ph,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new Sh,this.quadUv=new yh,this.tempRect=new Fi,this.activeState={},this.globalUniforms=new Oh({outputFrame:new Fi,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return e.prototype.push=function(e,t){for(var r,n,i=this.renderer,o=this.defaultFilterStack,s=this.statePool.pop()||new Rh,a=this.renderer.renderTexture,h=t[0].resolution,c=t[0].multisample,l=t[0].padding,u=t[0].autoFit,d=null===(r=t[0].legacy)||void 0===r||r,f=1;f<t.length;f++){var p=t[f];h=Math.min(h,p.resolution),c=Math.min(c,p.multisample),l=this.useMaxPadding?Math.max(l,p.padding):l+p.padding,u=u&&p.autoFit,d=d||null===(n=p.legacy)||void 0===n||n}1===o.length&&(this.defaultFilterStack[0].renderTexture=a.current),o.push(s),s.resolution=h,s.multisample=c,s.legacy=d,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(l);var _=this.tempRect.copyFrom(a.sourceFrame);i.projection.transform&&this.transformAABB(Ch.copyFrom(i.projection.transform).invert(),_),u?(s.sourceFrame.fit(_),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(_)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,a.current?a.current.resolution:i.resolution,a.sourceFrame,a.destinationFrame,i.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,h,c),s.filters=t,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;var E=this.tempRect;E.x=0,E.y=0,E.width=s.sourceFrame.width,E.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(a.sourceFrame),s.bindingDestinationFrame.copyFrom(a.destinationFrame),s.transform=i.projection.transform,i.projection.transform=null,a.bind(s.renderTexture,s.sourceFrame,E),i.framebuffer.clear(0,0,0,0)},e.prototype.pop=function(){var e=this.defaultFilterStack,t=e.pop(),r=t.filters;this.activeState=t;var n=this.globalUniforms.uniforms;n.outputFrame=t.sourceFrame,n.resolution=t.resolution;var i=n.inputSize,o=n.inputPixel,s=n.inputClamp;if(i[0]=t.destinationFrame.width,i[1]=t.destinationFrame.height,i[2]=1/i[0],i[3]=1/i[1],o[0]=Math.round(i[0]*t.resolution),o[1]=Math.round(i[1]*t.resolution),o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=t.sourceFrame.width*i[2]-.5*o[2],s[3]=t.sourceFrame.height*i[3]-.5*o[3],t.legacy){var a=n.filterArea;a[0]=t.destinationFrame.width,a[1]=t.destinationFrame.height,a[2]=t.sourceFrame.x,a[3]=t.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();var h=e[e.length-1];if(this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,t.renderTexture,h.renderTexture,po.BLEND,t),this.returnFilterTexture(t.renderTexture);else{var c=t.renderTexture,l=this.getOptimalFilterTexture(c.width,c.height,t.resolution);l.filterFrame=c.filterFrame;var u=0;for(u=0;u<r.length-1;++u){1===u&&t.multisample>1&&((l=this.getOptimalFilterTexture(c.width,c.height,t.resolution)).filterFrame=c.filterFrame),r[u].apply(this,c,l,po.CLEAR,t);var d=c;c=l,l=d}r[u].apply(this,c,h.renderTexture,po.BLEND,t),u>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(l)}t.clear(),this.statePool.push(t)},e.prototype.bindAndClear=function(e,t){void 0===t&&(t=po.CLEAR);var r=this.renderer,n=r.renderTexture,i=r.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=1&i.stateId||this.forceClear;(t===po.CLEAR||t===po.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)},e.prototype.applyFilter=function(e,t,r,n){var i=this.renderer;i.state.set(e.state),this.bindAndClear(r,n),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,i.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),i.geometry.bind(this.quadUv),i.geometry.draw(io.TRIANGLES)):(i.geometry.bind(this.quad),i.geometry.draw(io.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(e,t){var r=this.activeState,n=r.sourceFrame,i=r.destinationFrame,o=t._texture.orig,s=e.set(i.width,0,0,i.height,n.x,n.y),a=t.worldTransform.copyTo(Ki.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(t.anchor.x,t.anchor.y),s},e.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(e,t,r,n){return void 0===r&&(r=1),void 0===n&&(n=mo.NONE),this.texturePool.getOptimalTexture(e,t,r,n)},e.prototype.getFilterTexture=function(e,t,r){if("number"==typeof e){var n=e;e=t,t=n}e=e||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,r||mo.NONE);return i.filterFrame=e.filterFrame,i},e.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e.prototype.transformAABB=function(e,t){var r=vh[0],n=vh[1],i=vh[2],o=vh[3];r.set(t.left,t.top),n.set(t.left,t.bottom),i.set(t.right,t.top),o.set(t.right,t.bottom),e.apply(r,r),e.apply(n,n),e.apply(i,i),e.apply(o,o);var s=Math.min(r.x,n.x,i.x,o.x),a=Math.min(r.y,n.y,i.y,o.y),h=Math.max(r.x,n.x,i.x,o.x),c=Math.max(r.y,n.y,i.y,o.y);t.x=s,t.y=a,t.width=h-s,t.height=c-a},e.prototype.roundFrame=function(e,t,r,n,i){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(i){var o=i.a,s=i.b,a=i.c,h=i.d;if((Math.abs(s)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(h)>1e-4))return}(i=i?Ch.copyFrom(i):Ch.identity()).translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.transformAABB(i,e),e.ceil(t),this.transformAABB(i.invert(),e)}},e}(),Nh=function(){function e(e){this.renderer=e}return e.prototype.flush=function(){},e.prototype.destroy=function(){this.renderer=null},e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.render=function(e){},e}(),Ph=function(){function e(e){this.renderer=e,this.emptyRenderer=new Nh(e),this.currentRenderer=this.emptyRenderer}return e.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(e,t){for(var r=this.renderer.texture.boundTextures,n=t-1;n>=0;--n)e[n]=r[n]||null,e[n]&&(e[n]._batchLocation=n)},e.prototype.boundArray=function(e,t,r,n){for(var i=e.elements,o=e.ids,s=e.count,a=0,h=0;h<s;h++){var c=i[h],l=c._batchLocation;if(l>=0&&l<n&&t[l]===c)o[h]=l;else for(;a<n;){var u=t[a];if(!u||u._batchEnabled!==r||u._batchLocation!==a){o[h]=a,c._batchLocation=a,t[a]=c;break}a++}}},e.prototype.destroy=function(){this.renderer=null},e}(),wh=0,Mh=function(){function e(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=wh++},e.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=wh++,this.renderer.runners.contextChange.emit(e)},e.prototype.initFromOptions=function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)},e.prototype.createContext=function(e,t){var r;if(ko.PREFER_ENV>=eo.WEBGL2&&(r=e.getContext("webgl2",t)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var e=this.gl,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},e.prototype.handleContextLost=function(e){var t=this;e.preventDefault(),setTimeout((function(){t.gl.isContextLost()&&t.extensions.loseContext&&t.extensions.loseContext.restoreContext()}),0)},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(e){var t=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),t&&t.stencil;var n=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=n},e}(),Dh=function(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=mo.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},Uh=new Fi,Bh=function(){function e(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new ah(10,10),this.msaaSamples=null}return e.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Fi,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){var t=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;ko.PREFER_ENV===eo.WEBGL_LEGACY&&(t=null,r=null),t?e.drawBuffers=function(e){return t.drawBuffersWEBGL(e)}:(this.hasMRT=!1,e.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},e.prototype.bind=function(e,t,r){void 0===r&&(r=0);var n=this.gl;if(e){var i=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,n.bindFramebuffer(n.FRAMEBUFFER,i.framebuffer)),i.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,i.mipLevel=r),i.dirtyId!==e.dirtyId&&(i.dirtyId=e.dirtyId,i.dirtyFormat!==e.dirtyFormat?(i.dirtyFormat=e.dirtyFormat,i.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):i.dirtySize!==e.dirtySize&&(i.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var o=0;o<e.colorTextures.length;o++){var s=e.colorTextures[o];this.renderer.texture.unbind(s.parentTextureArray||s)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){var a=t.width>>r,h=t.height>>r,c=a/t.width;this.setViewport(t.x*c,t.y*c,a,h)}else{a=e.width>>r,h=e.height>>r;this.setViewport(0,0,a,h)}}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(e,t,r,n){var i=this.viewport;e=Math.round(e),t=Math.round(t),r=Math.round(r),n=Math.round(n),i.width===r&&i.height===n&&i.x===e&&i.y===t||(i.x=e,i.y=t,i.width=r,i.height=n,this.gl.viewport(e,t,r,n))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(e,t,r,n,i){void 0===i&&(i=ro.COLOR|ro.DEPTH);var o=this.gl;o.clearColor(e,t,r,n),o.clear(i)},e.prototype.initFramebuffer=function(e){var t=this.gl,r=new Dh(t.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r},e.prototype.resizeFramebuffer=function(e){var t=this.gl,r=e.glFramebuffers[this.CONTEXT_UID];r.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,r.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,t.RGBA8,e.width,e.height)),r.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,r.stencil),r.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,t.DEPTH24_STENCIL8,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));var n=e.colorTextures,i=n.length;t.drawBuffers||(i=Math.min(i,1));for(var o=0;o<i;o++){var s=n[o],a=s.parentTextureArray||s;this.renderer.texture.bind(a,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},e.prototype.updateFramebuffer=function(e,t){var r=this.gl,n=e.glFramebuffers[this.CONTEXT_UID],i=e.colorTextures,o=i.length;r.drawBuffers||(o=Math.min(o,1)),n.multisample>1&&this.canMultisampleFramebuffer(e)?(n.msaaBuffer=n.msaaBuffer||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,n.msaaBuffer)):n.msaaBuffer&&(r.deleteRenderbuffer(n.msaaBuffer),n.msaaBuffer=null,n.blitFramebuffer&&(n.blitFramebuffer.dispose(),n.blitFramebuffer=null));for(var s=[],a=0;a<o;a++){var h=i[a],c=h.parentTextureArray||h;this.renderer.texture.bind(c,0),0===a&&n.msaaBuffer||(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+a,h.target,c._glTextures[this.CONTEXT_UID].texture,t),s.push(r.COLOR_ATTACHMENT0+a))}if((s.length>1&&r.drawBuffers(s),e.depthTexture)&&this.writeDepthTexture){var l=e.depthTexture;this.renderer.texture.bind(l,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,l._glTextures[this.CONTEXT_UID].texture,t)}!e.stencil&&!e.depth||e.depthTexture&&this.writeDepthTexture?n.stencil&&(r.deleteRenderbuffer(n.stencil),n.stencil=null):(n.stencil=n.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,n.stencil))},e.prototype.canMultisampleFramebuffer=function(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture},e.prototype.detectSamples=function(e){var t=this.msaaSamples,r=mo.NONE;if(e<=1||null===t)return r;for(var n=0;n<t.length;n++)if(t[n]<=e){r=t[n];break}return 1===r&&(r=mo.NONE),r},e.prototype.blit=function(e,t,r){var n=this,i=n.current,o=n.renderer,s=n.gl,a=n.CONTEXT_UID;if(2===o.context.webGLVersion&&i){var h=i.glFramebuffers[a];if(h){if(!e){if(!h.msaaBuffer)return;var c=i.colorTextures[0];if(!c)return;h.blitFramebuffer||(h.blitFramebuffer=new ah(i.width,i.height),h.blitFramebuffer.addColorTexture(0,c)),(e=h.blitFramebuffer).colorTextures[0]!==c&&(e.colorTextures[0]=c,e.dirtyId++,e.dirtyFormat++),e.width===i.width&&e.height===i.height||(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}t||((t=Uh).width=i.width,t.height=i.height),r||(r=t);var l=t.width===r.width&&t.height===r.height;this.bind(e),s.bindFramebuffer(s.READ_FRAMEBUFFER,h.framebuffer),s.blitFramebuffer(t.left,t.top,t.right,t.bottom,r.left,r.top,r.right,r.bottom,s.COLOR_BUFFER_BIT,l?s.NEAREST:s.LINEAR)}}},e.prototype.disposeFramebuffer=function(e,t){var r=e.glFramebuffers[this.CONTEXT_UID],n=this.gl;if(r){delete e.glFramebuffers[this.CONTEXT_UID];var i=this.managedFramebuffers.indexOf(e);i>=0&&this.managedFramebuffers.splice(i,1),e.disposeRunner.remove(this),t||(n.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&n.deleteRenderbuffer(r.msaaBuffer),r.stencil&&n.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}},e.prototype.disposeAll=function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<t.length;r++)this.disposeFramebuffer(t[r],e)},e.prototype.forceStencil=function(){var e=this.current;if(e){var t=e.glFramebuffers[this.CONTEXT_UID];if(t&&!t.stencil){e.stencil=!0;var r=e.width,n=e.height,i=this.gl,o=i.createRenderbuffer();i.bindRenderbuffer(i.RENDERBUFFER,o),t.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,t.multisample,i.DEPTH24_STENCIL8,r,n):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,r,n),t.stencil=o,i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,o)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Fi},e.prototype.destroy=function(){this.renderer=null},e}(),Gh={5126:4,5123:2,5121:1},Hh=function(){function e(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return e.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){var r=this.renderer.context.extensions.vertexArrayObject;ko.PREFER_ENV===eo.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=function(){return r.createVertexArrayOES()},e.bindVertexArray=function(e){return r.bindVertexArrayOES(e)},e.deleteVertexArray=function(e){return r.deleteVertexArrayOES(e)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(2!==t.webGLVersion){var n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=function(e,t){return n.vertexAttribDivisorANGLE(e,t)},e.drawElementsInstanced=function(e,t,r,i,o){return n.drawElementsInstancedANGLE(e,t,r,i,o)},e.drawArraysInstanced=function(e,t,r,i){return n.drawArraysInstancedANGLE(e,t,r,i)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex},e.prototype.bind=function(e,t){t=t||this.renderer.shader.shader;var r=this.gl,n=e.glVertexArrayObjects[this.CONTEXT_UID],i=!1;n||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=n={},i=!0);var o=n[t.program.id]||this.initGeometryVao(e,t,i);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?r.bindVertexArray(o):this.activateVao(e,t.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var e=this._activeGeometry,t=this.renderer.buffer,r=0;r<e.buffers.length;r++){var n=e.buffers[r];t.update(n)}},e.prototype.checkCompatibility=function(e,t){var r=e.attributes,n=t.attributeData;for(var i in n)if(!r[i])throw new Error('shader and geometry incompatible, geometry missing the "'+i+'" attribute')},e.prototype.getSignature=function(e,t){var r=e.attributes,n=t.attributeData,i=["g",e.id];for(var o in r)n[o]&&i.push(o,n[o].location);return i.join("-")},e.prototype.initGeometryVao=function(e,t,r){void 0===r&&(r=!0);var n=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,s=t.program;s.glPrograms[i]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,s);var a=this.getSignature(e,s),h=e.glVertexArrayObjects[this.CONTEXT_UID],c=h[a];if(c)return h[s.id]=c,c;var l=e.buffers,u=e.attributes,d={},f={};for(var p in l)d[p]=0,f[p]=0;for(var p in u)!u[p].size&&s.attributeData[p]?u[p].size=s.attributeData[p].size:u[p].size,d[u[p].buffer]+=u[p].size*Gh[u[p].type];for(var p in u){var _=u[p],E=_.size;void 0===_.stride&&(d[_.buffer]===E*Gh[_.type]?_.stride=0:_.stride=d[_.buffer]),void 0===_.start&&(_.start=f[_.buffer],f[_.buffer]+=E*Gh[_.type])}c=n.createVertexArray(),n.bindVertexArray(c);for(var g=0;g<l.length;g++){var b=l[g];o.bind(b),r&&b._glBuffers[i].refCount++}return this.activateVao(e,s),this._activeVao=c,h[s.id]=c,h[a]=c,c},e.prototype.disposeGeometry=function(e,t){var r;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,o=e.buffers,s=null===(r=this.renderer)||void 0===r?void 0:r.buffer;if(e.disposeRunner.remove(this),n){if(s)for(var a=0;a<o.length;a++){var h=o[a]._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,0!==h.refCount||t||s.dispose(o[a],t))}if(!t)for(var c in n)if("g"===c[0]){var l=n[c];this._activeVao===l&&this.unbind(),i.deleteVertexArray(l)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedGeometries),r=0;r<t.length;r++)this.disposeGeometry(this.managedGeometries[t[r]],e)},e.prototype.activateVao=function(e,t){var r=this.gl,n=this.CONTEXT_UID,i=this.renderer.buffer,o=e.buffers,s=e.attributes;e.indexBuffer&&i.bind(e.indexBuffer);var a=null;for(var h in s){var c=s[h],l=o[c.buffer],u=l._glBuffers[n];if(t.attributeData[h]){a!==u&&(i.bind(l),a=u);var d=t.attributeData[h].location;if(r.enableVertexAttribArray(d),r.vertexAttribPointer(d,c.size,c.type||r.FLOAT,c.normalized,c.stride,c.start),c.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(d,1)}}}},e.prototype.draw=function(e,t,r,n){var i=this.gl,o=this._activeGeometry;if(o.indexBuffer){var s=o.indexBuffer.data.BYTES_PER_ELEMENT,a=2===s?i.UNSIGNED_SHORT:i.UNSIGNED_INT;(2===s||4===s&&this.canUseUInt32ElementIndex)&&(o.instanced?i.drawElementsInstanced(e,t||o.indexBuffer.data.length,a,(r||0)*s,n||1):i.drawElements(e,t||o.indexBuffer.data.length,a,(r||0)*s))}else o.instanced?i.drawArraysInstanced(e,r,t||o.getSize(),n||1):i.drawArrays(e,r,t||o.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e.prototype.destroy=function(){this.renderer=null},e}(),Fh=function(){function e(e){void 0===e&&(e=null),this.type=go.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=ko.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(e.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=go.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},e.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},e}();function kh(e,t,r){var n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}function Yh(e,t){var r=e.getShaderSource(t).split("\n").map((function(e,t){return t+": "+e})),n=e.getShaderInfoLog(t).split("\n"),i={},o=n.map((function(e){return parseFloat(e.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))})).filter((function(e){return!(!e||i[e])&&(i[e]=!0,!0)})),s=[""];o.forEach((function(e){r[e-1]="%c"+r[e-1]+"%c",s.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));var a=r.join("\n");s[0]=a}function Wh(e){for(var t=new Array(e),r=0;r<t.length;r++)t[r]=!1;return t}function Xh(e,t){switch(e){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return Wh(2*t);case"bvec3":return Wh(3*t);case"bvec4":return Wh(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Vh,Kh={},jh=Kh;function zh(){if(!Vh){Vh=Eo.MEDIUM;var e=function(){if(jh===Kh||jh&&jh.isContextLost()){var e=ko.ADAPTER.createCanvas(),t=void 0;ko.PREFER_ENV>=eo.WEBGL2&&(t=e.getContext("webgl2",{})),t||((t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),jh=t}return jh}();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);Vh=t.precision?Eo.HIGH:Eo.MEDIUM}}return Vh}function Zh(e,t,r){if("precision"!==e.substring(0,9)){var n=t;return t===Eo.HIGH&&r!==Eo.HIGH&&(n=Eo.MEDIUM),"precision "+n+" float;\n"+e}return r!==Eo.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}var $h={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function qh(e){return $h[e]}var Qh=null,Jh={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function ec(e,t){if(!Qh){var r=Object.keys(Jh);Qh={};for(var n=0;n<r.length;++n){var i=r[n];Qh[e[i]]=Jh[i]}}return Qh[t]}var tc=[{test:function(e){return"float"===e.type&&1===e.size&&!e.isArray},code:function(e){return'\n            if(uv["'+e+'"] !== ud["'+e+'"].value)\n            {\n                ud["'+e+'"].value = uv["'+e+'"]\n                gl.uniform1f(ud["'+e+'"].location, uv["'+e+'"])\n            }\n            '}},{test:function(e,t){return!("sampler2D"!==e.type&&"samplerCube"!==e.type&&"sampler2DArray"!==e.type||1!==e.size||e.isArray||null!=t&&void 0===t.castToBaseTexture)},code:function(e){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+e+'"], t);\n\n            if(ud["'+e+'"].value !== t)\n            {\n                ud["'+e+'"].value = t;\n                gl.uniform1i(ud["'+e+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(e,t){return"mat3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.a},code:function(e){return'\n            gl.uniformMatrix3fv(ud["'+e+'"].location, false, uv["'+e+'"].toArray(true));\n            '},codeUbo:function(e){return"\n                var "+e+"_matrix = uv."+e+".toArray(true);\n\n                data[offset] = "+e+"_matrix[0];\n                data[offset+1] = "+e+"_matrix[1];\n                data[offset+2] = "+e+"_matrix[2];\n        \n                data[offset + 4] = "+e+"_matrix[3];\n                data[offset + 5] = "+e+"_matrix[4];\n                data[offset + 6] = "+e+"_matrix[5];\n        \n                data[offset + 8] = "+e+"_matrix[6];\n                data[offset + 9] = "+e+"_matrix[7];\n                data[offset + 10] = "+e+"_matrix[8];\n            "}},{test:function(e,t){return"vec2"===e.type&&1===e.size&&!e.isArray&&void 0!==t.x},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+e+'"].location, v.x, v.y);\n                }'},codeUbo:function(e){return"\n                v = uv."+e+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(e){return"vec2"===e.type&&1===e.size&&!e.isArray},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+e+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(e,t){return"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.width},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+e+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(e){return"\n                    v = uv."+e+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(e){return"vec4"===e.type&&1===e.size&&!e.isArray},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+e+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],rc={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},nc={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var ic,oc=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function sc(e){for(var t="",r=0;r<e;++r)r>0&&(t+="\nelse "),r<e-1&&(t+="if(test == "+r+".0){}");return t}var ac=0,hc={},cc=function(){function e(t,r,n){void 0===n&&(n="pixi-shader"),this.id=ac++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=r||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(n=n.replace(/\s+/g,"-"),hc[n]?(hc[n]++,n+="-"+hc[n]):hc[n]=1,this.vertexSrc="#define SHADER_NAME "+n+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+"\n"+this.fragmentSrc,this.vertexSrc=Zh(this.vertexSrc,ko.PRECISION_VERTEX,Eo.HIGH),this.fragmentSrc=Zh(this.fragmentSrc,ko.PRECISION_FRAGMENT,zh())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),e.from=function(t,r,n){var i=t+r,o=fs[i];return o||(fs[i]=o=new e(t,r,n)),o},e}(),lc=function(){function e(e,t){this.uniformBindCount=0,this.program=e,this.uniformGroup=t?t instanceof Oh?t:new Oh(t):new Oh({}),this.disposeRunner=new Fa("disposeShader")}return e.prototype.checkUniformExists=function(e,t){if(t.uniforms[e])return!0;for(var r in t.uniforms){var n=t.uniforms[r];if(n.group&&this.checkUniformExists(e,n))return!0}return!1},e.prototype.destroy=function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),e.from=function(t,r,n){return new e(cc.from(t,r),n)},e}(),uc=function(){function e(){this.data=0,this.blendMode=no.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(e.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(e){!!(1&this.data)!==e&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(e){!!(2&this.data)!==e&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(e){!!(4&this.data)!==e&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(e){!!(8&this.data)!==e&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(e){!!(32&this.data)!==e&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(e){!!(16&this.data)!==e&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==no.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},e.for2d=function(){var t=new e;return t.depthTest=!1,t.blend=!0,t},e}(),dc=function(e){function t(r,n,i){var o=this,s=cc.from(r||t.defaultVertexSrc,n||t.defaultFragmentSrc);return(o=e.call(this,s,i)||this).padding=0,o.resolution=ko.FILTER_RESOLUTION,o.multisample=ko.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new uc,o}return Xa(t,e),t.prototype.apply=function(e,t,r,n,i){e.applyFilter(this,t,r,n)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(lc),fc=new Ki,pc=function(){function e(e,t){this._texture=e,this.mapCoord=new Ki,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===t?.5:t,this.isSimple=!1}return Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),e.prototype.multiplyUvs=function(e,t){void 0===t&&(t=e);for(var r=this.mapCoord,n=0;n<e.length;n+=2){var i=e[n],o=e[n+1];t[n]=i*r.a+o*r.c+r.tx,t[n+1]=i*r.b+o*r.d+r.ty}return t},e.prototype.update=function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var n=t.orig,i=t.trim;i&&(fc.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(fc));var o=t.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(t._frame.x+a+h)/o.width,s[1]=(t._frame.y+a+h)/o.height,s[2]=(t._frame.x+t._frame.width-a+h)/o.width,s[3]=(t._frame.y+t._frame.height-a+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=t._frame.width===o.width&&t._frame.height===o.height&&0===t.rotate,!0},e}(),_c=function(e){function t(t,r,n){var i=this,o=null;return"string"!=typeof t&&void 0===r&&void 0===n&&(o=t,t=void 0,r=void 0,n=void 0),(i=e.call(this,t||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",r||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",n)||this).maskSprite=o,i.maskMatrix=new Ki,i}return Xa(t,e),Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(e,t,r,n){var i=this._maskSprite,o=i._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new pc(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,i).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,t,r,n))},t}(dc),Ec=function(){function e(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return e.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},e.prototype.push=function(e,t){var r=t;if(!r.isMaskData){var n=this.maskDataPool.pop()||new Fh;n.pooled=!0,n.maskObject=t,r=n}var i=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(i),r._colorMask=i?i._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==go.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case go.SCISSOR:this.renderer.scissor.push(r);break;case go.STENCIL:this.renderer.stencil.push(r);break;case go.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case go.COLOR:this.pushColorMask(r)}r.type===go.SPRITE&&this.maskStack.push(r)},e.prototype.pop=function(e){var t=this.maskStack.pop();if(t&&t._target===e){if(t.enabled)switch(t.type){case go.SCISSOR:this.renderer.scissor.pop(t);break;case go.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case go.SPRITE:this.popSpriteMask(t);break;case go.COLOR:this.popColorMask(t)}if(t.reset(),t.pooled&&this.maskDataPool.push(t),0!==this.maskStack.length){var r=this.maskStack[this.maskStack.length-1];r.type===go.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}},e.prototype.detect=function(e){var t=e.maskObject;t?t.isSprite?e.type=go.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=go.SCISSOR:e.type=go.STENCIL:e.type=go.COLOR},e.prototype.pushSpriteMask=function(e){var t,r,n=e.maskObject,i=e._target,o=e._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex])||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new _c]);var s,a,h=this.renderer,c=h.renderTexture;if(c.current){var l=c.current;s=e.resolution||l.resolution,a=null!==(t=e.multisample)&&void 0!==t?t:l.multisample}else s=e.resolution||h.resolution,a=null!==(r=e.multisample)&&void 0!==r?r:h.multisample;o[0].resolution=s,o[0].multisample=a,o[0].maskSprite=n;var u=i.filterArea;i.filterArea=n.getBounds(!0),h.filter.push(i,o),i.filterArea=u,e._filters||this.alphaMaskIndex++},e.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},e.prototype.pushColorMask=function(e){var t=e._colorMask,r=e._colorMask=t&e.colorMask;r!==t&&this.renderer.gl.colorMask(!!(1&r),!!(2&r),!!(4&r),!!(8&r))},e.prototype.popColorMask=function(e){var t=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==t&&this.renderer.gl.colorMask(!!(1&r),!!(2&r),!!(4&r),!!(8&r))},e.prototype.destroy=function(){this.renderer=null},e}(),gc=function(){function e(e){this.renderer=e,this.maskStack=[],this.glConst=0}return e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(e){var t=this.renderer.gl,r=this.getStackLength();this.maskStack=e;var n=this.getStackLength();n!==r&&(0===n?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){this.renderer=null,this.maskStack=null},e}(),bc=new Ki,mc=[],Tc=function(e){function t(t){var r=e.call(this,t)||this;return r.glConst=ko.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,r}return Xa(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.calcScissorRect=function(e){var t;if(!e._scissorRectLocal){var r=e._scissorRect,n=e.maskObject,i=this.renderer,o=i.renderTexture,s=n.getBounds(!0,null!==(t=mc.pop())&&void 0!==t?t:new Fi);this.roundFrameToPixels(s,o.current?o.current.resolution:i.resolution,o.sourceFrame,o.destinationFrame,i.projection.transform),r&&s.fit(r),e._scissorRectLocal=s}},t.isMatrixRotated=function(e){if(!e)return!1;var t=e.a,r=e.b,n=e.c,i=e.d;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(i)>1e-4)},t.prototype.testScissor=function(e){var r=e.maskObject;if(!r.isFastRect||!r.isFastRect())return!1;if(t.isMatrixRotated(r.worldTransform))return!1;if(t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var n=e._scissorRectLocal;return n.width>0&&n.height>0},t.prototype.roundFrameToPixels=function(e,r,n,i,o){t.isMatrixRotated(o)||((o=o?bc.copyFrom(o):bc.identity()).translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(o,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))},t.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var t=this.renderer.gl;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(e){var t=this.renderer.gl;e&&mc.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e,t=this.maskStack[this.maskStack.length-1]._scissorRect;e=this.renderer.renderTexture.current?t.y:this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)},t}(gc),Ac=function(e){function t(t){var r=e.call(this,t)||this;return r.glConst=ko.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,r}return Xa(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var t=e.maskObject,r=this.renderer.gl,n=e._stencilCounter;0===n&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;var i=e._colorMask;0!==i&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,n,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==i&&(e._colorMask=i,r.colorMask(!!(1&i),!!(2&i),!!(4&i),!!(8&i))),this._useCurrent()},t.prototype.pop=function(e){var t=this.renderer.gl;if(0===this.getStackLength())t.disable(t.STENCIL_TEST);else{var r=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,n=r?r._colorMask:15;0!==n&&(r._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==n&&(r._colorMask=n,t.colorMask(!!(1&n),!!(2&n),!!(4&n),!!(8&n))),this._useCurrent()}},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t}(gc),xc=function(){function e(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ki,this.transform=null}return e.prototype.update=function(e,t,r,n){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,n),this.transform&&this.projectionMatrix.append(this.transform);var i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(e,t,r,n){var i=this.projectionMatrix,o=n?-1:1;i.identity(),i.a=1/t.width*2,i.d=o*(1/t.height*2),i.tx=-1-t.x*i.a,i.ty=-o-t.y*i.d},e.prototype.setTransform=function(e){},e.prototype.destroy=function(){this.renderer=null},e}(),Sc=new Fi,yc=new Fi,Ic=function(){function e(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Fi,this.destinationFrame=new Fi,this.viewportFrame=new Fi}return e.prototype.bind=function(e,t,r){void 0===e&&(e=null);var n,i,o,s=this.renderer;this.current=e,e?(o=(n=e.baseTexture).resolution,t||(Sc.width=e.frame.width,Sc.height=e.frame.height,t=Sc),r||(yc.x=e.frame.x,yc.y=e.frame.y,yc.width=t.width,yc.height=t.height,r=yc),i=n.framebuffer):(o=s.resolution,t||(Sc.width=s.screen.width,Sc.height=s.screen.height,t=Sc),r||((r=Sc).width=t.width,r.height=t.height));var a=this.viewportFrame;a.x=r.x*o,a.y=r.y*o,a.width=r.width*o,a.height=r.height*o,e||(a.y=s.view.height-(a.y+a.height)),a.ceil(),this.renderer.framebuffer.bind(i,a),this.renderer.projection.update(r,t,o,!i),e?this.renderer.mask.setMaskStack(n.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(r)},e.prototype.clear=function(e,t){e=this.current?e||this.current.baseTexture.clearColor:e||this.clearColor;var r=this.destinationFrame,n=this.current?this.current.baseTexture:this.renderer.screen,i=r.width!==n.width||r.height!==n.height;if(i){var o=this.viewportFrame,s=o.x,a=o.y,h=o.width,c=o.height;s=Math.round(s),a=Math.round(a),h=Math.round(h),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,a,h,c)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],t),i&&this.renderer.scissor.pop()},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e.prototype.destroy=function(){this.renderer=null},e}();function Oc(e,t,r,n,i){r.buffer.update(i)}var Rc={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},vc={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function Cc(e,t){if(!e.autoManage)return{size:0,syncFunc:Oc};for(var r=function(e,t){var r=[];for(var n in e)t[n]&&r.push(t[n]);return r.sort((function(e,t){return e.index-t.index})),r}(e.uniforms,t),n=function(e){for(var t=e.map((function(e){return{data:e,offset:0,dataLen:0,dirty:0}})),r=0,n=0,i=0,o=0;o<t.length;o++){var s=t[o];if(r=vc[s.data.type],s.data.size>1&&(r=Math.max(r,16)*s.data.size),s.dataLen=r,n%r!==0&&n<16){var a=n%r%16;n+=a,i+=a}n+r>16?(i=16*Math.ceil(i/16),s.offset=i,i+=r,n=r):(s.offset=i,n+=r,i+=r)}return{uboElements:t,size:i=16*Math.ceil(i/16)}}(r),i=n.uboElements,o=n.size,s=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],a=0;a<i.length;a++){for(var h=i[a],c=e.uniforms[h.data.name],l=h.data.name,u=!1,d=0;d<tc.length;d++){var f=tc[d];if(f.codeUbo&&f.test(h.data,c)){s.push("offset = "+h.offset/4+";",tc[d].codeUbo(h.data.name,c)),u=!0;break}}if(!u)if(h.data.size>1){var p=qh(h.data.type),_=Math.max(vc[h.data.type]/16,1),E=p/_,g=(4-E%4)%4;s.push("\n                cv = ud."+l+".value;\n                v = uv."+l+";\n                offset = "+h.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+h.data.size*_+"; i++)\n                {\n                    for(var j = 0; j < "+E+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+g+";\n                }\n\n                ")}else{var b=Rc[h.data.type];s.push("\n                cv = ud."+l+".value;\n                v = uv."+l+";\n                offset = "+h.offset/4+";\n                "+b+";\n                ")}}return s.push("\n       renderer.buffer.update(buffer);\n    "),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join("\n"))}}var Lc=function(){function e(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},e}();function Nc(e,t){var r=kh(e,e.VERTEX_SHADER,t.vertexSrc),n=kh(e,e.FRAGMENT_SHADER,t.fragmentSrc),i=e.createProgram();if(e.attachShader(i,r),e.attachShader(i,n),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)||function(e,t,r,n){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(r,e.COMPILE_STATUS)||Yh(e,r),e.getShaderParameter(n,e.COMPILE_STATUS)||Yh(e,n),e.getProgramInfoLog(t))}(e,i,r,n),t.attributeData=function(e,t){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var o=t.getActiveAttrib(e,i);if(0!==o.name.indexOf("gl_")){var s=ec(t,o.type),a={type:s,name:o.name,size:qh(s),location:t.getAttribLocation(e,o.name)};r[o.name]=a}}return r}(i,e),t.uniformData=function(e,t){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<n;i++){var o=t.getActiveUniform(e,i),s=o.name.replace(/\[.*?\]$/,""),a=!!o.name.match(/\[.*?\]$/),h=ec(t,o.type);r[s]={name:s,index:i,type:h,size:o.size,isArray:a,value:Xh(h,o.size)}}return r}(i,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var o=Object.keys(t.attributeData);o.sort((function(e,t){return e>t?1:-1}));for(var s=0;s<o.length;s++)t.attributeData[o[s]].location=s,e.bindAttribLocation(i,s,o[s]);e.linkProgram(i)}e.deleteShader(r),e.deleteShader(n);var a={};for(var s in t.uniformData){var h=t.uniformData[s];a[s]={location:e.getUniformLocation(i,s),value:Xh(h.type,h.size)}}return new Lc(i,a)}var Pc=0,wc={textureCount:0,uboCount:0},Mc=function(){function e(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Pc++}return e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof ic)return ic;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");ic=!0===e({a:"b"},"a","b")}catch(e){ic=!1}return ic}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(e){this.gl=e,this.reset()},e.prototype.bind=function(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;var r=e.program,n=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(n.program)),t||(wc.textureCount=0,wc.uboCount=0,this.syncUniformGroup(e.uniformGroup,wc)),n},e.prototype.setUniforms=function(e){var t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)},e.prototype.syncUniformGroup=function(e,t){var r=this.getGlProgram();e.static&&e.dirtyId===r.uniformDirtyGroups[e.id]||(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))},e.prototype.syncUniforms=function(e,t,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,r)},e.prototype.createSyncGroups=function(e){var t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=function(e,t){var r,n=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var i in e.uniforms){var o=t[i];if(o){for(var s=e.uniforms[i],a=!1,h=0;h<tc.length;h++)if(tc[h].test(o,s)){n.push(tc[h].code(i,s)),a=!0;break}if(!a){var c=(1!==o.size||o.isArray?nc:rc)[o.type].replace("location",'ud["'+i+'"].location');n.push('\n            cu = ud["'+i+'"];\n            cv = cu.value;\n            v = uv["'+i+'"];\n            '+c+";")}}else(null===(r=e.uniforms[i])||void 0===r?void 0:r.group)&&(e.uniforms[i].ubo?n.push("\n                        renderer.shader.syncUniformBufferGroup(uv."+i+", '"+i+"');\n                    "):n.push("\n                        renderer.shader.syncUniformGroup(uv."+i+", syncData);\n                    "))}return new Function("ud","uv","renderer","syncData",n.join("\n"))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]},e.prototype.syncUniformBufferGroup=function(e,t){var r=this.getGlProgram();if(!e.static||0!==e.dirtyId||!r.uniformGroups[e.id]){e.dirtyId=0;var n=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,t);e.buffer.update(),n(r.uniformData,e.uniforms,this.renderer,wc,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[t])},e.prototype.createSyncBufferGroup=function(e,t,r){var n=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var i=this.gl.getUniformBlockIndex(t.program,r);t.uniformBufferBindings[r]=this.shader.uniformBindCount,n.uniformBlockBinding(t.program,i,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(e,this.shader.program.uniformData,"ubo"),s=this._uboCache[o];if(s||(s=this._uboCache[o]=Cc(e,this.shader.program.uniformData)),e.autoManage){var a=new Float32Array(s.size/4);e.buffer.update(a)}return t.uniformGroups[e.id]=s.syncFunc,t.uniformGroups[e.id]},e.prototype.getSignature=function(e,t,r){var n=e.uniforms,i=[r+"-"];for(var o in n)i.push(o),t[o]&&i.push(t[o].type);return i.join("-")},e.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateProgram=function(e){var t=this.gl,r=e.program,n=Nc(t,r);return r.glPrograms[this.renderer.CONTEXT_UID]=n,n},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.disposeShader=function(e){this.shader===e&&(this.shader=null)},e.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},e}();var Dc=function(){function e(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=no.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new uc,this.defaultState.blend=!0}return e.prototype.contextChange=function(e){this.gl=e,this.blendModes=function(e,t){return void 0===t&&(t=[]),t[no.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[no.ADD]=[e.ONE,e.ONE],t[no.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[no.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[no.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[no.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[no.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[no.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[no.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[no.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[no.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[no.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[no.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[no.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[no.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[no.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[no.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[no.NONE]=[0,0],t[no.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[no.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[no.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[no.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[no.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[no.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[no.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[no.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[no.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[no.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[no.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[no.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}(e),this.set(this.defaultState),this.reset()},e.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,r=0;t;)1&t&&this.map[r].call(this,!!(e.data&1<<r)),t>>=1,r++;this.stateId=e.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,e)},e.prototype.forceState=function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setDepthMask=function(e){this.gl.depthMask(e)},e.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},e.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var t=this.blendModes[e],r=this.gl;2===t.length?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},e.prototype.setPolygonOffset=function(e,t){this.gl.polygonOffset(e,t)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(e,t){var r=this.checks.indexOf(e);t&&-1===r?this.checks.push(e):t||-1===r||this.checks.splice(r,1)},e.checkBlendMode=function(e,t){e.setBlendMode(t.blendMode)},e.checkPolygonOffset=function(e,t){e.setPolygonOffset(1,t.polygonOffset)},e.prototype.destroy=function(){this.gl=null},e}(),Uc=function(){function e(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=ko.GC_MAX_IDLE,this.checkCountMax=ko.GC_MAX_CHECK_COUNT,this.mode=ko.GC_MODE}return e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==_o.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var e=this.renderer.texture,t=e.managedTextures,r=!1,n=0;n<t.length;n++){var i=t[n];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(e.destroyTexture(i,!0),t[n]=null,r=!0)}if(r){var o=0;for(n=0;n<t.length;n++)null!==t[n]&&(t[o++]=t[n]);t.length=o}},e.prototype.unload=function(e){var t=this.renderer.texture,r=e._texture;r&&!r.framebuffer&&t.destroyTexture(r);for(var n=e.children.length-1;n>=0;n--)this.unload(e.children[n])},e.prototype.destroy=function(){this.renderer=null},e}();var Bc=function(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ao.UNSIGNED_BYTE,this.internalFormat=oo.RGBA,this.samplerType=0},Gc=function(){function e(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Za,this.hasIntegerTextures=!1}return e.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function(e){var t,r,n,i,o,s,a,h,c,l,u,d,f,p,_,E,g,b,m,T,A,x,S;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?((t={})[ao.UNSIGNED_BYTE]=((r={})[oo.RGBA]=e.RGBA8,r[oo.RGB]=e.RGB8,r[oo.RG]=e.RG8,r[oo.RED]=e.R8,r[oo.RGBA_INTEGER]=e.RGBA8UI,r[oo.RGB_INTEGER]=e.RGB8UI,r[oo.RG_INTEGER]=e.RG8UI,r[oo.RED_INTEGER]=e.R8UI,r[oo.ALPHA]=e.ALPHA,r[oo.LUMINANCE]=e.LUMINANCE,r[oo.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,r),t[ao.BYTE]=((n={})[oo.RGBA]=e.RGBA8_SNORM,n[oo.RGB]=e.RGB8_SNORM,n[oo.RG]=e.RG8_SNORM,n[oo.RED]=e.R8_SNORM,n[oo.RGBA_INTEGER]=e.RGBA8I,n[oo.RGB_INTEGER]=e.RGB8I,n[oo.RG_INTEGER]=e.RG8I,n[oo.RED_INTEGER]=e.R8I,n),t[ao.UNSIGNED_SHORT]=((i={})[oo.RGBA_INTEGER]=e.RGBA16UI,i[oo.RGB_INTEGER]=e.RGB16UI,i[oo.RG_INTEGER]=e.RG16UI,i[oo.RED_INTEGER]=e.R16UI,i[oo.DEPTH_COMPONENT]=e.DEPTH_COMPONENT16,i),t[ao.SHORT]=((o={})[oo.RGBA_INTEGER]=e.RGBA16I,o[oo.RGB_INTEGER]=e.RGB16I,o[oo.RG_INTEGER]=e.RG16I,o[oo.RED_INTEGER]=e.R16I,o),t[ao.UNSIGNED_INT]=((s={})[oo.RGBA_INTEGER]=e.RGBA32UI,s[oo.RGB_INTEGER]=e.RGB32UI,s[oo.RG_INTEGER]=e.RG32UI,s[oo.RED_INTEGER]=e.R32UI,s[oo.DEPTH_COMPONENT]=e.DEPTH_COMPONENT24,s),t[ao.INT]=((a={})[oo.RGBA_INTEGER]=e.RGBA32I,a[oo.RGB_INTEGER]=e.RGB32I,a[oo.RG_INTEGER]=e.RG32I,a[oo.RED_INTEGER]=e.R32I,a),t[ao.FLOAT]=((h={})[oo.RGBA]=e.RGBA32F,h[oo.RGB]=e.RGB32F,h[oo.RG]=e.RG32F,h[oo.RED]=e.R32F,h[oo.DEPTH_COMPONENT]=e.DEPTH_COMPONENT32F,h),t[ao.HALF_FLOAT]=((c={})[oo.RGBA]=e.RGBA16F,c[oo.RGB]=e.RGB16F,c[oo.RG]=e.RG16F,c[oo.RED]=e.R16F,c),t[ao.UNSIGNED_SHORT_5_6_5]=((l={})[oo.RGB]=e.RGB565,l),t[ao.UNSIGNED_SHORT_4_4_4_4]=((u={})[oo.RGBA]=e.RGBA4,u),t[ao.UNSIGNED_SHORT_5_5_5_1]=((d={})[oo.RGBA]=e.RGB5_A1,d),t[ao.UNSIGNED_INT_2_10_10_10_REV]=((f={})[oo.RGBA]=e.RGB10_A2,f[oo.RGBA_INTEGER]=e.RGB10_A2UI,f),t[ao.UNSIGNED_INT_10F_11F_11F_REV]=((p={})[oo.RGB]=e.R11F_G11F_B10F,p),t[ao.UNSIGNED_INT_5_9_9_9_REV]=((_={})[oo.RGB]=e.RGB9_E5,_),t[ao.UNSIGNED_INT_24_8]=((E={})[oo.DEPTH_STENCIL]=e.DEPTH24_STENCIL8,E),t[ao.FLOAT_32_UNSIGNED_INT_24_8_REV]=((g={})[oo.DEPTH_STENCIL]=e.DEPTH32F_STENCIL8,g),S=t):((b={})[ao.UNSIGNED_BYTE]=((m={})[oo.RGBA]=e.RGBA,m[oo.RGB]=e.RGB,m[oo.ALPHA]=e.ALPHA,m[oo.LUMINANCE]=e.LUMINANCE,m[oo.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,m),b[ao.UNSIGNED_SHORT_5_6_5]=((T={})[oo.RGB]=e.RGB,T),b[ao.UNSIGNED_SHORT_4_4_4_4]=((A={})[oo.RGBA]=e.RGBA,A),b[ao.UNSIGNED_SHORT_5_5_5_1]=((x={})[oo.RGBA]=e.RGBA,x),S=b),S}(e);var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(var r=0;r<t;r++)this.boundTextures[r]=null;this.emptyTextures={};var n=new Bc(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Bc(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(r=0;r<6;r++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(r=0;r<this.boundTextures.length;r++)this.bind(null,r)},e.prototype.bind=function(e,t){void 0===t&&(t=0);var r=this.gl;if((e=null==e?void 0:e.castToBaseTexture())&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var n=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,n.texture)),n.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)):n.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},e.prototype.unbind=function(e){var t=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var n=0;n<r.length;n++)r[n]===this.unknownTexture&&this.bind(null,n)}for(n=0;n<r.length;n++)r[n]===e&&(this.currentLocation!==n&&(t.activeTexture(t.TEXTURE0+n),this.currentLocation=n),t.bindTexture(e.target,this.emptyTextures[e.target].texture),r[n]=null)},e.prototype.ensureSamplerType=function(e){var t=this,r=t.boundTextures,n=t.hasIntegerTextures,i=t.CONTEXT_UID;if(n)for(var o=e-1;o>=0;--o){var s=r[o];if(s)s._glTextures[i].samplerType!==ho.FLOAT&&this.renderer.texture.unbind(s)}},e.prototype.initTexture=function(e){var t=new Bc(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t},e.prototype.initTextureType=function(e,t){var r,n;t.internalFormat=null!==(n=null===(r=this.internalFormats[e.type])||void 0===r?void 0:r[e.format])&&void 0!==n?n:e.format,2===this.webGLVersion&&e.type===ao.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type},e.prototype.updateTexture=function(e){var t=e._glTextures[this.CONTEXT_UID];if(t){var r=this.renderer;if(this.initTextureType(e,t),e.resource&&e.resource.upload(r,e,t))t.samplerType!==ho.FLOAT&&(this.hasIntegerTextures=!0);else{var n=e.realWidth,i=e.realHeight,o=r.gl;(t.width!==n||t.height!==i||t.dirtyId<0)&&(t.width=n,t.height=i,o.texImage2D(e.target,0,t.internalFormat,n,i,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}},e.prototype.destroyTexture=function(e,t){var r=this.gl;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){var n=this.managedTextures.indexOf(e);-1!==n&&as(this.managedTextures,n,1)}},e.prototype.updateTextureStyle=function(e){var t=e._glTextures[this.CONTEXT_UID];t&&(e.mipmap!==uo.POW2&&2===this.webGLVersion||e.isPowerOfTwo?t.mipmap=e.mipmap>=1:t.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?t.wrapMode=e.wrapMode:t.wrapMode=lo.CLAMP,e.resource&&e.resource.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)},e.prototype.setStyle=function(e,t){var r=this.gl;if(t.mipmap&&e.mipmap!==uo.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,t.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===co.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var n=this.renderer.context.extensions.anisotropicFiltering;if(n&&e.anisotropicLevel>0&&e.scaleMode===co.LINEAR){var i=Math.min(e.anisotropicLevel,r.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,n.TEXTURE_MAX_ANISOTROPY_EXT,i)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===co.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===co.LINEAR?r.LINEAR:r.NEAREST)},e.prototype.destroy=function(){this.renderer=null},e}(),Hc={__proto__:null,FilterSystem:Lh,BatchSystem:Ph,ContextSystem:Mh,FramebufferSystem:Bh,GeometrySystem:Hh,MaskSystem:Ec,ScissorSystem:Tc,StencilSystem:Ac,ProjectionSystem:xc,RenderTextureSystem:Ic,ShaderSystem:Mc,StateSystem:Dc,TextureGCSystem:Uc,TextureSystem:Gc},Fc=new Ki,kc=function(e){function t(t,r){void 0===t&&(t=to.UNKNOWN);var n=e.call(this)||this;return r=Object.assign({},ko.RENDER_OPTIONS,r),n.options=r,n.type=t,n.screen=new Fi(0,0,r.width,r.height),n.view=r.view||ko.ADAPTER.createCanvas(),n.resolution=r.resolution||ko.RESOLUTION,n.useContextAlpha=r.useContextAlpha,n.autoDensity=!!r.autoDensity,n.preserveDrawingBuffer=r.preserveDrawingBuffer,n.clearBeforeRender=r.clearBeforeRender,n._backgroundColor=0,n._backgroundColorRgba=[0,0,0,1],n._backgroundColorString="#000000",n.backgroundColor=r.backgroundColor||n._backgroundColor,n.backgroundAlpha=r.backgroundAlpha,void 0!==r.transparent&&(ds(0,"Option transparent is deprecated, please use backgroundAlpha instead."),n.useContextAlpha=r.transparent,n.backgroundAlpha=r.transparent?0:1),n._lastObjectRendered=null,n.plugins={},n}return Xa(t,e),t.prototype.initPlugins=function(e){for(var t in e)this.plugins[t]=new e[t](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(t*this.resolution);var r=this.view.width/this.resolution,n=this.view.height/this.resolution;this.screen.width=r,this.screen.height=n,this.autoDensity&&(this.view.style.width=r+"px",this.view.style.height=n+"px"),this.emit("resize",r,n)},t.prototype.generateTexture=function(e,t,r,n){void 0===t&&(t={}),"number"==typeof t&&(ds(0,"generateTexture options (scaleMode, resolution, region) are now object options."),t={scaleMode:t,resolution:r,region:n});var i=t.region,o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(t,["region"]);0===(n=i||e.getLocalBounds(null,!0)).width&&(n.width=1),0===n.height&&(n.height=1);var s=fh.create(Va({width:n.width,height:n.height},o));return Fc.tx=-n.x,Fc.ty=-n.y,this.render(e,{renderTexture:s,clear:!1,transform:Fc,skipUpdateTransform:!!e.parent}),s},t.prototype.destroy=function(e){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=to.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=qo(e),$o(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),t}(Yo),Yc=function(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},Wc=function(){function e(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return e.prototype.destroy=function(){this.renderer=null},e.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},e.prototype.bind=function(e){var t=this.gl,r=this.CONTEXT_UID,n=e._glBuffers[r]||this.createGLBuffer(e);t.bindBuffer(e.type,n.buffer)},e.prototype.bindBufferBase=function(e,t){var r=this.gl,n=this.CONTEXT_UID;if(this.boundBufferBases[t]!==e){var i=e._glBuffers[n]||this.createGLBuffer(e);this.boundBufferBases[t]=e,r.bindBufferBase(r.UNIFORM_BUFFER,t,i.buffer)}},e.prototype.bindBufferRange=function(e,t,r){var n=this.gl,i=this.CONTEXT_UID;r=r||0;var o=e._glBuffers[i]||this.createGLBuffer(e);n.bindBufferRange(n.UNIFORM_BUFFER,t||0,o.buffer,256*r,256)},e.prototype.update=function(e){var t=this.gl,r=this.CONTEXT_UID,n=e._glBuffers[r];if(e._updateID!==n.updateID)if(n.updateID=e._updateID,t.bindBuffer(e.type,n.buffer),n.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{var i=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;n.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,i)}},e.prototype.dispose=function(e,t){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var r=e._glBuffers[this.CONTEXT_UID],n=this.gl;e.disposeRunner.remove(this),r&&(t||n.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedBuffers),r=0;r<t.length;r++)this.dispose(this.managedBuffers[t[r]],e)},e.prototype.createGLBuffer=function(e){var t=this.CONTEXT_UID,r=this.gl;return e._glBuffers[t]=new Yc(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]},e}(),Xc=function(e){function t(r){var n=e.call(this,to.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new Fa("destroy"),contextChange:new Fa("contextChange"),reset:new Fa("reset"),update:new Fa("update"),postrender:new Fa("postrender"),prerender:new Fa("prerender"),resize:new Fa("resize")},n.runners.contextChange.add(n),n.globalUniforms=new Oh({projectionMatrix:new Ki},!0),n.addSystem(Ec,"mask").addSystem(Mh,"context").addSystem(Dc,"state").addSystem(Mc,"shader").addSystem(Gc,"texture").addSystem(Wc,"buffer").addSystem(Hh,"geometry").addSystem(Bh,"framebuffer").addSystem(Tc,"scissor").addSystem(Ac,"stencil").addSystem(xc,"projection").addSystem(Uc,"textureGC").addSystem(Lh,"filter").addSystem(Ic,"renderTexture").addSystem(Ph,"batch"),n.initPlugins(t.__plugins),n.multisample=void 0,r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:r.antialias,premultipliedAlpha:n.useContextAlpha&&"notMultiplied"!==n.useContextAlpha,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,function(e){var t;if(!jo){if(ko.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var r=["\n %c %c %c PixiJS "+zo+" - ✰ "+e+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=globalThis.console).log.apply(t,r)}else globalThis.console&&globalThis.console.log("PixiJS "+zo+" - "+e+" - http://www.pixijs.com/");jo=!0}}(2===n.context.webGLVersion?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return Xa(t,e),t.create=function(e){if(void 0===Ko&&(Ko=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:ko.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!ko.ADAPTER.getWebGLRenderingContext())return!1;var t=ko.ADAPTER.createCanvas(),r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),n=!(!r||!r.getContextAttributes().stencil);if(r){var i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,n}catch(e){return!1}}()),Ko)return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var e,t=this.gl;if(1===this.context.webGLVersion){var r=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,r)}else{r=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,r)}e>=mo.HIGH?this.multisample=mo.HIGH:e>=mo.MEDIUM?this.multisample=mo.MEDIUM:e>=mo.LOW?this.multisample=mo.LOW:this.multisample=mo.NONE},t.prototype.addSystem=function(e,t){var r=new e(this);if(this[t])throw new Error('Whoops! The name "'+t+'" is already in use');for(var n in this[t]=r,this.runners)this.runners[n].add(r);return this},t.prototype.render=function(e,t){var r,n,i,o;if(t&&(t instanceof fh?(ds(0,"Renderer#render arguments changed, use options instead."),r=t,n=arguments[2],i=arguments[3],o=arguments[4]):(r=t.renderTexture,n=t.clear,i=t.transform,o=t.skipUpdateTransform)),this.renderingToScreen=!r,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=i,!this.context.isLost){if(r||(this._lastObjectRendered=e),!o){var s=e.enableTempParent();e.updateTransform(),e.disableTempParent(s)}this.renderTexture.bind(r),this.batch.currentRenderer.start(),(void 0!==n?n:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),r&&r.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(t,r,n,i){void 0===r&&(r={});var o=e.prototype.generateTexture.call(this,t,r,n,i);return this.framebuffer.blit(),o},t.prototype.resize=function(t,r){e.prototype.resize.call(this,t,r),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(t){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();e.prototype.destroy.call(this,t),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return ds(0,"Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(e,t){ds(0,"Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),Ls.add({name:e,type:Os.RendererPlugin,ref:t})},t.__plugins={},t}(kc);Ls.handleByMap(Os.RendererPlugin,Xc.__plugins);var Vc="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Kc=(function(){function e(e){ds(0,"System class is deprecated, implemement ISystem interface instead."),this.renderer=e}e.prototype.destroy=function(){this.renderer=null}}(),function(){this.texArray=null,this.blend=0,this.type=io.TRIANGLES,this.start=0,this.size=0,this.data=null}),jc=function(){function e(){this.elements=[],this.ids=[],this.count=0}return e.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},e}(),zc=function(){function e(e){"number"==typeof e?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),e.prototype.view=function(e){return this[e+"View"]},e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},e.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},e}(),Zc=function(e){function t(t){var r=e.call(this,t)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=uc.for2d(),r.size=4*ko.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),t.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return Xa(t,e),t.prototype.contextChange=function(){var e=this.renderer.gl;ko.PREFER_ENV===eo.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),ko.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=t.createShader(t.FRAGMENT_SHADER);;){var n=oc.replace(/%forloop%/gi,sc(e));if(t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS))break;e=e/2|0}return e}(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,r=t._textureArrayPool,n=this.size/4,i=Math.floor(n/this.MAX_TEXTURES)+1;e.length<n;)e.push(new Kc);for(;r.length<i;)r.push(new jc);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var e=this._bufferedTextures,r=this.MAX_TEXTURES,n=t._textureArrayPool,i=this.renderer.batch,o=this._tempBoundTextures,s=this.renderer.textureGC.count,a=++Za._globalBatch,h=0,c=n[0],l=0;i.copyBoundTextures(o,r);for(var u=0;u<this._bufferSize;++u){var d=e[u];e[u]=null,d._batchEnabled!==a&&(c.count>=r&&(i.boundArray(c,o,a,r),this.buildDrawCalls(c,l,u),l=u,c=n[++h],++a),d._batchEnabled=a,d.touched=s,c.elements[c.count++]=d)}c.count>0&&(i.boundArray(c,o,a,r),this.buildDrawCalls(c,l,this._bufferSize),++h,++a);for(u=0;u<o.length;u++)o[u]=null;Za._globalBatch=a},t.prototype.buildDrawCalls=function(e,r,n){var i=this,o=i._bufferedElements,s=i._attributeBuffer,a=i._indexBuffer,h=i.vertexSize,c=t._drawCallPool,l=this._dcIndex,u=this._aIndex,d=this._iIndex,f=c[l];f.start=this._iIndex,f.texArray=e;for(var p=r;p<n;++p){var _=o[p],E=_._texture.baseTexture,g=Jo[E.alphaMode?1:0][_.blendMode];o[p]=null,r<p&&f.blend!==g&&(f.size=d-f.start,r=p,(f=c[++l]).texArray=e,f.start=d),this.packInterleavedGeometry(_,s,a,u,d),u+=_.vertexData.length/2*h,d+=_.indices.length,f.blend=g}r<n&&(f.size=d-f.start,++l),this._dcIndex=l,this._aIndex=u,this._iIndex=d},t.prototype.bindAndClearTexArray=function(e){for(var t=this.renderer.texture,r=0;r<e.count;r++)t.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,t=e._packedGeometries,r=e._attributeBuffer,n=e._indexBuffer;ko.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,r=this.renderer,n=r.gl,i=r.state,o=t._drawCallPool,s=null,a=0;a<e;a++){var h=o[a],c=h.texArray,l=h.type,u=h.size,d=h.start,f=h.blend;s!==c&&(s=c,this.bindAndClearTexArray(c)),this.state.blendMode=f,i.set(this.state),n.drawElements(l,u,n.UNSIGNED_SHORT,2*d)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),ko.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var t=is(Math.ceil(e/8)),r=ss(t),n=8*t;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new zc(n*this.vertexSize*4)),i},t.prototype.getIndexBuffer=function(e){var t=is(Math.ceil(e/12)),r=ss(t),n=12*t;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i},t.prototype.packInterleavedGeometry=function(e,t,r,n,i){for(var o=t.uint32View,s=t.float32View,a=n/this.vertexSize,h=e.uvs,c=e.indices,l=e.vertexData,u=e._texture.baseTexture._batchLocation,d=Math.min(e.worldAlpha,1),f=d<1&&e._texture.baseTexture.alphaMode?ts(e._tintRGB,d):e._tintRGB+(255*d<<24),p=0;p<l.length;p+=2)s[n++]=l[p],s[n++]=l[p+1],s[n++]=h[p],s[n++]=h[p+1],o[n++]=f,s[n++]=u;for(p=0;p<c.length;p++)r[i++]=a+c[p]},t._drawCallPool=[],t._textureArrayPool=[],t}(Nh),$c=function(){function e(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},t.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(t.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return e.prototype.generateShader=function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),r=0;r<e;r++)t[r]=r;this.defaultGroupCache[e]=Oh.from({uSamplers:t},!0);var n=this.fragTemplate;n=(n=n.replace(/%count%/gi,""+e)).replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new cc(this.vertexSrc,n)}var i={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ki,default:this.defaultGroupCache[e]};return new lc(this.programCache[e],i)},e.prototype.generateSampleSrc=function(e){var t="";t+="\n",t+="\n";for(var r=0;r<e;r++)r>0&&(t+="\nelse "),r<e-1&&(t+="if(vTextureId < "+r+".5)"),t+="\n{",t+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",t+="\n}";return t+="\n",t+="\n"},e}(),qc=function(e){function t(t){void 0===t&&(t=!1);var r=e.call(this)||this;return r._buffer=new gh(null,t,!1),r._indexBuffer=new gh(null,t,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,ao.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,ao.FLOAT).addAttribute("aColor",r._buffer,4,!0,ao.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,ao.FLOAT).addIndex(r._indexBuffer),r}return Xa(t,e),t}(xh),Qc="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",Jc="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",el=function(){function e(){}return e.create=function(e){var t=Object.assign({vertex:Qc,fragment:Jc,geometryClass:qc,vertexSize:6},e),r=t.vertex,n=t.fragment,i=t.vertexSize,o=t.geometryClass;return function(e){function t(t){var s=e.call(this,t)||this;return s.shaderGenerator=new $c(r,n),s.geometryClass=o,s.vertexSize=i,s}return Xa(t,e),t}(Zc)},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return Qc},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentTemplate",{get:function(){return Jc},enumerable:!1,configurable:!0}),e}(),tl=el.create();Object.assign(tl,{extension:{name:"batch",type:Os.RendererPlugin}});var rl={},nl=function(e){Object.defineProperty(rl,e,{get:function(){return ds(0,"PIXI.systems."+e+" has moved to PIXI."+e),oh[e]}})};for(var il in oh)nl(il);var ol={},sl=function(e){Object.defineProperty(ol,e,{get:function(){return ds(0,"PIXI.resources."+e+" has moved to PIXI."+e),Hc[e]}})};for(var il in Hc)sl(il);xs.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});var al=100,hl=function(){function e(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Fo.tablet||Fo.phone)&&this.createTouchHook();var t=document.createElement("div");t.style.width=al+"px",t.style.height=al+"px",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.zIndex=2..toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var e=this,t=document.createElement("button");t.style.width="1px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",t.style.zIndex=2..toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",(function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()})),document.body.appendChild(t),this._hookDiv=t},e.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(e=this.renderer.view.parentNode)||void 0===e||e.appendChild(this.div))},e.prototype.deactivate=function(){var e;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(e=this.div.parentNode)||void 0===e||e.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(e){if(e.visible&&e.accessibleChildren){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var t=e.children;if(t)for(var r=0;r<t.length;r++)this.updateAccessibleObjects(t[r])}},e.prototype.update=function(){var e=performance.now();if(!(Fo.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),r=t.left,n=t.top,i=t.width,o=t.height,s=this.renderer,a=s.width,h=s.height,c=s.resolution,l=i/a*c,u=o/h*c,d=this.div;d.style.left=r+"px",d.style.top=n+"px",d.style.width=a+"px",d.style.height=h+"px";for(var f=0;f<this.children.length;f++){var p=this.children[f];if(p.renderId!==this.renderId)p._accessibleActive=!1,as(this.children,f,1),this.div.removeChild(p._accessibleDiv),this.pool.push(p._accessibleDiv),p._accessibleDiv=null,f--;else{d=p._accessibleDiv;var _=p.hitArea,E=p.worldTransform;p.hitArea?(d.style.left=(E.tx+_.x*E.a)*l+"px",d.style.top=(E.ty+_.y*E.d)*u+"px",d.style.width=_.width*E.a*l+"px",d.style.height=_.height*E.d*u+"px"):(_=p.getBounds(),this.capHitArea(_),d.style.left=_.x*l+"px",d.style.top=_.y*u+"px",d.style.width=_.width*l+"px",d.style.height=_.height*u+"px",d.title!==p.accessibleTitle&&null!==p.accessibleTitle&&(d.title=p.accessibleTitle),d.getAttribute("aria-label")!==p.accessibleHint&&null!==p.accessibleHint&&d.setAttribute("aria-label",p.accessibleHint)),p.accessibleTitle===d.title&&p.tabIndex===d.tabIndex||(d.title=p.accessibleTitle,d.tabIndex=p.tabIndex,this.debug&&this.updateDebugHTML(d))}}this.renderId++}},e.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},e.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var t=this.renderer,r=t.width,n=t.height;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)},e.prototype.addChild=function(e){var t=this.pool.pop();t||((t=document.createElement("button")).style.width=al+"px",t.style.height=al+"px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2..toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title="displayObject "+e.tabIndex),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},e.prototype._onClick=function(e){var t=this.renderer.plugins.interaction,r=e.target.displayObject,n=t.eventData;t.dispatchEvent(r,"click",n),t.dispatchEvent(r,"pointertap",n),t.dispatchEvent(r,"tap",n)},e.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var t=this.renderer.plugins.interaction,r=e.target.displayObject,n=t.eventData;t.dispatchEvent(r,"mouseover",n)},e.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var t=this.renderer.plugins.interaction,r=e.target.displayObject,n=t.eventData;t.dispatchEvent(r,"mouseout",n)},e.prototype._onKeyDown=function(e){9===e.keyCode&&this.activate()},e.prototype._onMouseMove=function(e){0===e.movementX&&0===e.movementY||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e.extension={name:"accessibility",type:[Os.RendererPlugin,Os.CanvasRendererPlugin]},e}(),cl=function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Gi,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)},e.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var t="buttons"in e&&e.buttons;this.buttons=Number.isInteger(t)?t:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e}(),ll=function(e,t){return ll=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},ll(e,t)};var ul=function(){function e(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},e.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},e}(),dl=function(){function e(t){this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(e,t){this._flags=t?this._flags|e:this._flags&~e},Object.defineProperty(e.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"none",{get:function(){return this._flags===e.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return 0!==(this._flags&e.FLAGS.OVER)},set:function(t){this._doSet(e.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightDown",{get:function(){return 0!==(this._flags&e.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(e.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftDown",{get:function(){return 0!==(this._flags&e.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(e.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),e.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),e}(),fl=function(){function e(){this._tempPoint=new Gi}return e.prototype.recursiveFindHit=function(e,t,r,n,i){var o;if(!t||!t.visible)return!1;var s=e.data.global,a=!1,h=i=t.interactive||i,c=!0;if(t.hitArea)n&&(t.worldTransform.applyInverse(s,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(n=!1,c=!1)),h=!1;else if(t._mask&&n){var l=t._mask.isMaskData?t._mask.maskObject:t._mask;l&&!(null===(o=l.containsPoint)||void 0===o?void 0:o.call(l,s))&&(n=!1)}if(c&&t.interactiveChildren&&t.children)for(var u=t.children,d=u.length-1;d>=0;d--){var f=u[d],p=this.recursiveFindHit(e,f,r,n,h);if(p){if(!f.parent)continue;h=!1,p&&(e.target&&(n=!1),a=!0)}}return i&&(n&&!e.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(s)&&(a=!0),t.interactive&&(a&&!e.target&&(e.target=t),r&&r(e,t,!!a))),a},e.prototype.findHit=function(e,t,r,n){this.recursiveFindHit(e,t,r,n,!1)},e}(),pl={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(e){e?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};xs.mixin(pl);var _l={target:null,data:{global:null}},El=function(e){function t(t,r){var n=e.call(this)||this;return r=r||{},n.renderer=t,n.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,n.interactionFrequency=r.interactionFrequency||10,n.mouse=new cl,n.mouse.identifier=1,n.mouse.global.set(-999999),n.activeInteractionData={},n.activeInteractionData[1]=n.mouse,n.interactionDataPool=[],n.eventData=new ul,n.interactionDOMElement=null,n.moveWhenInside=!1,n.eventsAdded=!1,n.tickerAdded=!1,n.mouseOverRenderer=!("PointerEvent"in globalThis),n.supportsTouchEvents="ontouchstart"in globalThis,n.supportsPointerEvents=!!globalThis.PointerEvent,n.onPointerUp=n.onPointerUp.bind(n),n.processPointerUp=n.processPointerUp.bind(n),n.onPointerCancel=n.onPointerCancel.bind(n),n.processPointerCancel=n.processPointerCancel.bind(n),n.onPointerDown=n.onPointerDown.bind(n),n.processPointerDown=n.processPointerDown.bind(n),n.onPointerMove=n.onPointerMove.bind(n),n.processPointerMove=n.processPointerMove.bind(n),n.onPointerOut=n.onPointerOut.bind(n),n.processPointerOverOut=n.processPointerOverOut.bind(n),n.onPointerOver=n.onPointerOver.bind(n),n.cursorStyles={default:"inherit",pointer:"pointer"},n.currentCursorMode=null,n.cursor=null,n.resolution=1,n.delayedEvents=[],n.search=new fl,n._tempDisplayObject=new Ss,n._eventListenerOptions={capture:!0,passive:!1},n._useSystemTicker=void 0===r.useSystemTicker||r.useSystemTicker,n.setTargetElement(n.renderer.view,n.renderer.resolution),n}return function(e,t){function r(){this.constructor=e}ll(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(e,t){return _l.target=null,_l.data.global=e,t||(t=this.lastObjectRendered),this.processInteractive(_l,t,null,!0),_l.target},t.prototype.setTargetElement=function(e,t){void 0===t&&(t=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(Ps.system.add(this.tickerUpdate,this,vs.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){this.tickerAdded&&(Ps.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(e){this._deltaTime+=e,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var t=this.activeInteractionData[e];if(t.originalEvent&&"touch"!==t.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,t.originalEvent,t);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){e=e||"default";var t=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(t=!1),this.currentCursorMode!==e){this.currentCursorMode=e;var r=this.cursorStyles[e];if(r)switch(typeof r){case"string":t&&(this.interactionDOMElement.style.cursor=r);break;case"function":r(e);break;case"object":t&&Object.assign(this.interactionDOMElement.style,r)}else t&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,t,r){r.stopPropagationHint&&e!==r.stopsPropagatingAt||(r.currentTarget=e,r.type=t,e.emit(t,r),e[t]&&e[t](r))},t.prototype.delayDispatchEvent=function(e,t,r){this.delayedEvents.push({displayObject:e,eventString:t,eventData:r})},t.prototype.mapPositionToPoint=function(e,t,r){var n;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var i=1/this.resolution;e.x=(t-n.left)*(this.interactionDOMElement.width/n.width)*i,e.y=(r-n.top)*(this.interactionDOMElement.height/n.height)*i},t.prototype.processInteractive=function(e,t,r,n){var i=this.search.findHit(e,t,r,n),o=this.delayedEvents;if(!o.length)return i;e.stopPropagationHint=!1;var s=o.length;this.delayedEvents=[];for(var a=0;a<s;a++){var h=o[a],c=h.displayObject,l=h.eventString,u=h.eventData;u.stopsPropagatingAt===c&&(u.stopPropagationHint=!0),this.dispatchEvent(c,l,u)}return i},t.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);if(this.autoPreventDefault&&t[0].isNormalized)(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var r=t.length,n=0;n<r;n++){var i=t[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(s.data.originalEvent=e,this.processInteractive(s,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===i.pointerType)this.emit("touchstart",s);else if("mouse"===i.pointerType||"pen"===i.pointerType){var a=2===i.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(e,t,r){var n=e.data,i=e.data.identifier;if(r)if(t.trackedPointers[i]||(t.trackedPointers[i]=new dl(i)),this.dispatchEvent(t,"pointerdown",e),"touch"===n.pointerType)this.dispatchEvent(t,"touchstart",e);else if("mouse"===n.pointerType||"pen"===n.pointerType){var o=2===n.button;o?t.trackedPointers[i].rightDown=!0:t.trackedPointers[i].leftDown=!0,this.dispatchEvent(t,o?"rightdown":"mousedown",e)}},t.prototype.onPointerComplete=function(e,t,r){var n=this.normalizeToPointerData(e),i=n.length,o=e.target;e.composedPath&&e.composedPath().length>0&&(o=e.composedPath()[0]);for(var s=o!==this.interactionDOMElement?"outside":"",a=0;a<i;a++){var h=n[a],c=this.getInteractionDataForPointerId(h),l=this.configureInteractionEventForDOMEvent(this.eventData,h,c);if(l.data.originalEvent=e,this.processInteractive(l,this.lastObjectRendered,r,t||!s),this.emit(t?"pointercancel":"pointerup"+s,l),"mouse"===h.pointerType||"pen"===h.pointerType){var u=2===h.button;this.emit(u?"rightup"+s:"mouseup"+s,l)}else"touch"===h.pointerType&&(this.emit(t?"touchcancel":"touchend"+s,l),this.releaseInteractionDataForPointerId(h.pointerId))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,t){var r=e.data,n=e.data.identifier;void 0!==t.trackedPointers[n]&&(delete t.trackedPointers[n],this.dispatchEvent(t,"pointercancel",e),"touch"===r.pointerType&&this.dispatchEvent(t,"touchcancel",e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,t,r){var n=e.data,i=e.data.identifier,o=t.trackedPointers[i],s="touch"===n.pointerType,a="mouse"===n.pointerType||"pen"===n.pointerType,h=!1;if(a){var c=2===n.button,l=dl.FLAGS,u=c?l.RIGHT_DOWN:l.LEFT_DOWN,d=void 0!==o&&o.flags&u;r?(this.dispatchEvent(t,c?"rightup":"mouseup",e),d&&(this.dispatchEvent(t,c?"rightclick":"click",e),h=!0)):d&&this.dispatchEvent(t,c?"rightupoutside":"mouseupoutside",e),o&&(c?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(t,"pointerup",e),s&&this.dispatchEvent(t,"touchend",e),o&&(a&&!h||this.dispatchEvent(t,"pointertap",e),s&&(this.dispatchEvent(t,"tap",e),o.over=!1))):o&&(this.dispatchEvent(t,"pointerupoutside",e),s&&this.dispatchEvent(t,"touchendoutside",e)),o&&o.none&&delete t.trackedPointers[i]},t.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);"mouse"!==t[0].pointerType&&"pen"!==t[0].pointerType||(this._didMove=!0,this.cursor=null);for(var r=t.length,n=0;n<r;n++){var i=t[n],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);s.data.originalEvent=e,this.processInteractive(s,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===i.pointerType&&this.emit("touchmove",s),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",s)}"mouse"===t[0].pointerType&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,t,r){var n=e.data,i="touch"===n.pointerType,o="mouse"===n.pointerType||"pen"===n.pointerType;o&&this.processPointerOverOut(e,t,r),this.moveWhenInside&&!r||(this.dispatchEvent(t,"pointermove",e),i&&this.dispatchEvent(t,"touchmove",e),o&&this.dispatchEvent(t,"mousemove",e))},t.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e)[0];"mouse"===t.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(t),n=this.configureInteractionEventForDOMEvent(this.eventData,t,r);n.data.originalEvent=t,this.processInteractive(n,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",n),"mouse"===t.pointerType||"pen"===t.pointerType?this.emit("mouseout",n):this.releaseInteractionDataForPointerId(r.identifier)}},t.prototype.processPointerOverOut=function(e,t,r){var n=e.data,i=e.data.identifier,o="mouse"===n.pointerType||"pen"===n.pointerType,s=t.trackedPointers[i];r&&!s&&(s=t.trackedPointers[i]=new dl(i)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.delayDispatchEvent(t,"pointerover",e),o&&this.delayDispatchEvent(t,"mouseover",e)),o&&null===this.cursor&&(this.cursor=t.cursor)):s.over&&(s.over=!1,this.dispatchEvent(t,"pointerout",this.eventData),o&&this.dispatchEvent(t,"mouseout",e),s.none&&delete t.trackedPointers[i]))},t.prototype.onPointerOver=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e)[0],r=this.getInteractionDataForPointerId(t),n=this.configureInteractionEventForDOMEvent(this.eventData,t,r);n.data.originalEvent=t,"mouse"===t.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",n),"mouse"!==t.pointerType&&"pen"!==t.pointerType||this.emit("mouseover",n)}},t.prototype.getInteractionDataForPointerId=function(e){var t,r=e.pointerId;return 1===r||"mouse"===e.pointerType?t=this.mouse:this.activeInteractionData[r]?t=this.activeInteractionData[r]:((t=this.interactionDataPool.pop()||new cl).identifier=r,this.activeInteractionData[r]=t),t.copyEvent(e),t},t.prototype.releaseInteractionDataForPointerId=function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t.reset(),this.interactionDataPool.push(t))},t.prototype.configureInteractionEventForDOMEvent=function(e,t,r){return e.data=r,this.mapPositionToPoint(r.global,t.clientX,t.clientY),"touch"===t.pointerType&&(t.globalX=r.global.x,t.globalY=r.global.y),r.originalEvent=t,e.reset(),e},t.prototype.normalizeToPointerData=function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var r=0,n=e.changedTouches.length;r<n;r++){var i=e.changedTouches[r];void 0===i.button&&(i.button=e.touches.length?1:0),void 0===i.buttons&&(i.buttons=e.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),void 0===i.twist&&(i.twist=0),void 0===i.tangentialPressure&&(i.tangentialPressure=0),void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,t.push(i)}else if(globalThis.MouseEvent&&(!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof globalThis.PointerEvent))t.push(e);else{var o=e;void 0===o.isPrimary&&(o.isPrimary=!0),void 0===o.width&&(o.width=1),void 0===o.height&&(o.height=1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="mouse"),void 0===o.pointerId&&(o.pointerId=1),void 0===o.pressure&&(o.pressure=.5),void 0===o.twist&&(o.twist=0),void 0===o.tangentialPressure&&(o.tangentialPressure=0),o.isNormalized=!0,t.push(o)}return t},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t.extension={name:"interaction",type:[Os.RendererPlugin,Os.CanvasRendererPlugin]},t}(Yo),gl=new Fi,bl=function(){function e(e){this.renderer=e}return e.prototype.image=function(e,t,r){var n=new Image;return n.src=this.base64(e,t,r),n},e.prototype.base64=function(e,t,r){return this.canvas(e).toDataURL(t,r)},e.prototype.canvas=function(t,r){var n=this._rawPixels(t,r),i=n.pixels,o=n.width,s=n.height,a=n.flipY,h=new Es(o,s,1),c=h.context.getImageData(0,0,o,s);if(e.arrayPostDivide(i,c.data),h.context.putImageData(c,0,0),a){var l=new Es(h.width,h.height,1);l.context.scale(1,-1),l.context.drawImage(h.canvas,0,-s),h.destroy(),h=l}return h.canvas},e.prototype.pixels=function(t,r){var n=this._rawPixels(t,r).pixels;return e.arrayPostDivide(n,n),n},e.prototype._rawPixels=function(e,t){var r,n,i=this.renderer,o=!1,s=!1;if(e)if(e instanceof fh)n=e;else{var a=i.context.webGLVersion>=2?i.multisample:mo.NONE;if(n=this.renderer.generateTexture(e,{multisample:a}),a!==mo.NONE){var h=fh.create({width:n.width,height:n.height});i.framebuffer.bind(n.framebuffer),i.framebuffer.blit(h.framebuffer),i.framebuffer.bind(null),n.destroy(!0),n=h}s=!0}n?(r=n.baseTexture.resolution,t=null!=t?t:n.frame,o=!1,i.renderTexture.bind(n)):(r=i.resolution,t||((t=gl).width=i.width,t.height=i.height),o=!0,i.renderTexture.bind(null));var c=Math.round(t.width*r),l=Math.round(t.height*r),u=new Uint8Array(4*c*l),d=i.gl;return d.readPixels(Math.round(t.x*r),Math.round(t.y*r),c,l,d.RGBA,d.UNSIGNED_BYTE,u),s&&n.destroy(!0),{pixels:u,width:c,height:l,flipY:o}},e.prototype.destroy=function(){this.renderer=null},e.arrayPostDivide=function(e,t){for(var r=0;r<e.length;r+=4){var n=t[r+3]=e[r+3];0!==n?(t[r]=Math.round(Math.min(255*e[r]/n,255)),t[r+1]=Math.round(Math.min(255*e[r+1]/n,255)),t[r+2]=Math.round(Math.min(255*e[r+2]/n,255))):(t[r]=e[r],t[r+1]=e[r+1],t[r+2]=e[r+2])}},e.extension={name:"extract",type:Os.RendererPlugin},e}(),ml=function(){function e(e,t,r){void 0===t&&(t=!1),this._fn=e,this._once=t,this._thisArg=r,this._next=this._prev=this._owner=null}return e.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},e}();function Tl(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}var Al,xl=function(){function e(){this._head=this._tail=void 0}return e.prototype.handlers=function(e){void 0===e&&(e=!1);var t=this._head;if(e)return!!t;for(var r=[];t;)r.push(t),t=t._next;return r},e.prototype.has=function(e){if(!(e instanceof ml))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},e.prototype.dispatch=function(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];var n=this._head;if(!n)return!1;for(;n;)n._once&&this.detach(n),n._fn.apply(n._thisArg,t),n=n._next;return!0},e.prototype.add=function(e,t){if(void 0===t&&(t=null),"function"!=typeof e)throw new Error("MiniSignal#add(): First arg must be a Function.");return Tl(this,new ml(e,!1,t))},e.prototype.once=function(e,t){if(void 0===t&&(t=null),"function"!=typeof e)throw new Error("MiniSignal#once(): First arg must be a Function.");return Tl(this,new ml(e,!0,t))},e.prototype.detach=function(e){if(!(e instanceof ml))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this||(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null),this},e.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},e}();function Sl(e,t){t=t||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,(function(e,t,n){t&&(i[r.q.name][t]=n)})),i}var yl=null;function Il(){}function Ol(e,t,r){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(e[t]=r)}function Rl(e){return e.toString().replace("object ","")}var vl=function(){function e(t,r,n){if(this._dequeue=Il,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,"string"!=typeof t||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=t,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===n.crossOrigin?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Il,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new xl,this.onProgress=new xl,this.onComplete=new xl,this.onAfterMiddleware=new xl}return e.setExtensionLoadType=function(t,r){Ol(e._loadTypeMap,t,r)},e.setExtensionXhrType=function(t,r){Ol(e._xhrTypeMap,t,r)},Object.defineProperty(e.prototype,"isDataUrl",{get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),e.prototype.complete=function(){this._clearEvents(),this._finish()},e.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.prototype.load=function(t){var r=this;if(!this.isLoading)if(this.isComplete)t&&setTimeout((function(){return t(r)}),1);else switch(t&&this.onComplete.once(t),this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:void 0===Al&&(Al=!(!globalThis.XDomainRequest||"withCredentials"in new XMLHttpRequest)),Al&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e.prototype._hasFlag=function(e){return 0!==(this._flags&e)},e.prototype._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},e.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===e&&void 0!==globalThis.Image?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===e&&void 0!==globalThis.Audio?this.data=new Audio:this.data=document.createElement(e),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(e,this.url[r],Array.isArray(t)?t[r]:t));else{t=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(t)?t[0]:t))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+e)},e.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;"use-credentials"===this.crossOrigin&&(t.withCredentials=!0),t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=e.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},e.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout((function(){return e.send()}),1)},e.prototype._createSource=function(e,t,r){r||(r=e+"/"+this._getExtension(t));var n=document.createElement("source");return n.src=t,n.type=r,n},e.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},e.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},e.prototype._onTimeout=function(){this.abort("Load timed out.")},e.prototype._xhrOnError=function(){var e=this.xhr;this.abort(Rl(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},e.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(Rl(e)+" Request timed out.")},e.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(Rl(e)+" Request was aborted by the user.")},e.prototype._xhrOnLoad=function(){var t=this.xhr,r="",n=void 0===t.status?200:t.status;if(""!==t.responseType&&"text"!==t.responseType&&void 0!==t.responseType||(r=t.responseText),0===n&&(r.length>0||t.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?n=200:1223===n&&(n=204),2===(n/100|0)){if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=e.TYPE.JSON}catch(e){return void this.abort("Error trying to parse loaded json: "+e)}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var i=new DOMParser;this.data=i.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=e.TYPE.XML}catch(e){return void this.abort("Error trying to parse loaded xml: "+e)}else this.data=t.response||r;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},e.prototype._determineCrossOrigin=function(e,t){if(0===e.indexOf("data:"))return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";t=t||globalThis.location,yl||(yl=document.createElement("a")),yl.href=e;var r=Sl(yl.href,{strictMode:!0}),n=!r.port&&""===t.port||r.port===t.port,i=r.protocol?r.protocol+":":"";return r.host===t.hostname&&n&&i===t.protocol?"":"anonymous"},e.prototype._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},e.prototype._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},e.prototype._getExtension=function(e){void 0===e&&(e=this.url);var t="";if(this.isDataUrl){var r=e.indexOf("/");t=e.substring(r+1,e.indexOf(";",r))}else{var n=e.indexOf("?"),i=e.indexOf("#"),o=Math.min(n>-1?n:e.length,i>-1?i:e.length);t=(e=e.substring(0,o)).substring(e.lastIndexOf(".")+1)}return t.toLowerCase()},e.prototype._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},e}();function Cl(){}function Ll(e){return function(){for(var t=arguments,r=[],n=0;n<arguments.length;n++)r[n]=t[n];if(null===e)throw new Error("Callback was already called.");var i=e;e=null,i.apply(this,r)}}!function(e){var t,r,n,i;(t=e.STATUS_FLAGS||(e.STATUS_FLAGS={}))[t.NONE=0]="NONE",t[t.DATA_URL=1]="DATA_URL",t[t.COMPLETE=2]="COMPLETE",t[t.LOADING=4]="LOADING",(r=e.TYPE||(e.TYPE={}))[r.UNKNOWN=0]="UNKNOWN",r[r.JSON=1]="JSON",r[r.XML=2]="XML",r[r.IMAGE=3]="IMAGE",r[r.AUDIO=4]="AUDIO",r[r.VIDEO=5]="VIDEO",r[r.TEXT=6]="TEXT",(n=e.LOAD_TYPE||(e.LOAD_TYPE={}))[n.XHR=1]="XHR",n[n.IMAGE=2]="IMAGE",n[n.AUDIO=3]="AUDIO",n[n.VIDEO=4]="VIDEO",(i=e.XHR_RESPONSE_TYPE||(e.XHR_RESPONSE_TYPE={})).DEFAULT="text",i.BUFFER="arraybuffer",i.BLOB="blob",i.DOCUMENT="document",i.JSON="json",i.TEXT="text",e._loadTypeMap={gif:e.LOAD_TYPE.IMAGE,png:e.LOAD_TYPE.IMAGE,bmp:e.LOAD_TYPE.IMAGE,jpg:e.LOAD_TYPE.IMAGE,jpeg:e.LOAD_TYPE.IMAGE,tif:e.LOAD_TYPE.IMAGE,tiff:e.LOAD_TYPE.IMAGE,webp:e.LOAD_TYPE.IMAGE,tga:e.LOAD_TYPE.IMAGE,avif:e.LOAD_TYPE.IMAGE,svg:e.LOAD_TYPE.IMAGE,"svg+xml":e.LOAD_TYPE.IMAGE,mp3:e.LOAD_TYPE.AUDIO,ogg:e.LOAD_TYPE.AUDIO,wav:e.LOAD_TYPE.AUDIO,mp4:e.LOAD_TYPE.VIDEO,webm:e.LOAD_TYPE.VIDEO},e._xhrTypeMap={xhtml:e.XHR_RESPONSE_TYPE.DOCUMENT,html:e.XHR_RESPONSE_TYPE.DOCUMENT,htm:e.XHR_RESPONSE_TYPE.DOCUMENT,xml:e.XHR_RESPONSE_TYPE.DOCUMENT,tmx:e.XHR_RESPONSE_TYPE.DOCUMENT,svg:e.XHR_RESPONSE_TYPE.DOCUMENT,tsx:e.XHR_RESPONSE_TYPE.DOCUMENT,gif:e.XHR_RESPONSE_TYPE.BLOB,png:e.XHR_RESPONSE_TYPE.BLOB,bmp:e.XHR_RESPONSE_TYPE.BLOB,jpg:e.XHR_RESPONSE_TYPE.BLOB,jpeg:e.XHR_RESPONSE_TYPE.BLOB,tif:e.XHR_RESPONSE_TYPE.BLOB,tiff:e.XHR_RESPONSE_TYPE.BLOB,webp:e.XHR_RESPONSE_TYPE.BLOB,tga:e.XHR_RESPONSE_TYPE.BLOB,avif:e.XHR_RESPONSE_TYPE.BLOB,json:e.XHR_RESPONSE_TYPE.JSON,text:e.XHR_RESPONSE_TYPE.TEXT,txt:e.XHR_RESPONSE_TYPE.TEXT,ttf:e.XHR_RESPONSE_TYPE.BUFFER,otf:e.XHR_RESPONSE_TYPE.BUFFER},e.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="}(vl||(vl={}));var Nl=function(e,t){this.data=e,this.callback=t},Pl=function(){function e(e,t){var r=this;if(void 0===t&&(t=1),this.workers=0,this.saturated=Cl,this.unsaturated=Cl,this.empty=Cl,this.drain=Cl,this.error=Cl,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(e,t,n){if(n&&"function"!=typeof n)throw new Error("task callback must be a function");if(r.started=!0,null==e&&r.idle())setTimeout((function(){return r.drain()}),1);else{var i=new Nl(e,"function"==typeof n?n:Cl);t?r._tasks.unshift(i):r._tasks.push(i),setTimeout(r.process,1)}},this.process=function(){for(;!r.paused&&r.workers<r.concurrency&&r._tasks.length;){var e=r._tasks.shift();0===r._tasks.length&&r.empty(),r.workers+=1,r.workers===r.concurrency&&r.saturated(),r._worker(e.data,Ll(r._next(e)))}},this._worker=e,0===t)throw new Error("Concurrency must not be zero");this.concurrency=t,this.buffer=t/4}return e.prototype._next=function(e){var t=this;return function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];t.workers-=1,e.callback.apply(e,n),null!=n[0]&&t.error(n[0],e.data),t.workers<=t.concurrency-t.buffer&&t.unsaturated(),t.idle()&&t.drain(),t.process()}},e.prototype.push=function(e,t){this._insert(e,!1,t)},e.prototype.kill=function(){this.workers=0,this.drain=Cl,this.started=!1,this._tasks=[]},e.prototype.unshift=function(e,t){this._insert(e,!0,t)},e.prototype.length=function(){return this._tasks.length},e.prototype.running=function(){return this.workers},e.prototype.idle=function(){return this._tasks.length+this.workers===0},e.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},e.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},e.eachSeries=function(e,t,r,n){var i=0,o=e.length;!function s(a){a||i===o?r&&r(a):n?setTimeout((function(){t(e[i++],s)}),1):t(e[i++],s)}()},e.queue=function(t,r){return new e(t,r)},e}(),wl=/(#[\w-]+)?$/,Ml=function(){function e(t,r){var n=this;void 0===t&&(t=""),void 0===r&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return n._loadResource(e,t)},this.resources={},this.baseUrl=t,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return n._loadResource(e,t)},this._queue=Pl.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new xl,this.onError=new xl,this.onLoad=new xl,this.onStart=new xl,this.onComplete=new xl;for(var i=0;i<e._plugins.length;++i){var o=e._plugins[i],s=o.pre,a=o.use;s&&this.pre(s),a&&this.use(a)}this._protected=!1}return e.prototype._add=function(e,t,r,n){if(this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new vl(e,t,r),"function"==typeof n&&this.resources[e].onAfterMiddleware.once(n),this.loading){for(var i=r.parentResource,o=[],s=0;s<i.children.length;++s)i.children[s].isComplete||o.push(i.children[s]);var a=i.progressChunk*(o.length+1)/(o.length+2);i.children.push(this.resources[e]),i.progressChunk=a;for(s=0;s<o.length;++s)o[s].progressChunk=a;this.resources[e].progressChunk=a}return this._queue.push(this.resources[e]),this},e.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},e.prototype.use=function(e){return this._afterMiddleware.push(e),this},e.prototype.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var t=this.resources[e];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort("loader reset")}return this.resources={},this},e.prototype.load=function(e){if(ds(0,"@pixi/loaders is being replaced with @pixi/assets in the next major release."),"function"==typeof e&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var t=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=t;this._onStart(),this._queue.resume()}return this},Object.defineProperty(e.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),e.prototype._prepareUrl=function(e){var t,r=Sl(e,{strictMode:!0});if(t=r.protocol||!r.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString){var n=wl.exec(t)[0];-1!==(t=t.slice(0,t.length-n.length)).indexOf("?")?t+="&"+this.defaultQueryString:t+="?"+this.defaultQueryString,t+=n}return t},e.prototype._loadResource=function(e,t){var r=this;e._dequeue=t,Pl.eachSeries(this._beforeMiddleware,(function(t,n){t.call(r,e,(function(){n(e.isComplete?{}:null)}))}),(function(){e.isComplete?r._onLoad(e):(e._onLoadBinding=e.onComplete.once(r._onLoad,r),e.load())}),!0)},e.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e.prototype._onLoad=function(e){var t=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),Pl.eachSeries(this._afterMiddleware,(function(r,n){r.call(t,e,n)}),(function(){e.onAfterMiddleware.dispatch(e),t.progress=Math.min(100,t.progress+e.progressChunk),t.onProgress.dispatch(t,e),e.error?t.onError.dispatch(e.error,t,e):t.onLoad.dispatch(t,e),t._resourcesParsing.splice(t._resourcesParsing.indexOf(e),1),t._queue.idle()&&0===t._resourcesParsing.length&&t._onComplete()}),!0)},e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return ds(0,"Loader.registerPlugin() is deprecated, use extensions.add() instead."),Ls.add({type:Os.Loader,ref:t}),e},e._plugins=[],e}();Ls.handleByList(Os.Loader,Ml._plugins),Ml.prototype.add=function(e,t,r,n){if(Array.isArray(e)){for(var i=0;i<e.length;++i)this.add(e[i]);return this}if("object"==typeof e&&(r=e,n=t||r.callback||r.onComplete,t=r.url,e=r.name||r.key||r.url),"string"!=typeof t&&(n=r,r=t,t=e),"string"!=typeof t)throw new Error("No url passed to add resource to loader.");return"function"==typeof r&&(n=r,r=null),this._add(e,t,r,n)};var Dl=function(){function e(){}return e.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?Ml.shared:new Ml},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e.extension=Os.Application,e}(),Ul=function(){function e(){}return e.add=function(){vl.setExtensionLoadType("svg",vl.LOAD_TYPE.XHR),vl.setExtensionXhrType("svg",vl.XHR_RESPONSE_TYPE.TEXT)},e.use=function(e,t){if(!e.data||e.type!==vl.TYPE.IMAGE&&"svg"!==e.extension)t();else{var r=e.data,n=e.url,i=e.name,o=e.metadata;dh.fromLoader(r,n,i,o).then((function(r){e.texture=r,t()})).catch(t)}},e.extension=Os.Loader,e}();function Bl(e,t){if(e.data){if(e.xhr&&e.xhrType===vl.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&"string"!=typeof e.data){if(0===e.data.type.indexOf("image")){var r=globalThis.URL||globalThis.webkitURL,n=r.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=n,e.type=vl.TYPE.IMAGE,void(e.data.onload=function(){r.revokeObjectURL(n),e.data.onload=null,t()})}}else{var i=e.xhr.getResponseHeader("content-type");if(i&&0===i.indexOf("image"))return e.data=new Image,e.data.src="data:"+i+";base64,"+function(e){for(var t="",r=0;r<e.length;){for(var n=[0,0,0],i=[0,0,0,0],o=0;o<n.length;++o)r<e.length?n[o]=255&e.charCodeAt(r++):n[o]=0;switch(i[0]=n[0]>>2,i[1]=(3&n[0])<<4|n[1]>>4,i[2]=(15&n[1])<<2|n[2]>>6,i[3]=63&n[2],r-(e.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(o=0;o<i.length;++o)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i[o])}return t}(e.xhr.responseText),e.type=vl.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()})}t()}else t()}var Gl,Hl,Fl=function(){function e(){}return e.extension=Os.Loader,e.use=Bl,e}();Ls.add(Ul,Fl),function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR"}(Hl||(Hl={}));var kl=((Gl={})[Hl.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,Gl[Hl.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,Gl[Hl.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,Gl[Hl.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,Gl[Hl.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,Gl[Hl.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,Gl[Hl.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,Gl[Hl.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,Gl[Hl.COMPRESSED_R11_EAC]=.5,Gl[Hl.COMPRESSED_SIGNED_R11_EAC]=.5,Gl[Hl.COMPRESSED_RG11_EAC]=1,Gl[Hl.COMPRESSED_SIGNED_RG11_EAC]=1,Gl[Hl.COMPRESSED_RGB8_ETC2]=.5,Gl[Hl.COMPRESSED_RGBA8_ETC2_EAC]=1,Gl[Hl.COMPRESSED_SRGB8_ETC2]=.5,Gl[Hl.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,Gl[Hl.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Gl[Hl.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Gl[Hl.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,Gl[Hl.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,Gl[Hl.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,Gl[Hl.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,Gl[Hl.COMPRESSED_RGB_ETC1_WEBGL]=.5,Gl[Hl.COMPRESSED_RGB_ATC_WEBGL]=.5,Gl[Hl.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,Gl[Hl.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,Gl[Hl.COMPRESSED_RGBA_ASTC_4x4_KHR]=1,Gl),Yl=function(e,t){return Yl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Yl(e,t)};function Wl(e,t){function r(){this.constructor=e}Yl(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function Xl(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{h(n.next(e))}catch(e){o(e)}}function a(e){try{h(n.throw(e))}catch(e){o(e)}}function h(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}h((n=n.apply(e,t||[])).next())}))}function Vl(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var Kl,jl,zl=function(e){function t(t,r){void 0===r&&(r={width:1,height:1,autoLoad:!0});var n,i,o=this;return"string"==typeof t?(n=t,i=new Uint8Array):(n=null,i=t),(o=e.call(this,i,r)||this).origin=n,o.buffer=i?new zc(i):null,o.origin&&!1!==r.autoLoad&&o.load(),i&&i.length&&(o.loaded=!0,o.onBlobLoaded(o.buffer.rawBinaryData)),o}return Wl(t,e),t.prototype.onBlobLoaded=function(e){},t.prototype.load=function(){return Xl(this,void 0,Promise,(function(){var e;return Vl(this,(function(t){switch(t.label){case 0:return[4,fetch(this.origin)];case 1:return[4,t.sent().blob()];case 2:return[4,t.sent().arrayBuffer()];case 3:return e=t.sent(),this.data=new Uint32Array(e),this.buffer=new zc(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),[2,this]}}))}))},t}(ja),Zl=function(e){function t(r,n){var i=e.call(this,r,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=t._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||t._createLevelBuffers(r instanceof Uint8Array?r:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return Wl(t,e),t.prototype.upload=function(e,t,r){var n=e.gl;if(!e.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var i=0,o=this.levels;i<o;i++){var s=this._levelBuffers[i],a=s.levelID,h=s.levelWidth,c=s.levelHeight,l=s.levelBuffer;n.compressedTexImage2D(n.TEXTURE_2D,a,this.format,h,c,0,l)}return!0},t.prototype.onBlobLoaded=function(){this._levelBuffers=t._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},t._formatToExtension=function(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},t._createLevelBuffers=function(e,t,r,n,i,o,s){for(var a=new Array(r),h=e.byteOffset,c=o,l=s,u=c+n-1&~(n-1),d=l+i-1&~(i-1),f=u*d*kl[t],p=0;p<r;p++)a[p]={levelID:p,levelWidth:r>1?c:u,levelHeight:r>1?l:d,levelBuffer:new Uint8Array(e.buffer,h,f)},h+=f,f=(u=(c=c>>1||1)+n-1&~(n-1))*(d=(l=l>>1||1)+i-1&~(i-1))*kl[t];return a},t}(zl),$l=function(){function e(){}return e.use=function(t,r){var n=t.data;if(t.type===vl.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var i=n.textures,o=void 0,s=void 0,a=0,h=i.length;a<h;a++){var c=i[a],l=c.src,u=c.format;if(u||(s=l),e.textureFormats[u]){o=l;break}}if(!(o=o||s))return void r(new Error("Cannot load compressed-textures in "+t.url+", make sure you provide a fallback"));if(o===t.url)return void r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));var d={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},f=Vo.resolve(t.url.replace(this.baseUrl,""),o),p=n.cacheID;this.add(p,f,d,(function(e){if(e.error)r(e.error);else{var n=e.texture,i=void 0===n?null:n,o=e.textures,s=void 0===o?{}:o;Object.assign(t,{texture:i,textures:s}),r()}}))}else r()},Object.defineProperty(e,"textureExtensions",{get:function(){if(!e._textureExtensions){var t=ko.ADAPTER.createCanvas().getContext("webgl");if(!t)return{};var r={s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};e._textureExtensions=r}return e._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(e,"textureFormats",{get:function(){if(!e._textureFormats){var t=e.textureExtensions;for(var r in e._textureFormats={},t){var n=t[r];n&&Object.assign(e._textureFormats,Object.getPrototypeOf(n))}}return e._textureFormats},enumerable:!1,configurable:!0}),e.extension=Os.Loader,e}();function ql(e,t,r){var n={textures:{},texture:null};return t?(t.map((function(e){return new dh(new Za(e,Object.assign({mipmap:uo.OFF,alphaMode:fo.NO_PREMULTIPLIED_ALPHA},r)))})).forEach((function(t,r){var i=t.baseTexture,o=e+"-"+(r+1);Za.addToCache(i,o),dh.addToCache(t,o),0===r&&(Za.addToCache(i,e),dh.addToCache(t,e),n.texture=t),n.textures[o]=t})),n):n}var Ql,Jl,eu=124,tu=3,ru=4,nu=7,iu=19,ou=2,su=0,au=1,hu=2,cu=3;!function(e){e[e.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",e[e.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",e[e.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",e[e.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",e[e.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",e[e.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",e[e.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",e[e.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",e[e.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",e[e.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",e[e.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",e[e.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",e[e.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",e[e.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",e[e.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",e[e.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",e[e.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",e[e.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",e[e.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",e[e.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",e[e.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",e[e.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",e[e.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",e[e.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",e[e.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",e[e.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",e[e.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",e[e.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",e[e.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",e[e.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",e[e.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",e[e.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",e[e.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",e[e.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",e[e.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",e[e.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",e[e.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",e[e.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",e[e.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",e[e.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",e[e.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",e[e.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",e[e.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",e[e.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",e[e.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",e[e.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",e[e.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",e[e.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",e[e.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",e[e.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",e[e.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",e[e.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",e[e.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",e[e.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",e[e.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",e[e.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",e[e.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",e[e.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",e[e.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",e[e.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",e[e.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",e[e.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",e[e.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",e[e.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",e[e.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",e[e.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",e[e.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",e[e.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",e[e.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",e[e.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",e[e.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",e[e.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",e[e.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",e[e.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",e[e.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",e[e.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",e[e.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",e[e.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",e[e.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",e[e.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",e[e.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",e[e.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",e[e.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",e[e.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",e[e.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",e[e.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",e[e.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",e[e.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",e[e.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",e[e.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",e[e.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",e[e.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",e[e.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",e[e.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",e[e.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",e[e.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",e[e.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",e[e.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",e[e.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",e[e.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",e[e.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",e[e.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",e[e.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",e[e.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",e[e.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",e[e.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",e[e.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",e[e.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",e[e.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",e[e.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",e[e.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",e[e.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"}(Ql||(Ql={})),function(e){e[e.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",e[e.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",e[e.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(Jl||(Jl={}));var lu,uu,du,fu=((Kl={})[827611204]=Hl.COMPRESSED_RGBA_S3TC_DXT1_EXT,Kl[861165636]=Hl.COMPRESSED_RGBA_S3TC_DXT3_EXT,Kl[894720068]=Hl.COMPRESSED_RGBA_S3TC_DXT5_EXT,Kl),pu=((jl={})[Ql.DXGI_FORMAT_BC1_TYPELESS]=Hl.COMPRESSED_RGBA_S3TC_DXT1_EXT,jl[Ql.DXGI_FORMAT_BC1_UNORM]=Hl.COMPRESSED_RGBA_S3TC_DXT1_EXT,jl[Ql.DXGI_FORMAT_BC2_TYPELESS]=Hl.COMPRESSED_RGBA_S3TC_DXT3_EXT,jl[Ql.DXGI_FORMAT_BC2_UNORM]=Hl.COMPRESSED_RGBA_S3TC_DXT3_EXT,jl[Ql.DXGI_FORMAT_BC3_TYPELESS]=Hl.COMPRESSED_RGBA_S3TC_DXT5_EXT,jl[Ql.DXGI_FORMAT_BC3_UNORM]=Hl.COMPRESSED_RGBA_S3TC_DXT5_EXT,jl[Ql.DXGI_FORMAT_BC1_UNORM_SRGB]=Hl.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,jl[Ql.DXGI_FORMAT_BC2_UNORM_SRGB]=Hl.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,jl[Ql.DXGI_FORMAT_BC3_UNORM_SRGB]=Hl.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,jl);var _u=[171,75,84,88,32,49,49,187,13,10,26,10],Eu=12,gu=16,bu=24,mu=28,Tu=36,Au=40,xu=44,Su=48,yu=52,Iu=56,Ou=60,Ru=((lu={})[ao.UNSIGNED_BYTE]=1,lu[ao.UNSIGNED_SHORT]=2,lu[ao.INT]=4,lu[ao.UNSIGNED_INT]=4,lu[ao.FLOAT]=4,lu[ao.HALF_FLOAT]=8,lu),vu=((uu={})[oo.RGBA]=4,uu[oo.RGB]=3,uu[oo.RG]=2,uu[oo.RED]=1,uu[oo.LUMINANCE]=1,uu[oo.LUMINANCE_ALPHA]=2,uu[oo.ALPHA]=1,uu),Cu=((du={})[ao.UNSIGNED_SHORT_4_4_4_4]=2,du[ao.UNSIGNED_SHORT_5_5_5_1]=2,du[ao.UNSIGNED_SHORT_5_6_5]=2,du);function Lu(e,t,r){void 0===r&&(r=!1);var n=new DataView(t);if(!function(e,t){for(var r=0;r<_u.length;r++)if(t.getUint8(r)!==_u[r])return!1;return!0}(0,n))return null;var i=67305985===n.getUint32(Eu,!0),o=n.getUint32(gu,i),s=n.getUint32(bu,i),a=n.getUint32(mu,i),h=n.getUint32(Tu,i),c=n.getUint32(Au,i)||1,l=n.getUint32(xu,i)||1,u=n.getUint32(Su,i)||1,d=n.getUint32(yu,i),f=n.getUint32(Iu,i),p=n.getUint32(Ou,i);if(0===c||1!==l)throw new Error("Only 2D textures are supported");if(1!==d)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==u)throw new Error("WebGL does not support array textures");var _,E=h+3&-4,g=c+3&-4,b=new Array(u),m=h*c;if(0===o&&(m=E*g),void 0===(_=0!==o?Ru[o]?Ru[o]*vu[s]:Cu[o]:kl[a]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var T=r?function(e,t,r){var n=new Map,i=0;for(;i<t;){var o=e.getUint32(64+i,r),s=64+i+4,a=3-(o+3)%4;if(0===o||o>t-i)break;for(var h=0;h<o&&0!==e.getUint8(s+h);h++);if(-1===h)break;var c=(new TextDecoder).decode(new Uint8Array(e.buffer,s,h)),l=new DataView(e.buffer,s+h+1,o-h-1);n.set(c,l),i+=4+o+a}return n}(n,p,i):null,A=m*_,x=h,S=c,y=E,I=g,O=64+p,R=0;R<f;R++){for(var v=n.getUint32(O,i),C=O+4,L=0;L<u;L++){var N=b[L];N||(N=b[L]=new Array(f)),N[R]={levelID:R,levelWidth:f>1||0!==o?x:y,levelHeight:f>1||0!==o?S:I,levelBuffer:new Uint8Array(t,C,A)},C+=A}O=(O+=v+4)%4!=0?O+4-O%4:O,A=(y=(x=x>>1||1)+4-1&-4)*(I=(S=S>>1||1)+4-1&-4)*_}return 0!==o?{uncompressed:b.map((function(e){var t=e[0].levelBuffer,r=!1;return o===ao.FLOAT?t=new Float32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4):o===ao.UNSIGNED_INT?(r=!0,t=new Uint32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)):o===ao.INT&&(r=!0,t=new Int32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)),{resource:new ja(t,{width:e[0].levelWidth,height:e[0].levelHeight}),type:o,format:r?Nu(s):s}})),kvData:T}:{compressed:b.map((function(e){return new Zl(null,{format:a,width:h,height:c,levels:f,levelBuffers:e})})),kvData:T}}function Nu(e){switch(e){case oo.RGBA:return oo.RGBA_INTEGER;case oo.RGB:return oo.RGB_INTEGER;case oo.RG:return oo.RG_INTEGER;case oo.RED:return oo.RED_INTEGER;default:return e}}vl.setExtensionXhrType("dds",vl.XHR_RESPONSE_TYPE.BUFFER);var Pu=function(){function e(){}return e.use=function(e,t){if("dds"===e.extension&&e.data)try{Object.assign(e,ql(e.name||e.url,function(e){var t=new Uint32Array(e);if(542327876!==t[0])throw new Error("Invalid DDS file magic word");var r=new Uint32Array(e,0,eu/Uint32Array.BYTES_PER_ELEMENT),n=r[tu],i=r[ru],o=r[nu],s=new Uint32Array(e,iu*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),a=s[1];if(4&a){var h=s[ou];if(808540228!==h){var c=fu[h],l=new Uint8Array(e,128);return[new Zl(l,{format:c,width:i,height:n,levels:o})]}var u=new Uint32Array(t.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),d=u[su],f=u[au],p=u[hu],_=u[cu],E=pu[d];if(void 0===E)throw new Error("DDSParser cannot parse texture data with DXGI format "+d);if(4===p)throw new Error("DDSParser does not support cubemap textures");if(f===Jl.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");var g=new Array;if(1===_)g.push(new Uint8Array(e,148));else{for(var b=kl[E],m=0,T=i,A=n,x=0;x<o;x++)m+=Math.max(1,T+3&-4)*Math.max(1,A+3&-4)*b,T>>>=1,A>>>=1;var S=148;for(x=0;x<_;x++)g.push(new Uint8Array(e,S,m)),S+=m}return g.map((function(e){return new Zl(e,{format:E,width:i,height:n,levels:o})}))}if(64&a)throw new Error("DDSParser does not support uncompressed texture data.");if(512&a)throw new Error("DDSParser does not supported YUV uncompressed texture data.");if(131072&a)throw new Error("DDSParser does not support single-channel (lumninance) texture data!");if(2&a)throw new Error("DDSParser does not support single-channel (alpha) texture data!");throw new Error("DDSParser failed to load a texture file due to an unknown reason!")}(e.data),e.metadata))}catch(e){return void t(e)}t()},e.extension=Os.Loader,e}();vl.setExtensionXhrType("ktx",vl.XHR_RESPONSE_TYPE.BUFFER);var wu=function(){function e(){}return e.use=function(e,t){if("ktx"===e.extension&&e.data)try{var r=e.name||e.url,n=Lu(0,e.data,this.loadKeyValueData),i=n.compressed,o=n.uncompressed,s=n.kvData;if(i){var a=ql(r,i,e.metadata);if(s&&a.textures)for(var h in a.textures)a.textures[h].baseTexture.ktxKeyValueData=s;Object.assign(e,a)}else if(o){var c={};o.forEach((function(e,t){var n=new dh(new Za(e.resource,{mipmap:uo.OFF,alphaMode:fo.NO_PREMULTIPLIED_ALPHA,type:e.type,format:e.format})),i=r+"-"+(t+1);s&&(n.baseTexture.ktxKeyValueData=s),Za.addToCache(n.baseTexture,i),dh.addToCache(n,i),0===t&&(c[r]=n,Za.addToCache(n.baseTexture,r),dh.addToCache(n,r)),c[i]=n})),Object.assign(e,{textures:c})}}catch(e){return void t(e)}t()},e.extension=Os.Loader,e.loadKeyValueData=!1,e}(),Mu=function(e,t){return Mu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Mu(e,t)};function Du(e,t){function r(){this.constructor=e}Mu(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}!function(e){function t(t,r,n,i){void 0===t&&(t=1500),void 0===n&&(n=16384),void 0===i&&(i=!1);var o=e.call(this)||this;return n>16384&&(n=16384),o._properties=[!1,!0,!1,!1,!1],o._maxSize=t,o._batchSize=n,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=no.NORMAL,o.autoResize=i,o.roundPixels=!0,o.baseTexture=null,o.setProperties(r),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}Du(t,e),t.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,$o(e,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var t=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return t.onChildrenChange(0)}))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){for(var t=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}(Is);var Uu,Bu,Gu=function(){function e(e,t,r){this.geometry=new xh,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<e.length;++n){var i=e[n];i={attributeName:i.attributeName,size:i.size,uploadFunction:i.uploadFunction,type:i.type||ao.FLOAT,offset:i.offset},t[n]?this.dynamicProperties.push(i):this.staticProperties.push(i)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var e=this.geometry,t=0;this.indexBuffer=new gh(function(e,t){void 0===t&&(t=null);var r=6*e;if((t=t||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)t[n+0]=i+0,t[n+1]=i+1,t[n+2]=i+2,t[n+3]=i+0,t[n+4]=i+2,t[n+5]=i+3;return t}(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){(s=this.dynamicProperties[r]).offset=t,t+=s.size,this.dynamicStride+=s.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new gh(this.dynamicData,!1,!1);var i=0;this.staticStride=0;for(r=0;r<this.staticProperties.length;++r){(s=this.staticProperties[r]).offset=i,i+=s.size,this.staticStride+=s.size}var o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new gh(this.staticData,!0,!1);for(r=0;r<this.dynamicProperties.length;++r){var s=this.dynamicProperties[r];e.addAttribute(s.attributeName,this.dynamicBuffer,0,s.type===ao.UNSIGNED_BYTE,s.type,4*this.dynamicStride,4*s.offset)}for(r=0;r<this.staticProperties.length;++r){s=this.staticProperties[r];e.addAttribute(s.attributeName,this.staticBuffer,0,s.type===ao.UNSIGNED_BYTE,s.type,4*this.staticStride,4*s.offset)}},e.prototype.uploadDynamic=function(e,t,r){for(var n=0;n<this.dynamicProperties.length;n++){var i=this.dynamicProperties[n];i.uploadFunction(e,t,r,i.type===ao.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++},e.prototype.uploadStatic=function(e,t,r){for(var n=0;n<this.staticProperties.length;n++){var i=this.staticProperties[n];i.uploadFunction(e,t,r,i.type===ao.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++},e.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},e}(),Hu=function(e){function t(t){var r=e.call(this,t)||this;return r.shader=null,r.properties=null,r.tempMatrix=new Ki,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ao.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=lc.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),r.state=uc.for2d(),r}return Du(t,e),t.prototype.render=function(e){var t=e.children,r=e._maxSize,n=e._batchSize,i=this.renderer,o=t.length;if(0!==o){o>r&&!e.autoResize&&(o=r);var s=e._buffers;s||(s=e._buffers=this.generateBuffers(e));var a=t[0]._texture.baseTexture,h=a.alphaMode>0;this.state.blendMode=es(e.blendMode,h),i.state.set(this.state);var c,l,u,d,f=i.gl,p=e.worldTransform.copyTo(this.tempMatrix);p.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=(c=e.tintRgb,l=e.worldAlpha,u=this.shader.uniforms.uColor,d=h,u=u||new Float32Array(4),d||void 0===d?(u[0]=c[0]*l,u[1]=c[1]*l,u[2]=c[2]*l):(u[0]=c[0],u[1]=c[1],u[2]=c[2]),u[3]=l,u),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var _=!1,E=0,g=0;E<o;E+=n,g+=1){var b=o-E;b>n&&(b=n),g>=s.length&&s.push(this._generateOneMoreBuffer(e));var m=s[g];m.uploadDynamic(t,E,b);var T=e._bufferUpdateIDs[g]||0;(_=_||m._updateID<T)&&(m._updateID=e._updateID,m.uploadStatic(t,E,b)),i.geometry.bind(m.geometry),f.drawElements(f.TRIANGLES,6*b,f.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(e){for(var t=[],r=e._maxSize,n=e._batchSize,i=e._properties,o=0;o<r;o+=n)t.push(new Gu(this.properties,i,n));return t},t.prototype._generateOneMoreBuffer=function(e){var t=e._batchSize,r=e._properties;return new Gu(this.properties,r,t)},t.prototype.uploadVertices=function(e,t,r,n,i,o){for(var s=0,a=0,h=0,c=0,l=0;l<r;++l){var u=e[t+l],d=u._texture,f=u.scale.x,p=u.scale.y,_=d.trim,E=d.orig;_?(s=(a=_.x-u.anchor.x*E.width)+_.width,h=(c=_.y-u.anchor.y*E.height)+_.height):(s=E.width*(1-u.anchor.x),a=E.width*-u.anchor.x,h=E.height*(1-u.anchor.y),c=E.height*-u.anchor.y),n[o]=a*f,n[o+1]=c*p,n[o+i]=s*f,n[o+i+1]=c*p,n[o+2*i]=s*f,n[o+2*i+1]=h*p,n[o+3*i]=a*f,n[o+3*i+1]=h*p,o+=4*i}},t.prototype.uploadPosition=function(e,t,r,n,i,o){for(var s=0;s<r;s++){var a=e[t+s].position;n[o]=a.x,n[o+1]=a.y,n[o+i]=a.x,n[o+i+1]=a.y,n[o+2*i]=a.x,n[o+2*i+1]=a.y,n[o+3*i]=a.x,n[o+3*i+1]=a.y,o+=4*i}},t.prototype.uploadRotation=function(e,t,r,n,i,o){for(var s=0;s<r;s++){var a=e[t+s].rotation;n[o]=a,n[o+i]=a,n[o+2*i]=a,n[o+3*i]=a,o+=4*i}},t.prototype.uploadUvs=function(e,t,r,n,i,o){for(var s=0;s<r;++s){var a=e[t+s]._texture._uvs;a?(n[o]=a.x0,n[o+1]=a.y0,n[o+i]=a.x1,n[o+i+1]=a.y1,n[o+2*i]=a.x2,n[o+2*i+1]=a.y2,n[o+3*i]=a.x3,n[o+3*i+1]=a.y3,o+=4*i):(n[o]=0,n[o+1]=0,n[o+i]=0,n[o+i+1]=0,n[o+2*i]=0,n[o+2*i+1]=0,n[o+3*i]=0,n[o+3*i+1]=0,o+=4*i)}},t.prototype.uploadTint=function(e,t,r,n,i,o){for(var s=0;s<r;++s){var a=e[t+s],h=a._texture.baseTexture.alphaMode>0,c=a.alpha,l=c<1&&h?ts(a._tintRGB,c):a._tintRGB+(255*c<<24);n[o]=l,n[o+i]=l,n[o+2*i]=l,n[o+3*i]=l,o+=4*i}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t.extension={name:"particle",type:Os.RendererPlugin},t}(Nh);!function(e){e.MITER="miter",e.BEVEL="bevel",e.ROUND="round"}(Uu||(Uu={})),function(e){e.BUTT="butt",e.ROUND="round",e.SQUARE="square"}(Bu||(Bu={}));var Fu={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e,t){if(void 0===t&&(t=20),!this.adaptive||!e||isNaN(e))return t;var r=Math.ceil(e/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},ku=function(){function e(){this.color=16777215,this.alpha=1,this.texture=dh.WHITE,this.matrix=null,this.visible=!1,this.reset()}return e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},e.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=dh.WHITE,this.matrix=null,this.visible=!1},e.prototype.destroy=function(){this.texture=null,this.matrix=null},e}(),Yu=function(e,t){return Yu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Yu(e,t)};function Wu(e,t){function r(){this.constructor=e}Yu(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function Xu(e,t){var r,n;void 0===t&&(t=!1);var i=e.length;if(!(i<6)){for(var o=0,s=0,a=e[i-2],h=e[i-1];s<i;s+=2){var c=e[s],l=e[s+1];o+=(c-a)*(l+h),a=c,h=l}if(!t&&o>0||t&&o<=0){var u=i/2;for(s=u+u%2;s<i;s+=2){var d=i-s-2,f=i-s-1,p=s,_=s+1;r=[e[p],e[d]],e[d]=r[0],e[p]=r[1],n=[e[_],e[f]],e[f]=n[0],e[_]=n[1]}}}}var Vu={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var r=e.points,n=e.holes,i=t.points,o=t.indices;if(r.length>=6){Xu(r,!1);for(var s=[],a=0;a<n.length;a++){var h=n[a];Xu(h.points,!0),s.push(r.length/2),r=r.concat(h.points)}var c=Wo(r,s,2);if(!c)return;var l=i.length/2;for(a=0;a<c.length;a+=3)o.push(c[a]+l),o.push(c[a+1]+l),o.push(c[a+2]+l);for(a=0;a<r.length;a++)i.push(r[a])}}},Ku={build:function(e){var t,r,n,i,o,s,a=e.points;if(e.type===Mi.CIRC){var h=e.shape;t=h.x,r=h.y,o=s=h.radius,n=i=0}else if(e.type===Mi.ELIP){var c=e.shape;t=c.x,r=c.y,o=c.width,s=c.height,n=i=0}else{var l=e.shape,u=l.width/2,d=l.height/2;t=l.x+u,r=l.y+d,n=u-(o=s=Math.max(0,Math.min(l.radius,Math.min(u,d)))),i=d-s}if(o>=0&&s>=0&&n>=0&&i>=0){var f=Math.ceil(2.3*Math.sqrt(o+s)),p=8*f+(n?4:0)+(i?4:0);if(a.length=p,0!==p){if(0===f)return a.length=8,a[0]=a[6]=t+n,a[1]=a[3]=r+i,a[2]=a[4]=t-n,void(a[5]=a[7]=r-i);var _=0,E=4*f+(n?2:0)+2,g=E,b=p,m=t+(I=n+o),T=t-I,A=r+(O=i);if(a[_++]=m,a[_++]=A,a[--E]=A,a[--E]=T,i){var x=r-O;a[g++]=T,a[g++]=x,a[--b]=x,a[--b]=m}for(var S=1;S<f;S++){var y=Math.PI/2*(S/f);m=t+(I=n+Math.cos(y)*o),T=t-I,A=r+(O=i+Math.sin(y)*s),x=r-O;a[_++]=m,a[_++]=A,a[--E]=A,a[--E]=T,a[g++]=T,a[g++]=x,a[--b]=x,a[--b]=m}var I,O;m=t+(I=n),T=t-I,A=r+(O=i+s),x=r-O;a[_++]=m,a[_++]=A,a[--b]=x,a[--b]=m,n&&(a[_++]=T,a[_++]=A,a[--b]=x,a[--b]=T)}}else a.length=0},triangulate:function(e,t){var r=e.points,n=t.points,i=t.indices;if(0!==r.length){var o,s,a=n.length/2,h=a;if(e.type!==Mi.RREC){var c=e.shape;o=c.x,s=c.y}else{var l=e.shape;o=l.x+l.width/2,s=l.y+l.height/2}var u=e.matrix;n.push(e.matrix?u.a*o+u.c*s+u.tx:o,e.matrix?u.b*o+u.d*s+u.ty:s),a++,n.push(r[0],r[1]);for(var d=2;d<r.length;d+=2)n.push(r[d],r[d+1]),i.push(a++,h,a);i.push(h+1,h,a)}}},ju={build:function(e){var t=e.shape,r=t.x,n=t.y,i=t.width,o=t.height,s=e.points;s.length=0,s.push(r,n,r+i,n,r+i,n+o,r,n+o)},triangulate:function(e,t){var r=e.points,n=t.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function zu(e,t,r){return e+(t-e)*r}function Zu(e,t,r,n,i,o,s){void 0===s&&(s=[]);for(var a=s,h=0,c=0,l=0,u=0,d=0,f=0,p=0,_=0;p<=20;++p)h=zu(e,r,_=p/20),c=zu(t,n,_),l=zu(r,i,_),u=zu(n,o,_),d=zu(h,l,_),f=zu(c,u,_),0===p&&a[a.length-2]===d&&a[a.length-1]===f||a.push(d,f);return a}var $u={build:function(e){if(pd.nextRoundedRectBehavior)Ku.build(e);else{var t=e.shape,r=e.points,n=t.x,i=t.y,o=t.width,s=t.height,a=Math.max(0,Math.min(t.radius,Math.min(o,s)/2));r.length=0,a?(Zu(n,i+a,n,i,n+a,i,r),Zu(n+o-a,i,n+o,i,n+o,i+a,r),Zu(n+o,i+s-a,n+o,i+s,n+o-a,i+s,r),Zu(n+a,i+s,n,i+s,n,i+s-a,r)):r.push(n,i,n+o,i,n+o,i+s,n,i+s)}},triangulate:function(e,t){if(pd.nextRoundedRectBehavior)Ku.triangulate(e,t);else{for(var r=e.points,n=t.points,i=t.indices,o=n.length/2,s=Wo(r,null,2),a=0,h=s.length;a<h;a+=3)i.push(s[a]+o),i.push(s[a+1]+o),i.push(s[a+2]+o);for(a=0,h=r.length;a<h;a++)n.push(r[a],r[++a])}}};function qu(e,t,r,n,i,o,s,a){var h,c;s?(h=n,c=-r):(h=-n,c=r);var l=e-r*i+h,u=t-n*i+c,d=e+r*o+h,f=t+n*o+c;return a.push(l,u),a.push(d,f),2}function Qu(e,t,r,n,i,o,s,a){var h=r-e,c=n-t,l=Math.atan2(h,c),u=Math.atan2(i-e,o-t);a&&l<u?l+=2*Math.PI:!a&&l>u&&(u+=2*Math.PI);var d=l,f=u-l,p=Math.abs(f),_=Math.sqrt(h*h+c*c),E=1+(15*p*Math.sqrt(_)/Math.PI|0),g=f/E;if(d+=g,a){s.push(e,t),s.push(r,n);for(var b=1,m=d;b<E;b++,m+=g)s.push(e,t),s.push(e+Math.sin(m)*_,t+Math.cos(m)*_);s.push(e,t),s.push(i,o)}else{s.push(r,n),s.push(e,t);for(b=1,m=d;b<E;b++,m+=g)s.push(e+Math.sin(m)*_,t+Math.cos(m)*_),s.push(e,t);s.push(i,o),s.push(e,t)}return 2*E}function Ju(e,t){e.lineStyle.native?function(e,t){var r=0,n=e.shape,i=e.points||n.points,o=n.type!==Mi.POLY||n.closeStroke;if(0!==i.length){var s=t.points,a=t.indices,h=i.length/2,c=s.length/2,l=c;for(s.push(i[0],i[1]),r=1;r<h;r++)s.push(i[2*r],i[2*r+1]),a.push(l,l+1),l++;o&&a.push(l,c)}}(e,t):function(e,t){var r=e.shape,n=e.points||r.points.slice(),i=t.closePointEps;if(0!==n.length){var o=e.lineStyle,s=new Gi(n[0],n[1]),a=new Gi(n[n.length-2],n[n.length-1]),h=r.type!==Mi.POLY||r.closeStroke,c=Math.abs(s.x-a.x)<i&&Math.abs(s.y-a.y)<i;if(h){n=n.slice(),c&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));var l=.5*(s.x+a.x),u=.5*(a.y+s.y);n.unshift(l,u),n.push(l,u)}var d=t.points,f=n.length/2,p=n.length,_=d.length/2,E=o.width/2,g=E*E,b=o.miterLimit*o.miterLimit,m=n[0],T=n[1],A=n[2],x=n[3],S=0,y=0,I=-(T-x),O=m-A,R=0,v=0,C=Math.sqrt(I*I+O*O);I/=C,O/=C,I*=E,O*=E;var L=o.alignment,N=2*(1-L),P=2*L;h||(o.cap===Bu.ROUND?p+=Qu(m-I*(N-P)*.5,T-O*(N-P)*.5,m-I*N,T-O*N,m+I*P,T+O*P,d,!0)+2:o.cap===Bu.SQUARE&&(p+=qu(m,T,I,O,N,P,!0,d))),d.push(m-I*N,T-O*N),d.push(m+I*P,T+O*P);for(var w=1;w<f-1;++w){m=n[2*(w-1)],T=n[2*(w-1)+1],A=n[2*w],x=n[2*w+1],S=n[2*(w+1)],y=n[2*(w+1)+1],I=-(T-x),O=m-A,I/=C=Math.sqrt(I*I+O*O),O/=C,I*=E,O*=E,R=-(x-y),v=A-S,R/=C=Math.sqrt(R*R+v*v),v/=C,R*=E,v*=E;var M=A-m,D=T-x,U=A-S,B=y-x,G=M*U+D*B,H=D*U-B*M,F=H<0;if(Math.abs(H)<.001*Math.abs(G))d.push(A-I*N,x-O*N),d.push(A+I*P,x+O*P),G>=0&&(o.join===Uu.ROUND?p+=Qu(A,x,A-I*N,x-O*N,A-R*N,x-v*N,d,!1)+4:p+=2,d.push(A-R*P,x-v*P),d.push(A+R*N,x+v*N));else{var k=(-I+m)*(-O+x)-(-I+A)*(-O+T),Y=(-R+S)*(-v+x)-(-R+A)*(-v+y),W=(M*Y-U*k)/H,X=(B*k-D*Y)/H,V=(W-A)*(W-A)+(X-x)*(X-x),K=A+(W-A)*N,j=x+(X-x)*N,z=A-(W-A)*P,Z=x-(X-x)*P,$=F?N:P;V<=Math.min(M*M+D*D,U*U+B*B)+$*$*g?o.join===Uu.BEVEL||V/g>b?(F?(d.push(K,j),d.push(A+I*P,x+O*P),d.push(K,j),d.push(A+R*P,x+v*P)):(d.push(A-I*N,x-O*N),d.push(z,Z),d.push(A-R*N,x-v*N),d.push(z,Z)),p+=2):o.join===Uu.ROUND?F?(d.push(K,j),d.push(A+I*P,x+O*P),p+=Qu(A,x,A+I*P,x+O*P,A+R*P,x+v*P,d,!0)+4,d.push(K,j),d.push(A+R*P,x+v*P)):(d.push(A-I*N,x-O*N),d.push(z,Z),p+=Qu(A,x,A-I*N,x-O*N,A-R*N,x-v*N,d,!1)+4,d.push(A-R*N,x-v*N),d.push(z,Z)):(d.push(K,j),d.push(z,Z)):(d.push(A-I*N,x-O*N),d.push(A+I*P,x+O*P),o.join===Uu.ROUND?p+=F?Qu(A,x,A+I*P,x+O*P,A+R*P,x+v*P,d,!0)+2:Qu(A,x,A-I*N,x-O*N,A-R*N,x-v*N,d,!1)+2:o.join===Uu.MITER&&V/g<=b&&(F?(d.push(z,Z),d.push(z,Z)):(d.push(K,j),d.push(K,j)),p+=2),d.push(A-R*N,x-v*N),d.push(A+R*P,x+v*P),p+=2)}}m=n[2*(f-2)],T=n[2*(f-2)+1],A=n[2*(f-1)],I=-(T-(x=n[2*(f-1)+1])),O=m-A,I/=C=Math.sqrt(I*I+O*O),O/=C,I*=E,O*=E,d.push(A-I*N,x-O*N),d.push(A+I*P,x+O*P),h||(o.cap===Bu.ROUND?p+=Qu(A-I*(N-P)*.5,x-O*(N-P)*.5,A-I*N,x-O*N,A+I*P,x+O*P,d,!1)+2:o.cap===Bu.SQUARE&&(p+=qu(A,x,I,O,N,P,!1,d)));var q=t.indices,Q=Fu.epsilon*Fu.epsilon;for(w=_;w<p+_-2;++w)m=d[2*w],T=d[2*w+1],A=d[2*(w+1)],x=d[2*(w+1)+1],S=d[2*(w+2)],y=d[2*(w+2)+1],Math.abs(m*(x-y)+A*(y-T)+S*(T-x))<Q||q.push(w,w+1,w+2)}}(e,t)}var ed,td=function(){function e(){}return e.curveTo=function(e,t,r,n,i,o){var s=o[o.length-2],a=o[o.length-1]-t,h=s-e,c=n-t,l=r-e,u=Math.abs(a*l-h*c);if(u<1e-8||0===i)return o[o.length-2]===e&&o[o.length-1]===t||o.push(e,t),null;var d=a*a+h*h,f=c*c+l*l,p=a*c+h*l,_=i*Math.sqrt(d)/u,E=i*Math.sqrt(f)/u,g=_*p/d,b=E*p/f,m=_*l+E*h,T=_*c+E*a,A=h*(E+g),x=a*(E+g),S=l*(_+b),y=c*(_+b);return{cx:m+e,cy:T+t,radius:i,startAngle:Math.atan2(x-T,A-m),endAngle:Math.atan2(y-T,S-m),anticlockwise:h*c>l*a}},e.arc=function(e,t,r,n,i,o,s,a,h){for(var c=s-o,l=Fu._segmentsCount(Math.abs(c)*i,40*Math.ceil(Math.abs(c)/Di)),u=c/(2*l),d=2*u,f=Math.cos(u),p=Math.sin(u),_=l-1,E=_%1/_,g=0;g<=_;++g){var b=u+o+d*(g+E*g),m=Math.cos(b),T=-Math.sin(b);h.push((f*m+p*T)*i+r,(f*-T+p*m)*i+n)}},e}(),rd=function(){function e(){}return e.curveLength=function(e,t,r,n,i,o,s,a){for(var h=0,c=0,l=0,u=0,d=0,f=0,p=0,_=0,E=0,g=0,b=0,m=e,T=t,A=1;A<=10;++A)g=m-(_=(p=(f=(d=1-(c=A/10))*d)*d)*e+3*f*c*r+3*d*(l=c*c)*i+(u=l*c)*s),b=T-(E=p*t+3*f*c*n+3*d*l*o+u*a),m=_,T=E,h+=Math.sqrt(g*g+b*b);return h},e.curveTo=function(t,r,n,i,o,s,a){var h=a[a.length-2],c=a[a.length-1];a.length-=2;var l=Fu._segmentsCount(e.curveLength(h,c,t,r,n,i,o,s)),u=0,d=0,f=0,p=0,_=0;a.push(h,c);for(var E=1,g=0;E<=l;++E)f=(d=(u=1-(g=E/l))*u)*u,_=(p=g*g)*g,a.push(f*h+3*d*g*t+3*u*p*n+_*o,f*c+3*d*g*r+3*u*p*i+_*s)},e}(),nd=function(){function e(){}return e.curveLength=function(e,t,r,n,i,o){var s=e-2*r+i,a=t-2*n+o,h=2*r-2*e,c=2*n-2*t,l=4*(s*s+a*a),u=4*(s*h+a*c),d=h*h+c*c,f=2*Math.sqrt(l+u+d),p=Math.sqrt(l),_=2*l*p,E=2*Math.sqrt(d),g=u/p;return(_*f+p*u*(f-E)+(4*d*l-u*u)*Math.log((2*p+g+f)/(g+E)))/(4*_)},e.curveTo=function(t,r,n,i,o){for(var s=o[o.length-2],a=o[o.length-1],h=Fu._segmentsCount(e.curveLength(s,a,t,r,n,i)),c=0,l=0,u=1;u<=h;++u){var d=u/h;c=s+(t-s)*d,l=a+(r-a)*d,o.push(c+(t+(n-t)*d-c)*d,l+(r+(i-r)*d-l)*d)}},e}(),id=function(){function e(){this.reset()}return e.prototype.begin=function(e,t,r){this.reset(),this.style=e,this.start=t,this.attribStart=r},e.prototype.end=function(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start},e.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},e}(),od=((ed={})[Mi.POLY]=Vu,ed[Mi.CIRC]=Ku,ed[Mi.ELIP]=Ku,ed[Mi.RECT]=ju,ed[Mi.RREC]=$u,ed),sd=[],ad=[],hd=function(){function e(e,t,r,n){void 0===t&&(t=null),void 0===r&&(r=null),void 0===n&&(n=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=t,this.matrix=n,this.type=e.type}return e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(),cd=new Gi,ld=function(e){function t(){var t=e.call(this)||this;return t.closePointEps=1e-4,t.boundsPadding=0,t.uvsFloat32=null,t.indicesUint16=null,t.batchable=!1,t.points=[],t.colors=[],t.uvs=[],t.indices=[],t.textureIds=[],t.graphicsData=[],t.drawCalls=[],t.batchDirty=-1,t.batches=[],t.dirty=0,t.cacheDirty=-1,t.clearDirty=0,t.shapeIndex=0,t._bounds=new ms,t.boundsDirty=-1,t}return Wu(t,e),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),ad.push(this.drawCalls[e]);this.drawCalls.length=0;for(e=0;e<this.batches.length;e++){var t=this.batches[e];t.reset(),sd.push(t)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(e,t,r,n){void 0===t&&(t=null),void 0===r&&(r=null),void 0===n&&(n=null);var i=new hd(e,t,r,n);return this.graphicsData.push(i),this.dirty++,this},t.prototype.drawHole=function(e,t){if(void 0===t&&(t=null),!this.graphicsData.length)return null;var r=new hd(e,null,null,t),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(e){for(var t=this.graphicsData,r=0;r<t.length;++r){var n=t[r];if(n.fillStyle.visible&&(n.shape&&(n.matrix?n.matrix.applyInverse(e,cd):cd.copyFrom(e),n.shape.contains(cd.x,cd.y)))){var i=!1;if(n.holes)for(var o=0;o<n.holes.length;o++){if(n.holes[o].shape.contains(cd.x,cd.y)){i=!0;break}}if(!i)return!0}}return!1},t.prototype.updateBatches=function(){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,t=this.graphicsData,r=null,n=null;this.batches.length>0&&(n=(r=this.batches[this.batches.length-1]).style);for(var i=this.shapeIndex;i<t.length;i++){this.shapeIndex++;var o=t[i],s=o.fillStyle,a=o.lineStyle;od[o.type].build(o),o.matrix&&this.transformPoints(o.points,o.matrix),(s.visible||a.visible)&&this.processHoles(o.holes);for(var h=0;h<2;h++){var c=0===h?s:a;if(c.visible){var l=c.texture.baseTexture,u=this.indices.length,d=this.points.length/2;l.wrapMode=lo.REPEAT,0===h?this.processFill(o):this.processLine(o);var f=this.points.length/2-d;0!==f&&(r&&!this._compareStyles(n,c)&&(r.end(u,d),r=null),r||((r=sd.pop()||new id).begin(c,u,d),this.batches.push(r),n=c),this.addUvs(this.points,e,c.texture,d,f,c.matrix))}}}var p=this.indices.length,_=this.points.length/2;if(r&&r.end(p,_),0!==this.batches.length){var E=_>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&E===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=E?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},t.prototype._compareStyles=function(e,t){return!(!e||!t)&&(e.texture.baseTexture===t.texture.baseTexture&&(e.color+e.alpha===t.color+t.alpha&&!!e.native==!!t.native))},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,t=this.graphicsData.length;e<t;e++){var r=this.graphicsData[e],n=r.fillStyle,i=r.lineStyle;if(n&&!n.texture.baseTexture.valid)return!1;if(i&&!i.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,t=0,r=e.length;t<r;t++)for(var n=e[t],i=0;i<n.size;i++){var o=n.start+i;this.indicesUint16[o]=this.indicesUint16[o]-n.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var e=this.batches,r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<2*t.BATCHABLE_SIZE},t.prototype.buildDrawCalls=function(){for(var e=++Za._globalBatch,t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),ad.push(this.drawCalls[t]);this.drawCalls.length=0;var r=this.colors,n=this.textureIds,i=ad.pop();i||((i=new Kc).texArray=new jc),i.texArray.count=0,i.start=0,i.size=0,i.type=io.TRIANGLES;var o=0,s=null,a=0,h=!1,c=io.TRIANGLES,l=0;this.drawCalls.push(i);for(t=0;t<this.batches.length;t++){var u=this.batches[t],d=u.style,f=d.texture.baseTexture;h!==!!d.native&&(c=(h=!!d.native)?io.LINES:io.TRIANGLES,s=null,o=8,e++),s!==f&&(s=f,f._batchEnabled!==e&&(8===o&&(e++,o=0,i.size>0&&((i=ad.pop())||((i=new Kc).texArray=new jc),this.drawCalls.push(i)),i.start=l,i.size=0,i.texArray.count=0,i.type=c),f.touched=1,f._batchEnabled=e,f._batchLocation=o,f.wrapMode=lo.REPEAT,i.texArray.elements[i.texArray.count++]=f,o++)),i.size+=u.size,l+=u.size,a=f._batchLocation,this.addColors(r,d.color,d.alpha,u.attribSize,u.attribStart),this.addTextureIds(n,a,u.attribSize,u.attribStart)}Za._globalBatch=e,this.packAttributes()},t.prototype.packAttributes=function(){for(var e=this.points,t=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(3*e.length*4),o=new Float32Array(i),s=new Uint32Array(i),a=0,h=0;h<e.length/2;h++)o[a++]=e[2*h],o[a++]=e[2*h+1],o[a++]=t[2*h],o[a++]=t[2*h+1],s[a++]=r[h],o[a++]=n[h];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(e){e.holes.length?Vu.triangulate(e,this):od[e.type].triangulate(e,this)},t.prototype.processLine=function(e){Ju(e,this);for(var t=0;t<e.holes.length;t++)Ju(e.holes[t],this)},t.prototype.processHoles=function(e){for(var t=0;t<e.length;t++){var r=e[t];od[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},t.prototype.calculateBounds=function(){var e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(e,t){for(var r=0;r<e.length/2;r++){var n=e[2*r],i=e[2*r+1];e[2*r]=t.a*n+t.c*i+t.tx,e[2*r+1]=t.b*n+t.d*i+t.ty}},t.prototype.addColors=function(e,t,r,n,i){void 0===i&&(i=0);var o=ts((t>>16)+(65280&t)+((255&t)<<16),r);e.length=Math.max(e.length,i+n);for(var s=0;s<n;s++)e[i+s]=o},t.prototype.addTextureIds=function(e,t,r,n){void 0===n&&(n=0),e.length=Math.max(e.length,n+r);for(var i=0;i<r;i++)e[n+i]=t},t.prototype.addUvs=function(e,t,r,n,i,o){void 0===o&&(o=null);for(var s=0,a=t.length,h=r.frame;s<i;){var c=e[2*(n+s)],l=e[2*(n+s)+1];if(o){var u=o.a*c+o.c*l+o.tx;l=o.b*c+o.d*l+o.ty,c=u}s++,t.push(c/h.width,l/h.height)}var d=r.baseTexture;(h.width<d.width||h.height<d.height)&&this.adjustUvs(t,r,a,i)},t.prototype.adjustUvs=function(e,t,r,n){for(var i=t.baseTexture,o=1e-6,s=r+2*n,a=t.frame,h=a.width/i.width,c=a.height/i.height,l=a.x/a.width,u=a.y/a.height,d=Math.floor(e[r]+o),f=Math.floor(e[r+1]+o),p=r+2;p<s;p+=2)d=Math.min(d,Math.floor(e[p]+o)),f=Math.min(f,Math.floor(e[p+1]+o));l-=d,u-=f;for(p=r;p<s;p+=2)e[p]=(e[p]+l)*h,e[p+1]=(e[p+1]+u)*c},t.BATCHABLE_SIZE=100,t}(qc),ud=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.width=0,t.alignment=.5,t.native=!1,t.cap=Bu.BUTT,t.join=Uu.MITER,t.miterLimit=10,t}return Wu(t,e),t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},t.prototype.reset=function(){e.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(ku),dd=new Float32Array(3),fd={},pd=function(e){function t(t){void 0===t&&(t=null);var r=e.call(this)||this;return r.shader=null,r.pluginName="batch",r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r._fillStyle=new ku,r._lineStyle=new ud,r._matrix=null,r._holeMode=!1,r.state=uc.for2d(),r._geometry=t||new ld,r._geometry.refCount++,r._transformID=-1,r.tint=16777215,r.blendMode=no.NORMAL,r}return Wu(t,e),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(e,t,r,n,i){return void 0===e&&(e=null),void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=.5),void 0===i&&(i=!1),"number"==typeof e&&(e={width:e,color:t,alpha:r,alignment:n,native:i}),this.lineTextureStyle(e)},t.prototype.lineTextureStyle=function(e){e=Object.assign({width:0,texture:dh.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Bu.BUTT,join:Uu.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var t=e.width>0&&e.alpha>0;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:t},e)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new Wi,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new Wi,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this},t.prototype.lineTo=function(e,t){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return n===e&&i===t||r.push(e,t),this},t.prototype._initCurve=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)},t.prototype.quadraticCurveTo=function(e,t,r,n){this._initCurve();var i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),nd.curveTo(e,t,r,n,i),this},t.prototype.bezierCurveTo=function(e,t,r,n,i,o){return this._initCurve(),rd.curveTo(e,t,r,n,i,o,this.currentPath.points),this},t.prototype.arcTo=function(e,t,r,n,i){this._initCurve(e,t);var o=this.currentPath.points,s=td.curveTo(e,t,r,n,i,o);if(s){var a=s.cx,h=s.cy,c=s.radius,l=s.startAngle,u=s.endAngle,d=s.anticlockwise;this.arc(a,h,c,l,u,d)}return this},t.prototype.arc=function(e,t,r,n,i,o){if(void 0===o&&(o=!1),n===i)return this;if(!o&&i<=n?i+=Di:o&&n<=i&&(n+=Di),0===i-n)return this;var s=e+Math.cos(n)*r,a=t+Math.sin(n)*r,h=this._geometry.closePointEps,c=this.currentPath?this.currentPath.points:null;if(c){var l=Math.abs(c[c.length-2]-s),u=Math.abs(c[c.length-1]-a);l<h&&u<h||c.push(s,a)}else this.moveTo(s,a),c=this.currentPath.points;return td.arc(s,a,e,t,r,n,i,o,c),this},t.prototype.beginFill=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=1),this.beginTextureFill({texture:dh.WHITE,color:e,alpha:t})},t.prototype.beginTextureFill=function(e){e=Object.assign({texture:dh.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var t=e.alpha>0;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:t},e)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(e,t,r,n){return this.drawShape(new Fi(e,t,r,n))},t.prototype.drawRoundedRect=function(e,t,r,n,i){return this.drawShape(new Xi(e,t,r,n,i))},t.prototype.drawCircle=function(e,t,r){return this.drawShape(new ki(e,t,r))},t.prototype.drawEllipse=function(e,t,r,n){return this.drawShape(new Yi(e,t,r,n))},t.prototype.drawPolygon=function(){for(var e,t=arguments,r=[],n=0;n<arguments.length;n++)r[n]=t[n];var i=!0,o=r[0];o.points?(i=o.closeStroke,e=o.points):e=Array.isArray(r[0])?r[0]:r;var s=new Wi(e);return s.closeStroke=i,this.drawShape(s),this},t.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return!(1!==e.length||e[0].shape.type!==Mi.RECT||e[0].matrix||e[0].holes.length||e[0].lineStyle.visible&&e[0].lineStyle.width)},t.prototype._render=function(e){this.finishPoly();var t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},t.prototype._populateBatches=function(){var e=this._geometry,t=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(var n=0;n<r;n++){var i=e.batches[n],o=i.style.color,s=new Float32Array(this.vertexData.buffer,4*i.attribStart*2,2*i.attribSize),a=new Float32Array(e.uvsFloat32.buffer,4*i.attribStart*2,2*i.attribSize),h={vertexData:s,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*i.start,i.size),uvs:a,_batchRGB:$o(o),_tintRGB:o,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=h}},t.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var t=0,r=this.batches.length;t<r;t++){var n=this.batches[t];n.worldAlpha=this.worldAlpha*n.alpha,e.plugins[this.pluginName].render(n)}}},t.prototype._renderDirect=function(e){var t=this._resolveDirectShader(e),r=this._geometry,n=this.tint,i=this.worldAlpha,o=t.uniforms,s=r.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(n>>16&255)/255*i,o.tint[1]=(n>>8&255)/255*i,o.tint[2]=(255&n)/255*i,o.tint[3]=i,e.shader.bind(t),e.geometry.bind(r,t),e.state.set(this.state);for(var a=0,h=s.length;a<h;a++)this._renderDrawCallDirect(e,r.drawCalls[a])},t.prototype._renderDrawCallDirect=function(e,t){for(var r=t.texArray,n=t.type,i=t.size,o=t.start,s=r.count,a=0;a<s;a++)e.texture.bind(r.elements[a],a);e.geometry.draw(n,i,o)},t.prototype._resolveDirectShader=function(e){var t=this.shader,r=this.pluginName;if(!t){if(!fd[r]){for(var n=e.plugins[r].MAX_TEXTURES,i=new Int32Array(n),o=0;o<n;o++)i[o]=o;var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ki,default:Oh.from({uSamplers:i},!0)},a=e.plugins[r]._shader.program;fd[r]=new lc(a,s)}t=fd[r]}return t},t.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var t=e.bounds,r=t.minX,n=t.minY,i=t.maxX,o=t.maxY;this._bounds.addFrame(this.transform,r,n,i,o)}},t.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=$o(this.tint,dd),t=0;t<this.batches.length;t++){var r=this.batches[t],n=r._batchRGB,i=(e[0]*n[0]*255<<16)+(e[1]*n[1]*255<<8)+(0|e[2]*n[2]*255);r._tintRGB=(i>>16)+(65280&i)+((255&i)<<16)}}},t.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var t=this.transform.worldTransform,r=t.a,n=t.b,i=t.c,o=t.d,s=t.tx,a=t.ty,h=this._geometry.points,c=this.vertexData,l=0,u=0;u<h.length;u+=2){var d=h[u],f=h[u+1];c[l++]=r*d+i*f+s,c[l++]=o*f+n*d+a}}},t.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this},t.prototype.setMatrix=function(e){return this._matrix=e,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(t){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,e.prototype.destroy.call(this,t)},t.nextRoundedRectBehavior=!1,t._TEMP_POINT=new Gi,t}(Is),_d=function(e,t){return _d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},_d(e,t)};var Ed,gd=new Gi,bd=new Uint16Array([0,1,2,0,2,3]),md=function(e){function t(t){var r=e.call(this)||this;return r._anchor=new Vi(r._onAnchorUpdate,r,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=no.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=t||dh.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=bd,r.pluginName="batch",r.isSprite=!0,r._roundPixels=ko.ROUND_PIXELS,r}return function(e,t){function r(){this.constructor=e}_d(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=hs(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=hs(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var t=this.transform.worldTransform,r=t.a,n=t.b,i=t.c,o=t.d,s=t.tx,a=t.ty,h=this.vertexData,c=e.trim,l=e.orig,u=this._anchor,d=0,f=0,p=0,_=0;if(c?(d=(f=c.x-u._x*l.width)+c.width,p=(_=c.y-u._y*l.height)+c.height):(d=(f=-u._x*l.width)+l.width,p=(_=-u._y*l.height)+l.height),h[0]=r*f+i*_+s,h[1]=o*_+n*f+a,h[2]=r*d+i*_+s,h[3]=o*_+n*d+a,h[4]=r*d+i*p+s,h[5]=o*p+n*d+a,h[6]=r*f+i*p+s,h[7]=o*p+n*f+a,this._roundPixels)for(var E=ko.RESOLUTION,g=0;g<h.length;++g)h[g]=Math.round((h[g]*E|0)/E)}},t.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,r=e.orig,n=this._anchor,i=this.transform.worldTransform,o=i.a,s=i.b,a=i.c,h=i.d,c=i.tx,l=i.ty,u=-n._x*r.width,d=u+r.width,f=-n._y*r.height,p=f+r.height;t[0]=o*u+a*f+c,t[1]=h*f+s*u+l,t[2]=o*d+a*f+c,t[3]=h*f+s*d+l,t[4]=o*d+a*p+c,t[5]=h*p+s*d+l,t[6]=o*u+a*p+c,t[7]=h*p+s*u+l},t.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._localBounds||(this._localBounds=new ms),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Fi),t=this._localBoundsRect),this._localBounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,gd);var t=this._texture.orig.width,r=this._texture.orig.height,n=-t*this.anchor.x,i=0;return gd.x>=n&&gd.x<n+t&&(i=-r*this.anchor.y,gd.y>=i&&gd.y<i+r)},t.prototype.destroy=function(t){if(e.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof t?t:t&&t.texture){var r="boolean"==typeof t?t:t&&t.baseTexture;this._texture.destroy(!!r)}this._texture=null},t.from=function(e,r){return new t(e instanceof dh?e:dh.from(e,r))},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var t=hs(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var t=hs(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||dh.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(Is),Td=function(e,t){return Td=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Td(e,t)};!function(e){e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(Ed||(Ed={}));var Ad={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Ed.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},xd=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Sd=function(){function e(e){this.styleID=0,this.reset(),Od(this,e,e)}return e.prototype.clone=function(){var t={};return Od(t,this,Ad),new e(t)},e.prototype.reset=function(){Od(this,Ad,Ad)},Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var t=Id(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(e){var t=Id(e);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){(function(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0})(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var t=Id(e);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),e.prototype.toFontString=function(){var e="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var r=t.length-1;r>=0;r--){var n=t[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&xd.indexOf(n)<0&&(n='"'+n+'"'),t[r]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+t.join(",")},e}();function yd(e){return"number"==typeof e?qo(e):("string"==typeof e&&0===e.indexOf("0x")&&(e=e.replace("0x","#")),e)}function Id(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=yd(e[t]);return e}return yd(e)}function Od(e,t,r){for(var n in r)Array.isArray(t[n])?e[n]=t[n].slice():e[n]=t[n]}var Rd={willReadFrequently:!0},vd=function(){function e(e,t,r,n,i,o,s,a,h){this.text=e,this.style=t,this.width=r,this.height=n,this.lines=i,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=h}return e.measureText=function(t,r,n,i){void 0===i&&(i=e._canvas),n=null==n?r.wordWrap:n;var o=r.toFontString(),s=e.measureFont(o);0===s.fontSize&&(s.fontSize=r.fontSize,s.ascent=r.fontSize);var a=i.getContext("2d",Rd);a.font=o;for(var h=(n?e.wordWrap(t,r,i):t).split(/(?:\r\n|\r|\n)/),c=new Array(h.length),l=0,u=0;u<h.length;u++){var d=a.measureText(h[u]).width+(h[u].length-1)*r.letterSpacing;c[u]=d,l=Math.max(l,d)}var f=l+r.strokeThickness;r.dropShadow&&(f+=r.dropShadowDistance);var p=r.lineHeight||s.fontSize+r.strokeThickness,_=Math.max(p,s.fontSize+r.strokeThickness)+(h.length-1)*(p+r.leading);return r.dropShadow&&(_+=r.dropShadowDistance),new e(t,r,f,_,h,c,p+r.leading,l,s)},e.wordWrap=function(t,r,n){void 0===n&&(n=e._canvas);for(var i=n.getContext("2d",Rd),o=0,s="",a="",h=Object.create(null),c=r.letterSpacing,l=r.whiteSpace,u=e.collapseSpaces(l),d=e.collapseNewlines(l),f=!u,p=r.wordWrapWidth+c,_=e.tokenize(t),E=0;E<_.length;E++){var g=_[E];if(e.isNewline(g)){if(!d){a+=e.addLine(s),f=!u,s="",o=0;continue}g=" "}if(u){var b=e.isBreakingSpace(g),m=e.isBreakingSpace(s[s.length-1]);if(b&&m)continue}var T=e.getFromCache(g,c,h,i);if(T>p)if(""!==s&&(a+=e.addLine(s),s="",o=0),e.canBreakWords(g,r.breakWords))for(var A=e.wordWrapSplit(g),x=0;x<A.length;x++){for(var S=A[x],y=1;A[x+y];){var I=A[x+y],O=S[S.length-1];if(e.canBreakChars(O,I,g,x,r.breakWords))break;S+=I,y++}x+=S.length-1;var R=e.getFromCache(S,c,h,i);R+o>p&&(a+=e.addLine(s),f=!1,s="",o=0),s+=S,o+=R}else{s.length>0&&(a+=e.addLine(s),s="",o=0);var v=E===_.length-1;a+=e.addLine(g,!v),f=!1,s="",o=0}else T+o>p&&(f=!1,a+=e.addLine(s),s="",o=0),(s.length>0||!e.isBreakingSpace(g)||f)&&(s+=g,o+=T)}return a+=e.addLine(s,!1)},e.addLine=function(t,r){return void 0===r&&(r=!0),t=e.trimRight(t),t=r?t+"\n":t},e.getFromCache=function(e,t,r,n){var i=r[e];if("number"!=typeof i){var o=e.length*t;i=n.measureText(e).width+o,r[e]=i}return i},e.collapseSpaces=function(e){return"normal"===e||"pre-line"===e},e.collapseNewlines=function(e){return"normal"===e},e.trimRight=function(t){if("string"!=typeof t)return"";for(var r=t.length-1;r>=0;r--){var n=t[r];if(!e.isBreakingSpace(n))break;t=t.slice(0,-1)}return t},e.isNewline=function(t){return"string"==typeof t&&e._newlines.indexOf(t.charCodeAt(0))>=0},e.isBreakingSpace=function(t,r){return"string"==typeof t&&e._breakingSpaces.indexOf(t.charCodeAt(0))>=0},e.tokenize=function(t){var r=[],n="";if("string"!=typeof t)return r;for(var i=0;i<t.length;i++){var o=t[i],s=t[i+1];e.isBreakingSpace(o,s)||e.isNewline(o)?(""!==n&&(r.push(n),n=""),r.push(o)):n+=o}return""!==n&&r.push(n),r},e.canBreakWords=function(e,t){return t},e.canBreakChars=function(e,t,r,n,i){return!0},e.wordWrapSplit=function(e){return e.split("")},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var r={ascent:0,descent:0,fontSize:0},n=e._canvas,i=e._context;i.font=t;var o=e.METRICS_STRING+e.BASELINE_SYMBOL,s=Math.ceil(i.measureText(o).width),a=Math.ceil(i.measureText(e.BASELINE_SYMBOL).width),h=Math.ceil(e.HEIGHT_MULTIPLIER*a);a=a*e.BASELINE_MULTIPLIER|0,n.width=s,n.height=h,i.fillStyle="#f00",i.fillRect(0,0,s,h),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,a);var c=i.getImageData(0,0,s,h).data,l=c.length,u=4*s,d=0,f=0,p=!1;for(d=0;d<a;++d){for(var _=0;_<u;_+=4)if(255!==c[f+_]){p=!0;break}if(p)break;f+=u}for(r.ascent=a-d,f=l-u,p=!1,d=h;d>a;--d){for(_=0;_<u;_+=4)if(255!==c[f+_]){p=!0;break}if(p)break;f-=u}return r.descent=d-a,r.fontSize=r.ascent+r.descent,e._fonts[t]=r,r},e.clearMetrics=function(t){void 0===t&&(t=""),t?delete e._fonts[t]:e._fonts={}},Object.defineProperty(e,"_canvas",{get:function(){if(!e.__canvas){var t=void 0;try{var r=new OffscreenCanvas(0,0),n=r.getContext("2d",Rd);if(n&&n.measureText)return e.__canvas=r,r;t=ko.ADAPTER.createCanvas()}catch(e){t=ko.ADAPTER.createCanvas()}t.width=t.height=10,e.__canvas=t}return e.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(e,"_context",{get:function(){return e.__context||(e.__context=e._canvas.getContext("2d",Rd)),e.__context},enumerable:!1,configurable:!0}),e}();vd._fonts={},vd.METRICS_STRING="|ÉqÅ",vd.BASELINE_SYMBOL="M",vd.BASELINE_MULTIPLIER=1.4,vd.HEIGHT_MULTIPLIER=2,vd._newlines=[10,13],vd._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Cd={texture:!0,children:!1,baseTexture:!0},Ld=function(e){function t(t,r,n){var i=this,o=!1;n||(n=ko.ADAPTER.createCanvas(),o=!0),n.width=3,n.height=3;var s=dh.from(n);return s.orig=new Fi,s.trim=new Fi,(i=e.call(this,s)||this)._ownCanvas=o,i.canvas=n,i.context=n.getContext("2d",{willReadFrequently:!0}),i._resolution=ko.RESOLUTION,i._autoResolution=!0,i._text=null,i._style=null,i._styleListener=null,i._font="",i.text=t,i.style=r,i.localStyleID=-1,i}return function(e,t){function r(){this.constructor=e}Td(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.updateText=function(e){var r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),this.dirty||!e){this._font=this._style.toFontString();var n,i,o=this.context,s=vd.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=s.width,h=s.height,c=s.lines,l=s.lineHeight,u=s.lineWidths,d=s.maxLineWidth,f=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+2*r.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,h)+2*r.padding)*this._resolution),o.scale(this._resolution,this._resolution),o.clearRect(0,0,this.canvas.width,this.canvas.height),o.font=this._font,o.lineWidth=r.strokeThickness,o.textBaseline=r.textBaseline,o.lineJoin=r.lineJoin,o.miterLimit=r.miterLimit;for(var p=r.dropShadow?2:1,_=0;_<p;++_){var E=r.dropShadow&&0===_,g=E?Math.ceil(Math.max(1,h)+2*r.padding):0,b=g*this._resolution;if(E){o.fillStyle="black",o.strokeStyle="black";var m=r.dropShadowColor,T=$o("number"==typeof m?m:Qo(m)),A=r.dropShadowBlur*this._resolution,x=r.dropShadowDistance*this._resolution;o.shadowColor="rgba("+255*T[0]+","+255*T[1]+","+255*T[2]+","+r.dropShadowAlpha+")",o.shadowBlur=A,o.shadowOffsetX=Math.cos(r.dropShadowAngle)*x,o.shadowOffsetY=Math.sin(r.dropShadowAngle)*x+b}else o.fillStyle=this._generateFillStyle(r,c,s),o.strokeStyle=r.stroke,o.shadowColor="black",o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0;var S=(l-f.fontSize)/2;(!t.nextLineHeightBehavior||l-f.fontSize<0)&&(S=0);for(var y=0;y<c.length;y++)n=r.strokeThickness/2,i=r.strokeThickness/2+y*l+f.ascent+S,"right"===r.align?n+=d-u[y]:"center"===r.align&&(n+=(d-u[y])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(c[y],n+r.padding,i+r.padding-g,!0),r.fill&&this.drawLetterSpacing(c[y],n+r.padding,i+r.padding-g)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,r,n,i){void 0===i&&(i=!1);var o=this._style.letterSpacing,s=t.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(0===o||s)return s&&(this.context.letterSpacing=o,this.context.textLetterSpacing=o),void(i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n));for(var a=r,h=Array.from?Array.from(e):e.split(""),c=this.context.measureText(e).width,l=0,u=0;u<h.length;++u){var d=h[u];i?this.context.strokeText(d,a,n):this.context.fillText(d,a,n);for(var f="",p=u+1;p<h.length;++p)f+=h[p];a+=c-(l=this.context.measureText(f).width)+o,c=l}},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var t=function(e){var t,r,n,i=e.width,o=e.height,s=e.getContext("2d",{willReadFrequently:!0}),a=s.getImageData(0,0,i,o).data,h=a.length,c={top:null,left:null,right:null,bottom:null},l=null;for(t=0;t<h;t+=4)0!==a[t+3]&&(r=t/4%i,n=~~(t/4/i),null===c.top&&(c.top=n),(null===c.left||r<c.left)&&(c.left=r),(null===c.right||c.right<r)&&(c.right=r+1),(null===c.bottom||c.bottom<n)&&(c.bottom=n));return null!==c.top&&(i=c.right-c.left,o=c.bottom-c.top+1,l=s.getImageData(c.left,c.top,i,o)),{height:o,width:i,data:l}}(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}var r=this._texture,n=this._style,i=n.trim?0:n.padding,o=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-2*i,r.orig.height=r._frame.height-2*i,this._onTextureUpdate(),o.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1},t.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,t)},t.prototype.updateTransform=function(){this.updateText(!0),e.prototype.updateTransform.call(this)},t.prototype.getBounds=function(t,r){return this.updateText(!0),-1===this._textureID&&(t=!1),e.prototype.getBounds.call(this,t,r)},t.prototype.getLocalBounds=function(t){return this.updateText(!0),e.prototype.getLocalBounds.call(this,t)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(e,t,r){var n,i=e.fill;if(!Array.isArray(i))return i;if(1===i.length)return i[0];var o=e.dropShadow?e.dropShadowDistance:0,s=e.padding||0,a=this.canvas.width/this._resolution-o-2*s,h=this.canvas.height/this._resolution-o-2*s,c=i.slice(),l=e.fillGradientStops.slice();if(!l.length)for(var u=c.length+1,d=1;d<u;++d)l.push(d/u);if(c.unshift(i[0]),l.unshift(0),c.push(i[i.length-1]),l.push(1),e.fillGradientType===Ed.LINEAR_VERTICAL){n=this.context.createLinearGradient(a/2,s,a/2,h+s);var f=r.fontProperties.fontSize+e.strokeThickness;for(d=0;d<t.length;d++){var p=r.lineHeight*(d-1)+f,_=r.lineHeight*d,E=_;d>0&&p>_&&(E=(_+p)/2);var g=_+f,b=r.lineHeight*(d+1),m=g;d+1<t.length&&b<g&&(m=(g+b)/2);for(var T=(m-E)/h,A=0;A<c.length;A++){var x=0;x="number"==typeof l[A]?l[A]:A/c.length;var S=Math.min(1,Math.max(0,E/h+x*T));S=Number(S.toFixed(5)),n.addColorStop(S,c[A])}}}else{n=this.context.createLinearGradient(s,h/2,a+s,h/2);var y=c.length+1,I=1;for(d=0;d<c.length;d++){var O=void 0;O="number"==typeof l[d]?l[d]:I/y,n.addColorStop(O,c[d]),I++}}return n},t.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},Cd,t),e.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=hs(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=hs(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){e=e||{},this._style=e instanceof Sd?e:new Sd(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),t.nextLineHeightBehavior=!1,t.experimentalLetterSpacing=!1,t}(md);ko.UPLOADS_PER_FRAME=4;var Nd=function(e,t){return Nd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Nd(e,t)};var Pd=function(){function e(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();function wd(e,t){var r=!1;if(e&&e._textures&&e._textures.length)for(var n=0;n<e._textures.length;n++)if(e._textures[n]instanceof dh){var i=e._textures[n].baseTexture;-1===t.indexOf(i)&&(t.push(i),r=!0)}return r}function Md(e,t){if(e.baseTexture instanceof Za){var r=e.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function Dd(e,t){if(e._texture&&e._texture instanceof dh){var r=e._texture.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function Ud(e,t){return t instanceof Ld&&(t.updateText(!0),!0)}function Bd(e,t){if(t instanceof Sd){var r=t.toFontString();return vd.measureFont(r),!0}return!1}function Gd(e,t){if(e instanceof Ld){-1===t.indexOf(e.style)&&t.push(e.style),-1===t.indexOf(e)&&t.push(e);var r=e._texture.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function Hd(e,t){return e instanceof Sd&&(-1===t.indexOf(e)&&t.push(e),!0)}var Fd=function(){function e(e){var t=this;this.limiter=new Pd(ko.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){t.queue&&t.prepareItems()},this.registerFindHook(Gd),this.registerFindHook(Hd),this.registerFindHook(wd),this.registerFindHook(Md),this.registerFindHook(Dd),this.registerUploadHook(Ud),this.registerUploadHook(Bd)}return e.prototype.upload=function(e,t){var r=this;return"function"==typeof e&&(t=e,e=null),t&&ds(0,"BasePrepare.upload callback is deprecated, use the return Promise instead."),new Promise((function(n){e&&r.add(e);var i=function(){null==t||t(),n()};r.queue.length?(r.completes.push(i),r.ticking||(r.ticking=!0,Ps.system.addOnce(r.tick,r,vs.UTILITY))):i()}))},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)Ps.system.addOnce(this.tick,this,vs.UTILITY);else{this.ticking=!1;var i=this.completes.slice(0);this.completes.length=0;for(r=0,n=i.length;r<n;r++)i[r]()}},e.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},e.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},e.prototype.add=function(e){for(var t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof Is)for(t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this},e.prototype.destroy=function(){this.ticking&&Ps.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}();function kd(e,t){return t instanceof Za&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function Yd(e,t){if(!(t instanceof pd))return!1;var r=t.geometry;t.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var o=n[i].style.texture;o&&kd(e,o.baseTexture)}return r.batchable||e.geometry.bind(r,t._resolveDirectShader(e)),!0}function Wd(e,t){return e instanceof pd&&(t.push(e),!0)}var Xd=function(e){function t(t){var r=e.call(this,t)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(Wd),r.registerUploadHook(kd),r.registerUploadHook(Yd),r}return function(e,t){function r(){this.constructor=e}Nd(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.extension={name:"prepare",type:Os.RendererPlugin},t}(Fd),Vd=(function(){function e(e){this.maxMilliseconds=e,this.frameStart=0}e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds}}(),function(){function e(e,t,r){void 0===r&&(r=null),this.linkedSheets=[],this._texture=e instanceof dh?e:null,this.baseTexture=e instanceof Za?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=t;var n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(e){void 0===e&&(e=null);var t=this.data.meta.scale,r=bs(e,null);return null===r&&(r=void 0!==t?parseFloat(t):1),1!==r&&this.baseTexture.setResolution(r),r},e.prototype.parse=function(t){var r=this;return t&&ds(0,"Spritesheet.parse callback is deprecated, use the return Promise instead."),new Promise((function(n){r._callback=function(e){null==t||t(e),n(e)},r._batchIndex=0,r._frameKeys.length<=e.BATCH_SIZE?(r._processFrames(0),r._processAnimations(),r._parseComplete()):r._nextBatch()}))},e.prototype._processFrames=function(t){for(var r=t,n=e.BATCH_SIZE;r-t<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],o=this._frames[i],s=o.frame;if(s){var a=null,h=null,c=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,l=new Fi(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);a=o.rotated?new Fi(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new Fi(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(h=new Fi(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[i]=new dh(this.baseTexture,a,l,h,o.rotated?2:0,o.anchor),dh.addToCache(this.textures[i],i)}r++}},e.prototype._processAnimations=function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];for(var r=0;r<e[t].length;r++){var n=e[t][r];this.animations[t].push(this.textures[n])}}},e.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout((function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())}),0)},e.prototype.destroy=function(e){var t;for(var r in void 0===e&&(e=!1),this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(null===(t=this._texture)||void 0===t||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]},e.BATCH_SIZE=1e3,e}()),Kd=function(){function e(){}return e.use=function(t,r){var n,i,o=this,s=t.name+"_image";if(t.data&&t.type===vl.TYPE.JSON&&t.data.frames&&!o.resources[s]){var a=null===(i=null===(n=t.data)||void 0===n?void 0:n.meta)||void 0===i?void 0:i.related_multi_packs;if(Array.isArray(a))for(var h=function(e){if("string"!=typeof e)return"continue";var r=e.replace(".json",""),n=Vo.resolve(t.url.replace(o.baseUrl,""),e);if(o.resources[r]||Object.values(o.resources).some((function(e){return Vo.format(Vo.parse(e.url))===n})))return"continue";var i={crossOrigin:t.crossOrigin,loadType:vl.LOAD_TYPE.XHR,xhrType:vl.XHR_RESPONSE_TYPE.JSON,parentResource:t,metadata:t.metadata};o.add(r,n,i)},c=0,l=a;c<l.length;c++){h(l[c])}var u={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},d=e.getResourcePath(t,o.baseUrl);o.add(s,d,u,(function(e){if(e.error)r(e.error);else{var n=new Vd(e.texture,t.data,t.url);n.parse().then((function(){t.spritesheet=n,t.textures=n.textures,r()}))}}))}else r()},e.getResourcePath=function(e,t){return e.isDataUrl?e.data.meta.image:Vo.resolve(e.url.replace(t,""),e.data.meta.image)},e.extension=Os.Loader,e}(),jd=function(e,t){return jd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},jd(e,t)};function zd(e,t){function r(){this.constructor=e}jd(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var Zd=new Gi,$d=(function(e){function t(t,r,n){void 0===r&&(r=100),void 0===n&&(n=100);var i=e.call(this,t)||this;return i.tileTransform=new xo,i._width=r,i._height=n,i.uvMatrix=i.texture.uvMatrix||new pc(t),i.pluginName="tilingSprite",i.uvRespectAnchor=!1,i}zd(t,e),Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(e){var t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,r,n)},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Fi),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Zd);var t=this._width,r=this._height,n=-t*this.anchor._x;if(Zd.x>=n&&Zd.x<n+t){var i=-r*this.anchor._y;if(Zd.y>=i&&Zd.y<i+r)return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},t.from=function(e,r){return new t(e instanceof dh?e:dh.from(e,r),r.width,r.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0})}(md),"#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"),qd=new Ki,Qd=function(e){function t(t){var r=e.call(this,t)||this;return t.runners.contextChange.add(r),r.quad=new yh,r.state=uc.for2d(),r}return zd(t,e),t.prototype.contextChange=function(){var e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=lc.from($d,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",t),this.shader=e.context.webGLVersion>1?lc.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",t):lc.from($d,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",t)},t.prototype.render=function(e){var t=this.renderer,r=this.quad,n=r.vertices;n[0]=n[6]=e._width*-e.anchor.x,n[1]=n[3]=e._height*-e.anchor.y,n[2]=n[4]=e._width*(1-e.anchor.x),n[5]=n[7]=e._height*(1-e.anchor.y);var i=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;(n=r.uvs)[0]=n[6]=-i,n[1]=n[3]=-o,n[2]=n[4]=1-i,n[5]=n[7]=1-o,r.invalidate();var s=e._texture,a=s.baseTexture,h=a.alphaMode>0,c=e.tileTransform.localTransform,l=e.uvMatrix,u=a.isPowerOfTwo&&s.frame.width===a.width&&s.frame.height===a.height;u&&(a._glTextures[t.CONTEXT_UID]?u=a.wrapMode!==lo.CLAMP:a.wrapMode===lo.CLAMP&&(a.wrapMode=lo.REPEAT));var d=u?this.simpleShader:this.shader,f=s.width,p=s.height,_=e._width,E=e._height;qd.set(c.a*f/_,c.b*f/E,c.c*p/_,c.d*p/E,c.tx/_,c.ty/E),qd.invert(),u?qd.prepend(l.mapCoord):(d.uniforms.uMapCoord=l.mapCoord.toArray(!0),d.uniforms.uClampFrame=l.uClampFrame,d.uniforms.uClampOffset=l.uClampOffset),d.uniforms.uTransform=qd.toArray(!0),d.uniforms.uColor=rs(e.tint,e.worldAlpha,d.uniforms.uColor,h),d.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),d.uniforms.uSampler=s,t.shader.bind(d),t.geometry.bind(r),this.state.blendMode=es(e.blendMode,h),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t.extension={name:"tilingSprite",type:Os.RendererPlugin},t}(Nh),Jd=function(e,t){return Jd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Jd(e,t)};function ef(e,t){function r(){this.constructor=e}Jd(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var tf=function(){function e(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return e.prototype.update=function(e){if(e||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var t=this.uvBuffer.data;this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}},e}(),rf=new Gi,nf=new Wi,of=function(e){function t(t,r,n,i){void 0===i&&(i=io.TRIANGLES);var o=e.call(this)||this;return o.geometry=t,o.shader=r,o.state=n||uc.for2d(),o.drawMode=i,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=ko.ROUND_PIXELS,o.batchUvs=null,o}return ef(t,e),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},set:function(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){var r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===io.TRIANGLES&&r.length<2*t.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},t.prototype._renderDefault=function(e){var t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(e){var t=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;var n=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[n]),e.plugins[n].render(this)},t.prototype.calculateVertices=function(){var e=this.geometry.buffers[0],t=e.data,r=e._updateID;if(r!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));for(var n=this.transform.worldTransform,i=n.a,o=n.b,s=n.c,a=n.d,h=n.tx,c=n.ty,l=this.vertexData,u=0;u<l.length/2;u++){var d=t[2*u],f=t[2*u+1];l[2*u]=i*d+s*f+h,l[2*u+1]=o*d+a*f+c}if(this._roundPixels){var p=ko.RESOLUTION;for(u=0;u<l.length;++u)l[u]=Math.round((l[u]*p|0)/p)}this.vertexDirty=r}},t.prototype.calculateUvs=function(){var e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new tf(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,rf);for(var t=this.geometry.getBuffer("aVertexPosition").data,r=nf.points,n=this.geometry.getIndex().data,i=n.length,o=4===this.drawMode?3:1,s=0;s+2<i;s+=o){var a=2*n[s],h=2*n[s+1],c=2*n[s+2];if(r[0]=t[a],r[1]=t[a+1],r[2]=t[h],r[3]=t[h+1],r[4]=t[c],r[5]=t[c+1],nf.contains(rf.x,rf.y))return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(Is),sf=function(e){function t(t,r){var n=this,i={uSampler:t,alpha:1,uTextureMatrix:Ki.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(i,r.uniforms),(n=e.call(this,r.program||cc.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),i)||this)._colorDirty=!1,n.uvMatrix=new pc(t),n.batchable=void 0===r.program,n.pluginName=r.pluginName,n.tint=r.tint,n.alpha=r.alpha,n}return ef(t,e),Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var e=this.texture.baseTexture;rs(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(lc),af=function(e){function t(t,r,n){var i=e.call(this)||this,o=new gh(t),s=new gh(r,!0),a=new gh(n,!0,!0);return i.addAttribute("aVertexPosition",o,2,!1,ao.FLOAT).addAttribute("aTextureCoord",s,2,!1,ao.FLOAT).addIndex(a),i._updateId=-1,i}return ef(t,e),Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(xh),hf=function(e,t){return hf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},hf(e,t)};var cf=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]},lf=function(){function e(){}return e.test=function(e){return"string"==typeof e&&0===e.indexOf("info face=")},e.parse=function(e){var t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var n in t){var i=t[n].match(/^[a-z]+/gm)[0],o=t[n].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var a in o){var h=o[a].split("="),c=h[0],l=h[1].replace(/"/gm,""),u=parseFloat(l),d=isNaN(u)?l:u;s[c]=d}r[i].push(s)}var f=new cf;return r.info.forEach((function(e){return f.info.push({face:e.face,size:parseInt(e.size,10)})})),r.common.forEach((function(e){return f.common.push({lineHeight:parseInt(e.lineHeight,10)})})),r.page.forEach((function(e){return f.page.push({id:parseInt(e.id,10),file:e.file})})),r.char.forEach((function(e){return f.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})})),r.kerning.forEach((function(e){return f.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})})),r.distanceField.forEach((function(e){return f.distanceField.push({distanceRange:parseInt(e.distanceRange,10),fieldType:e.fieldType})})),f},e}(),uf=function(){function e(){}return e.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")},e.parse=function(e){for(var t=new cf,r=e.getElementsByTagName("info"),n=e.getElementsByTagName("common"),i=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),s=e.getElementsByTagName("kerning"),a=e.getElementsByTagName("distanceField"),h=0;h<r.length;h++)t.info.push({face:r[h].getAttribute("face"),size:parseInt(r[h].getAttribute("size"),10)});for(h=0;h<n.length;h++)t.common.push({lineHeight:parseInt(n[h].getAttribute("lineHeight"),10)});for(h=0;h<i.length;h++)t.page.push({id:parseInt(i[h].getAttribute("id"),10)||0,file:i[h].getAttribute("file")});for(h=0;h<o.length;h++){var c=o[h];t.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)})}for(h=0;h<s.length;h++)t.kerning.push({first:parseInt(s[h].getAttribute("first"),10),second:parseInt(s[h].getAttribute("second"),10),amount:parseInt(s[h].getAttribute("amount"),10)});for(h=0;h<a.length;h++)t.distanceField.push({fieldType:a[h].getAttribute("fieldType"),distanceRange:parseInt(a[h].getAttribute("distanceRange"),10)});return t},e}(),df=function(){function e(){}return e.test=function(e){if("string"==typeof e&&e.indexOf("<font>")>-1){var t=(new globalThis.DOMParser).parseFromString(e,"text/xml");return uf.test(t)}return!1},e.parse=function(e){var t=(new globalThis.DOMParser).parseFromString(e,"text/xml");return uf.parse(t)},e}(),ff=[lf,uf,df];function pf(e){for(var t=0;t<ff.length;t++)if(ff[t].test(e))return ff[t];return null}function _f(e,t,r,n,i,o,s){var a=r.text,h=r.fontProperties;t.translate(n,i),t.scale(o,o);var c=s.strokeThickness/2,l=-s.strokeThickness/2;if(t.font=s.toFontString(),t.lineWidth=s.strokeThickness,t.textBaseline=s.textBaseline,t.lineJoin=s.lineJoin,t.miterLimit=s.miterLimit,t.fillStyle=function(e,t,r,n,i,o){var s,a=r.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];var h=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,l=e.width/n-h-2*c,u=e.height/n-h-2*c,d=a.slice(),f=r.fillGradientStops.slice();if(!f.length)for(var p=d.length+1,_=1;_<p;++_)f.push(_/p);if(d.unshift(a[0]),f.unshift(0),d.push(a[a.length-1]),f.push(1),r.fillGradientType===Ed.LINEAR_VERTICAL){s=t.createLinearGradient(l/2,c,l/2,u+c);var E=0,g=(o.fontProperties.fontSize+r.strokeThickness)/u;for(_=0;_<i.length;_++)for(var b=o.lineHeight*_,m=0;m<d.length;m++){var T=b/u+("number"==typeof f[m]?f[m]:m/d.length)*g,A=Math.max(E,T);A=Math.min(A,1),s.addColorStop(A,d[m]),E=A}}else{s=t.createLinearGradient(c,u/2,l+c,u/2);var x=d.length+1,S=1;for(_=0;_<d.length;_++){var y=void 0;y="number"==typeof f[_]?f[_]:S/x,s.addColorStop(y,d[_]),S++}}return s}(e,t,s,o,[a],r),t.strokeStyle=s.stroke,s.dropShadow){var u=s.dropShadowColor,d=$o("number"==typeof u?u:Qo(u)),f=s.dropShadowBlur*o,p=s.dropShadowDistance*o;t.shadowColor="rgba("+255*d[0]+","+255*d[1]+","+255*d[2]+","+s.dropShadowAlpha+")",t.shadowBlur=f,t.shadowOffsetX=Math.cos(s.dropShadowAngle)*p,t.shadowOffsetY=Math.sin(s.dropShadowAngle)*p}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;s.stroke&&s.strokeThickness&&t.strokeText(a,c,l+r.lineHeight-h.descent),s.fill&&t.fillText(a,c,l+r.lineHeight-h.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function Ef(e){return Array.from?Array.from(e):e.split("")}function gf(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}var bf=function(){function e(e,t,r){var n,i,o=e.info[0],s=e.common[0],a=e.page[0],h=e.distanceField[0],c=bs(a.file),l={};this._ownsTextures=r,this.font=o.face,this.size=o.size,this.lineHeight=s.lineHeight/c,this.chars={},this.pageTextures=l;for(var u=0;u<e.page.length;u++){var d=e.page[u],f=d.id,p=d.file;l[f]=t instanceof Array?t[u]:t[p],(null==h?void 0:h.fieldType)&&"none"!==h.fieldType&&(l[f].baseTexture.alphaMode=fo.NO_PREMULTIPLIED_ALPHA,l[f].baseTexture.mipmap=uo.OFF)}for(u=0;u<e.char.length;u++){var _=e.char[u],E=(f=_.id,_.page),g=e.char[u],b=g.x,m=g.y,T=g.width,A=g.height,x=g.xoffset,S=g.yoffset,y=g.xadvance;m/=c,T/=c,A/=c,x/=c,S/=c,y/=c;var I=new Fi((b/=c)+l[E].frame.x/c,m+l[E].frame.y/c,T,A);this.chars[f]={xOffset:x,yOffset:S,xAdvance:y,kerning:{},texture:new dh(l[E].baseTexture,I),page:E}}for(u=0;u<e.kerning.length;u++){var O=e.kerning[u],R=O.first,v=O.second,C=O.amount;R/=c,v/=c,C/=c,this.chars[v]&&(this.chars[v].kerning[R]=C)}this.distanceFieldRange=null==h?void 0:h.distanceRange,this.distanceFieldType=null!==(i=null===(n=null==h?void 0:h.fieldType)||void 0===n?void 0:n.toLowerCase())&&void 0!==i?i:"none"}return e.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},e.install=function(t,r,n){var i;if(t instanceof cf)i=t;else{var o=pf(t);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(t)}r instanceof dh&&(r=[r]);var s=new e(i,r,n);return e.available[s.font]=s,s},e.uninstall=function(t){var r=e.available[t];if(!r)throw new Error("No font found named '"+t+"'");r.destroy(),delete e.available[t]},e.from=function(t,r,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},e.defaultOptions,n),o=i.chars,s=i.padding,a=i.resolution,h=i.textureWidth,c=i.textureHeight,l=function(e){"string"==typeof e&&(e=[e]);for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),s=i[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(var a=o,h=s;a<=h;a++)t.push(String.fromCharCode(a))}else t.push.apply(t,Ef(i))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(o),u=r instanceof Sd?r:new Sd(r),d=h,f=new cf;f.info[0]={face:u.fontFamily,size:u.fontSize},f.common[0]={lineHeight:u.fontSize};for(var p,_,E,g=0,b=0,m=0,T=[],A=0;A<l.length;A++){p||((p=ko.ADAPTER.createCanvas()).width=h,p.height=c,_=p.getContext("2d"),E=new Za(p,{resolution:a}),T.push(new dh(E)),f.page.push({id:T.length-1,file:""}));var x=l[A],S=vd.measureText(x,u,!1,p),y=S.width,I=Math.ceil(S.height),O=Math.ceil(("italic"===u.fontStyle?2:1)*y);if(b>=c-I*a){if(0===b)throw new Error("[BitmapFont] textureHeight "+c+"px is too small (fontFamily: '"+u.fontFamily+"', fontSize: "+u.fontSize+"px, char: '"+x+"')");--A,p=null,_=null,E=null,b=0,g=0,m=0}else if(m=Math.max(I+S.fontProperties.descent,m),O*a+g>=d){if(0===g)throw new Error("[BitmapFont] textureWidth "+h+"px is too small (fontFamily: '"+u.fontFamily+"', fontSize: "+u.fontSize+"px, char: '"+x+"')");--A,b+=m*a,b=Math.ceil(b),g=0,m=0}else{_f(p,_,S,g,b,a,u);var R=gf(S.text);f.char.push({id:R,page:T.length-1,x:g/a,y:b/a,width:O,height:I,xoffset:0,yoffset:0,xadvance:Math.ceil(y-(u.dropShadow?u.dropShadowDistance:0)-(u.stroke?u.strokeThickness:0))}),g+=(O+2*s)*a,g=Math.ceil(g)}}if(!(null==n?void 0:n.skipKerning)){A=0;for(var v=l.length;A<v;A++)for(var C=l[A],L=0;L<v;L++){var N=l[L],P=_.measureText(C).width,w=_.measureText(N).width,M=_.measureText(C+N).width-(P+w);M&&f.kerning.push({first:gf(C),second:gf(N),amount:M})}}var D=new e(f,T,!0);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=D,D},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),mf=[],Tf=[],Af=[],xf=(function(e){function t(r,n){void 0===n&&(n={});var i=e.call(this)||this;i._tint=16777215;var o=Object.assign({},t.styleDefaults,n),s=o.align,a=o.tint,h=o.maxWidth,c=o.letterSpacing,l=o.fontName,u=o.fontSize;if(!bf.available[l])throw new Error('Missing BitmapFont "'+l+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=s,i._tint=a,i._font=void 0,i._fontName=l,i._fontSize=u,i.text=r,i._maxWidth=h,i._maxLineHeight=0,i._letterSpacing=c,i._anchor=new Vi((function(){i.dirty=!0}),i,0,0),i._roundPixels=ko.ROUND_PIXELS,i.dirty=!0,i._resolution=ko.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}(function(e,t){function r(){this.constructor=e}hf(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})(t,e),t.prototype.updateText=function(){for(var e,t=bf.available[this._fontName],r=this.fontSize,n=r/t.size,i=new Gi,o=[],s=[],a=[],h=Ef(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),c=this._maxWidth*t.size/r,l="none"===t.distanceFieldType?mf:Tf,u=null,d=0,f=0,p=0,_=-1,E=0,g=0,b=0,m=0,T=0;T<h.length;T++){var A=gf(k=h[T]);if(/(?:\s)/.test(k)&&(_=T,E=d,m++),"\r"!==k&&"\n"!==k){var x=t.chars[A];if(x){u&&x.kerning[u]&&(i.x+=x.kerning[u]);var S=Af.pop()||{texture:dh.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Gi};S.texture=x.texture,S.line=p,S.charCode=A,S.position.x=i.x+x.xOffset+this._letterSpacing/2,S.position.y=i.y+x.yOffset,S.prevSpaces=m,o.push(S),d=S.position.x+Math.max(x.xAdvance-x.xOffset,x.texture.orig.width),i.x+=x.xAdvance+this._letterSpacing,b=Math.max(b,x.yOffset+x.texture.height),u=A,-1!==_&&c>0&&i.x>c&&(as(o,1+_-++g,1+T-_),T=_,_=-1,s.push(E),a.push(o.length>0?o[o.length-1].prevSpaces:0),f=Math.max(f,E),p++,i.x=0,i.y+=t.lineHeight,u=null,m=0)}}else s.push(d),a.push(-1),f=Math.max(f,d),++p,++g,i.x=0,i.y+=t.lineHeight,u=null,m=0}var y=h[h.length-1];"\r"!==y&&"\n"!==y&&(/(?:\s)/.test(y)&&(d=E),s.push(d),f=Math.max(f,d),a.push(-1));var I=[];for(T=0;T<=p;T++){var O=0;"right"===this._align?O=f-s[T]:"center"===this._align?O=(f-s[T])/2:"justify"===this._align&&(O=a[T]<0?0:(f-s[T])/a[T]),I.push(O)}var R=o.length,v={},C=[],L=this._activePagesMeshData;l.push.apply(l,L);for(T=0;T<R;T++){var N=(W=o[T].texture).baseTexture.uid;if(!v[N]){if(!($=l.pop())){var P=new af,w=void 0,M=void 0;"none"===t.distanceFieldType?(w=new sf(dh.EMPTY),M=no.NORMAL):(w=new sf(dh.EMPTY,{program:cc.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n"),uniforms:{uFWidth:0}}),M=no.NORMAL_NPM);var D=new of(P,w);D.blendMode=M,$={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:D,vertices:null,uvs:null,indices:null}}$.index=0,$.indexCount=0,$.vertexCount=0,$.uvsCount=0,$.total=0;var U=this._textureCache;U[N]=U[N]||new dh(W.baseTexture),$.mesh.texture=U[N],$.mesh.tint=this._tint,C.push($),v[N]=$}v[N].total++}for(T=0;T<L.length;T++)-1===C.indexOf(L[T])&&this.removeChild(L[T].mesh);for(T=0;T<C.length;T++)C[T].mesh.parent!==this&&this.addChild(C[T].mesh);for(var T in this._activePagesMeshData=C,v){var B=($=v[T]).total;if(!((null===(e=$.indices)||void 0===e?void 0:e.length)>6*B)||$.vertices.length<2*of.BATCHABLE_SIZE)$.vertices=new Float32Array(8*B),$.uvs=new Float32Array(8*B),$.indices=new Uint16Array(6*B);else for(var G=$.total,H=$.vertices,F=4*G*2;F<H.length;F++)H[F]=0;$.mesh.size=6*B}for(T=0;T<R;T++){var k,Y=(k=o[T]).position.x+I[k.line]*("justify"===this._align?k.prevSpaces:1);this._roundPixels&&(Y=Math.round(Y));var W,X=Y*n,V=k.position.y*n,K=v[(W=k.texture).baseTexture.uid],j=W.frame,z=W._uvs,Z=K.index++;K.indices[6*Z+0]=0+4*Z,K.indices[6*Z+1]=1+4*Z,K.indices[6*Z+2]=2+4*Z,K.indices[6*Z+3]=0+4*Z,K.indices[6*Z+4]=2+4*Z,K.indices[6*Z+5]=3+4*Z,K.vertices[8*Z+0]=X,K.vertices[8*Z+1]=V,K.vertices[8*Z+2]=X+j.width*n,K.vertices[8*Z+3]=V,K.vertices[8*Z+4]=X+j.width*n,K.vertices[8*Z+5]=V+j.height*n,K.vertices[8*Z+6]=X,K.vertices[8*Z+7]=V+j.height*n,K.uvs[8*Z+0]=z.x0,K.uvs[8*Z+1]=z.y0,K.uvs[8*Z+2]=z.x1,K.uvs[8*Z+3]=z.y1,K.uvs[8*Z+4]=z.x2,K.uvs[8*Z+5]=z.y2,K.uvs[8*Z+6]=z.x3,K.uvs[8*Z+7]=z.y3}for(var T in this._textWidth=f*n,this._textHeight=(i.y+t.lineHeight)*n,v){var $=v[T];if(0!==this.anchor.x||0!==this.anchor.y)for(var q=0,Q=this._textWidth*this.anchor.x,J=this._textHeight*this.anchor.y,ee=0;ee<$.total;ee++)$.vertices[q++]-=Q,$.vertices[q++]-=J,$.vertices[q++]-=Q,$.vertices[q++]-=J,$.vertices[q++]-=Q,$.vertices[q++]-=J,$.vertices[q++]-=Q,$.vertices[q++]-=J;this._maxLineHeight=b*n;var te=$.mesh.geometry.getBuffer("aVertexPosition"),re=$.mesh.geometry.getBuffer("aTextureCoord"),ne=$.mesh.geometry.getIndex();te.data=$.vertices,re.data=$.uvs,ne.data=$.indices,te.update(),re.update(),ne.update()}for(T=0;T<o.length;T++)Af.push(o[T]);this._font=t,this.dirty=!1},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);var r=bf.available[this._fontName],n=r.distanceFieldRange,i=r.distanceFieldType,o=r.size;if("none"!==i)for(var s=this.worldTransform,a=s.a,h=s.b,c=s.c,l=s.d,u=Math.sqrt(a*a+h*h),d=Math.sqrt(c*c+l*l),f=(Math.abs(u)+Math.abs(d))/2,p=this.fontSize/o,_=0,E=this._activePagesMeshData;_<E.length;_++){E[_].mesh.shader.uniforms.uFWidth=f*n*p*this._resolution}e.prototype._render.call(this,t)},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){var e=bf.available[this._fontName];if(!e)throw new Error('Missing BitmapFont "'+this._fontName+'"');this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!bf.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){var e;return null!==(e=this._fontSize)&&void 0!==e?e:bf.available[this._fontName].size},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),t.prototype.destroy=function(t){var r=this._textureCache,n="none"===bf.available[this._fontName].distanceFieldType?mf:Tf;n.push.apply(n,this._activePagesMeshData);for(var i=0,o=this._activePagesMeshData;i<o.length;i++){var s=o[i];this.removeChild(s.mesh)}for(var a in this._activePagesMeshData=[],n.filter((function(e){return r[e.mesh.texture.baseTexture.uid]})).forEach((function(e){e.mesh.texture=dh.EMPTY})),r){r[a].destroy(),delete r[a]}this._font=null,this._textureCache=null,e.prototype.destroy.call(this,t)},t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0}}(Is),function(){function e(){}return e.add=function(){vl.setExtensionXhrType("fnt",vl.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,r){var n=pf(t.data);if(n)for(var i=e.getBaseUrl(this,t),o=n.parse(t.data),s={},a=function(e){s[e.metadata.pageFile]=e.texture,Object.keys(s).length===o.page.length&&(t.bitmapFont=bf.install(o,s,!0),r())},h=0;h<o.page.length;++h){var c=o.page[h].file,l=i+c,u=!1;for(var d in this.resources){var f=this.resources[d];if(f.url===l){f.metadata.pageFile=c,f.texture?a(f):f.onAfterMiddleware.add(a),u=!0;break}}if(!u){var p={crossOrigin:t.crossOrigin,loadType:vl.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:c},t.metadata.imageMetadata),parentResource:t};this.add(l,p,a)}}else r()},e.getBaseUrl=function(t,r){var n=r.isDataUrl?"":e.dirname(r.url);return r.isDataUrl&&("."===n&&(n=""),t.baseUrl&&n&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(n+="/")),(n=n.replace(t.baseUrl,""))&&"/"!==n.charAt(n.length-1)&&(n+="/"),n},e.dirname=function(e){var t=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return t===e?".":""===t?"/":t},e.extension=Os.Loader,e}()),Sf=function(e,t){return Sf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Sf(e,t)};!function(e){function t(t){void 0===t&&(t=1);var r=e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return r.alpha=t,r}(function(e,t){function r(){this.constructor=e}Sf(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})(t,e),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0})}(dc);var yf=function(e,t){return yf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},yf(e,t)};function If(e,t){function r(){this.constructor=e}yf(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var Of={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Rf=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");var vf=function(e){function t(t,r,n,i,o){void 0===r&&(r=8),void 0===n&&(n=4),void 0===i&&(i=ko.FILTER_RESOLUTION),void 0===o&&(o=5);var s=this,a=function(e,t){var r,n=Math.ceil(e/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";r=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<e;s++){var a=r.replace("%index%",s.toString());o+=a=a.replace("%sampleIndex%",s-(n-1)+".0"),o+="\n"}return(i=i.replace("%blur%",o)).replace("%size%",e.toString())}(o,t),h=function(e){for(var t,r=Of[e],n=r.length,i=Rf,o="",s=0;s<e;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s.toString());t=s,s>=n&&(t=e-s-1),o+=a=a.replace("%value%",r[t].toString()),o+="\n"}return(i=i.replace("%blur%",o)).replace("%size%",e.toString())}(o);return(s=e.call(this,a,h)||this).horizontal=t,s.resolution=i,s._quality=0,s.quality=n,s.blur=r,s}return If(t,e),t.prototype.apply=function(e,t,r,n){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/t.width):this.uniforms.strength=1/r.height*(r.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,r,n);else{var i=e.getFilterTexture(),o=e.renderer,s=t,a=i;this.state.blend=!1,e.applyFilter(this,s,a,po.CLEAR);for(var h=1;h<this.passes-1;h++){e.bindAndClear(s,po.BLIT),this.uniforms.uSampler=a;var c=a;a=s,s=c,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,a,r,n),e.returnFilterTexture(i)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),t}(dc),Cf=(function(e){function t(t,r,n,i){void 0===t&&(t=8),void 0===r&&(r=4),void 0===n&&(n=ko.FILTER_RESOLUTION),void 0===i&&(i=5);var o=e.call(this)||this;return o.blurXFilter=new vf(!0,t,r,n,i),o.blurYFilter=new vf(!1,t,r,n,i),o.resolution=n,o.quality=r,o.blur=t,o.repeatEdgePixels=!1,o}If(t,e),t.prototype.apply=function(e,t,r,n){var i=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(i&&o){var s=e.getFilterTexture();this.blurXFilter.apply(e,t,s,po.CLEAR),this.blurYFilter.apply(e,s,r,n),e.returnFilterTexture(s)}else o?this.blurYFilter.apply(e,t,r,n):this.blurXFilter.apply(e,t,r,n)},t.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0})}(dc),function(e,t){return Cf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Cf(e,t)});var Lf=function(e){function t(){var t=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(t=e.call(this,Vc,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",r)||this).alpha=1,t}return function(e,t){function r(){this.constructor=e}Cf(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype._loadMatrix=function(e,t){void 0===t&&(t=!1);var r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r},t.prototype._multiply=function(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e},t.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},t.prototype.brightness=function(e,t){var r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.tint=function(e,t){var r=[(e>>16&255)/255,0,0,0,0,0,(e>>8&255)/255,0,0,0,0,0,(255&e)/255,0,0,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.greyscale=function(e,t){var r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var r=Math.cos(e),n=Math.sin(e),i=1/3,o=(0,Math.sqrt)(i),s=[r+(1-r)*i,i*(1-r)-o*n,i*(1-r)+o*n,0,0,i*(1-r)+o*n,r+i*(1-r),i*(1-r)-o*n,0,0,i*(1-r)-o*n,i*(1-r)+o*n,r+i*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,t)},t.prototype.contrast=function(e,t){var r=(e||0)+1,n=-.5*(r-1),i=[r,0,0,0,n,0,r,0,0,n,0,0,r,0,n,0,0,0,1,0];this._loadMatrix(i,t)},t.prototype.saturate=function(e,t){void 0===e&&(e=0);var r=2*e/3+1,n=-.5*(r-1),i=[r,n,n,0,0,n,r,n,0,0,n,n,r,0,0,0,0,0,1,0];this._loadMatrix(i,t)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,t,r,n,i){var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,h=((n=n||3375104)>>16&255)/255,c=(n>>8&255)/255,l=(255&n)/255,u=[.3,.59,.11,0,0,o,s,a,e=e||.2,0,h,c,l,t=t||.15,0,o-h,s-c,a-l,0,0];this._loadMatrix(u,i)},t.prototype.night=function(e,t){var r=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.predator=function(e,t){var r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(dc);Lf.prototype.grayscale=Lf.prototype.greyscale;var Nf=function(e,t){return Nf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Nf(e,t)};!function(e){function t(t,r){var n=this,i=new Ki;return t.renderable=!1,(n=e.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:t._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=t,n.maskMatrix=i,null==r&&(r=20),n.scale=new Gi(r,r),n}(function(e,t){function r(){this.constructor=e}Nf(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})(t,e),t.prototype.apply=function(e,t,r,n){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var i=this.maskSprite.worldTransform,o=Math.sqrt(i.a*i.a+i.b*i.b),s=Math.sqrt(i.c*i.c+i.d*i.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=i.a/o,this.uniforms.rotation[1]=i.b/o,this.uniforms.rotation[2]=i.c/s,this.uniforms.rotation[3]=i.d/s),e.applyFilter(this,t,r,n)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0})}(dc);var Pf=function(e,t){return Pf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Pf(e,t)};!function(e){function t(){return e.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}(function(e,t){function r(){this.constructor=e}Pf(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})(t,e)}(dc);var wf=function(e,t){return wf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},wf(e,t)};!function(e){function t(t,r){void 0===t&&(t=.5),void 0===r&&(r=Math.random());var n=e.call(this,Vc,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return n.noise=t,n.seed=r,n}(function(e,t){function r(){this.constructor=e}wf(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})(t,e),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0})}(dc);var Mf=new Ki;xs.prototype._cacheAsBitmap=!1,xs.prototype._cacheData=null,xs.prototype._cacheAsBitmapResolution=null,xs.prototype._cacheAsBitmapMultisample=mo.NONE;var Df=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(xs.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){var t;this._cacheAsBitmap!==e&&(this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new Df),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),xs.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},xs.prototype._initCachedDisplayObject=function(e){var t;if(!this._cacheData||!this._cacheData.sprite){var r=this.alpha;this.alpha=1,e.batch.flush();var n=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var i=this.filters[0].padding;n.pad(i)}n.ceil(ko.RESOLUTION);var o=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),a=e.renderTexture.destinationFrame.clone(),h=e.projection.transform,c=fh.create({width:n.width,height:n.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:null!==(t=this.cacheAsBitmapMultisample)&&void 0!==t?t:e.multisample}),l="cacheAsBitmap_"+ls();this._cacheData.textureCacheId=l,Za.addToCache(c.baseTexture,l),dh.addToCache(c,l);var u=this.transform.localTransform.copyTo(Mf).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:c,clear:!0,transform:u,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=h,e.renderTexture.bind(o,s,a),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var d=new md(c);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-n.x/n.width,d.anchor.y=-n.y/n.height,d.alpha=r,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=d.containsPoint.bind(d)}},xs.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},xs.prototype._initCachedDisplayObjectCanvas=function(e){if(!this._cacheData||!this._cacheData.sprite){var t=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var n=e.context,i=e._projTransform;t.ceil(ko.RESOLUTION);var o=fh.create({width:t.width,height:t.height}),s="cacheAsBitmap_"+ls();this._cacheData.textureCacheId=s,Za.addToCache(o.baseTexture,s),dh.addToCache(o,s);var a=Mf;this.transform.localTransform.copyTo(a),a.invert(),a.tx-=t.x,a.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:a,skipUpdateTransform:!1}),e.context=n,e._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var h=new md(o);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-t.x/t.width,h.anchor.y=-t.y/t.height,h.alpha=r,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}},xs.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},xs.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},xs.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Za.removeFromCache(this._cacheData.textureCacheId),dh.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},xs.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},xs.prototype.name=null,Is.prototype.getChildByName=function(e,t){for(var r=0,n=this.children.length;r<n;r++)if(this.children[r].name===e)return this.children[r];if(t)for(r=0,n=this.children.length;r<n;r++){var i=this.children[r];if(i.getChildByName){var o=i.getChildByName(e,!0);if(o)return o}}return null},xs.prototype.getGlobalPosition=function(e,t){return void 0===e&&(e=new Gi),void 0===t&&(t=!1),this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};var Uf=function(){function e(){}return e.init=function(e){var t=this;Object.defineProperty(this,"resizeTo",{set:function(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){t._resizeTo&&(t.cancelResize(),t._resizeId=requestAnimationFrame((function(){return t.resize()})))},this.cancelResize=function(){t._resizeId&&(cancelAnimationFrame(t._resizeId),t._resizeId=null)},this.resize=function(){if(t._resizeTo){var e,r;if(t.cancelResize(),t._resizeTo===globalThis.window)e=globalThis.innerWidth,r=globalThis.innerHeight;else{var n=t._resizeTo;e=n.clientWidth,r=n.clientHeight}t.renderer.resize(e,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},e.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e.extension=Os.Application,e}(),Bf=function(){function e(t){var r=this;this.stage=new Is,t=Object.assign({forceCanvas:!1},t),this.renderer=function(e){return Xc.create(e)}(t),e._plugins.forEach((function(e){e.init.call(r,t)}))}return e.registerPlugin=function(e){ds(0,"Application.registerPlugin() is deprecated, use extensions.add()"),Ls.add({type:Os.Application,ref:e})},e.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(e.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,r){var n=this,i=e._plugins.slice(0);i.reverse(),i.forEach((function(e){e.destroy.call(n)})),this.stage.destroy(r),this.stage=null,this.renderer.destroy(t),this.renderer=null},e._plugins=[],e}();Ls.handleByList(Os.Application,Bf._plugins),Ls.add(Uf);var Gf=function(e,t){return Gf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Gf(e,t)};function Hf(e,t){function r(){this.constructor=e}Gf(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var Ff=function(e){function t(t,r,n,i){void 0===t&&(t=100),void 0===r&&(r=100),void 0===n&&(n=10),void 0===i&&(i=10);var o=e.call(this)||this;return o.segWidth=n,o.segHeight=i,o.width=t,o.height=r,o.build(),o}return Hf(t,e),t.prototype.build=function(){for(var e=this.segWidth*this.segHeight,t=[],r=[],n=[],i=this.segWidth-1,o=this.segHeight-1,s=this.width/i,a=this.height/o,h=0;h<e;h++){var c=h%this.segWidth,l=h/this.segWidth|0;t.push(c*s,l*a),r.push(c/i,l/o)}var u=i*o;for(h=0;h<u;h++){var d=h%i,f=h/i|0,p=f*this.segWidth+d,_=f*this.segWidth+d+1,E=(f+1)*this.segWidth+d,g=(f+1)*this.segWidth+d+1;n.push(p,_,E,_,g,E)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(n),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(af),kf=function(e){function t(t,r,n){void 0===t&&(t=200),void 0===n&&(n=0);var i=e.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1)))||this;return i.points=r,i._width=t,i.textureScale=n,i.build(),i}return Hf(t,e),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var e=this.points;if(e){var t=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),n=this.getIndex();if(!(e.length<1)){t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),r.data=new Float32Array(4*e.length),n.data=new Uint16Array(6*(e.length-1)));var i=r.data,o=n.data;i[0]=0,i[1]=0,i[2]=0,i[3]=1;for(var s=0,a=e[0],h=this._width*this.textureScale,c=e.length,l=0;l<c;l++){var u=4*l;if(this.textureScale>0){var d=a.x-e[l].x,f=a.y-e[l].y,p=Math.sqrt(d*d+f*f);a=e[l],s+=p/h}else s=l/(c-1);i[u]=s,i[u+1]=0,i[u+2]=s,i[u+3]=1}var _=0;for(l=0;l<c-1;l++){u=2*l;o[_++]=u,o[_++]=u+1,o[_++]=u+2,o[_++]=u+2,o[_++]=u+1,o[_++]=u+3}r.update(),n.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var t,r=e[0],n=0,i=0,o=this.buffers[0].data,s=e.length,a=0;a<s;a++){var h=e[a],c=4*a;i=-((t=a<e.length-1?e[a+1]:h).x-r.x),n=t.y-r.y;var l=Math.sqrt(n*n+i*i),u=this.textureScale>0?this.textureScale*this._width/2:this._width/2;n/=l,i/=l,n*=u,i*=u,o[c]=h.x+n,o[c+1]=h.y+i,o[c+2]=h.x-n,o[c+3]=h.y-i,r=h}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(af),Yf=(function(e){function t(t,r,n){void 0===n&&(n=0);var i=this,o=new kf(t.height,r,n),s=new sf(t);return n>0&&(t.baseTexture.wrapMode=lo.REPEAT),(i=e.call(this,o,s)||this).autoUpdate=!0,i}Hf(t,e),t.prototype._render=function(t){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),e.prototype._render.call(this,t)}}(of),function(e){function t(t,r,n){var i=this,o=new Ff(t.width,t.height,r,n),s=new sf(dh.WHITE);return(i=e.call(this,o,s)||this).texture=t,i.autoResize=!0,i}return Hf(t,e),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry,t=this.shader.texture,r=t.width,n=t.height;!this.autoResize||e.width===r&&e.height===n||(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),e.prototype._render.call(this,t)},t.prototype.destroy=function(t){this.shader.texture.off("update",this.textureUpdated,this),e.prototype.destroy.call(this,t)},t}(of)),Wf=(function(e){function t(t,r,n,i,o){void 0===t&&(t=dh.EMPTY);var s=this,a=new af(r,n,i);a.getBuffer("aVertexPosition").static=!1;var h=new sf(t);return(s=e.call(this,a,h,null,o)||this).autoUpdate=!0,s}Hf(t,e),Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),e.prototype._render.call(this,t)}}(of),function(e){function t(t,r,n,i,o){void 0===r&&(r=10),void 0===n&&(n=10),void 0===i&&(i=10),void 0===o&&(o=10);var s=e.call(this,dh.WHITE,4,4)||this;return s._origWidth=t.orig.width,s._origHeight=t.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=r,s._rightWidth=i,s._topHeight=n,s._bottomHeight=o,s.texture=t,s}Hf(t,e),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,n=this._height>r?1:this._height/r;return Math.min(t,n)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var r=1/this._origWidth,n=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=r*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-r*this._rightWidth,t[9]=t[11]=t[13]=t[15]=n*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-n*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}(Yf),function(e,t){return Wf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Wf(e,t)});!function(e){function t(t,r){void 0===r&&(r=!0);var n=e.call(this,t[0]instanceof dh?t[0]:t[0].texture)||this;return n._textures=null,n._durations=null,n._autoUpdate=r,n._isConnectedToTicker=!1,n.animationSpeed=1,n.loop=!0,n.updateAnchor=!1,n.onComplete=null,n.onFrameChange=null,n.onLoop=null,n._currentTime=0,n._playing=!1,n._previousFrame=null,n.textures=t,n}(function(e,t){function r(){this.constructor=e}Wf(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})(t,e),t.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ps.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ps.shared.add(this.update,this,vs.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){if(this._playing){var t=this.animationSpeed*e,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=t/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}},t.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(e){for(var r=[],n=0;n<e.length;++n)r.push(dh.from(e[n]));return new t(r)},t.fromImages=function(e){for(var r=[],n=0;n<e.length;++n)r.push(dh.from(e[n]));return new t(r)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof dh)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Ps.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ps.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0})}(md);Ls.add(hl,bl,El,Hu,Xd,tl,Qd,xf,$l,Pu,wu,Kd,ws,Dl);const Xf=e=>e===x.OTHER?"lime":e===x.MONSTER?"red":e===x.POWERUP?"blue":e===x.ARTIFACT?"cyan":e===x.KEY?"magenta":e===x.WEAPON?"yellow":e===x.AMMO?"#ad7e0a":e===x.OBSTACLE||e===x.DECORATION||"DECO"===e?"pink":"ALL"===e?"white":"black";class Vf{constructor(e,t,r){const n=new Uint8Array(e,20+30*t,30),i=n.slice(0,21).filter((e=>!!e));this.name=String.fromCodePoint(...i).trim(),this.length=2*(256*n[22]+n[23]),this.finetune=n[24],this.finetune>7&&(this.finetune-=16),this.volume=n[25],this.repeatOffset=2*(256*n[26]+n[27]),this.repeatLength=2*(256*n[28]+n[29]),this.bytes=new Int8Array(e,r,this.length),this.isLooped=0!=this.repeatOffset||this.repeatLength>2}}class Kf{constructor(e){this.instrument=240&e[0]|e[2]>>4,this.period=256*(15&e[0])+e[1];let t=15&e[2],r=e[3];14===t&&(t=224|r>>4,r&=15),this.rawEffect=(15&e[2])<<8|e[3],this.effectId=t,this.effectData=r,this.effectHigh=r>>4,this.effectLow=15&r,this.hasEffect=t||r}}class jf{constructor(e){this.notes=[];for(let t=0;t<16;t+=4){const r=e.slice(t,t+4);this.notes.push(new Kf(r))}}}class zf{constructor(e,t){const r=new Uint8Array(e,1084+1024*t,1024);this.rows=[];for(let e=0;e<64;++e){const t=r.slice(16*e,16*e+16);this.rows.push(new jf(t))}}}class Zf{constructor(e){const t=new Uint8Array(e,0,20).filter((e=>!!e));this.name=String.fromCodePoint(...t).trim(),this.length=new Uint8Array(e,950,1)[0],this.patternTable=new Uint8Array(e,952,this.length);const r=Math.max(...this.patternTable);this.instruments=[null];let n=1084+1024*(r+1);for(let t=0;t<31;++t){const r=new Vf(e,t,n);this.instruments.push(r),n+=r.length}this.patterns=[];for(let t=0;t<=r;++t){const r=new zf(e,t);this.patterns.push(r)}}}const $f=Symbol("audio"),qf=Symbol("gain"),Qf=Symbol("worklet"),Jf=Symbol("rowCallbacks"),ep=Symbol("singleCallbacks"),tp=Symbol("stopCallbacks");class rp{constructor(e){this.mod=null,this.playing=!1,this.totalRows=0,this[$f]=e||null,this[qf]=null,this[Qf]=null,this[Jf]=[],this[ep]={},this[tp]=[]}async load(e,t,r){this[Qf]&&this.unload(),this.mod=await(async e=>{const t=await fetch(e),r=await t.arrayBuffer();return new Zf(r)})(e),this.totalRows=this.mod.patternTable.reduce(((e,t)=>e+this.mod.patterns[t].rows.length),0),this[$f]||(this[$f]=new AudioContext({sampleRate:44100})),this[qf]=this[$f].createGain(),this[qf].gain.value=t||.3,await this[$f].audioWorklet.addModule("./mod-player-worklet.js"),this[Qf]=new AudioWorkletNode(this[$f],"mod-player-worklet"),this[Qf].connect(this[qf]).connect(this[$f].destination),this[Qf].port.onmessage=this.onmessage.bind(this),r&&(this[Qf].port.postMessage({type:"enableRowSubscription"}),this[Qf].port.postMessage({type:"enableStopSubscription"}))}async loadBuffer(e,t,r){this[Qf]&&this.unload(),this.mod=new Zf(e),this.totalRows=this.mod.patternTable.reduce(((e,t)=>e+this.mod.patterns[t].rows.length),0),this[$f]||(this[$f]=new AudioContext),this[qf]=this[$f].createGain(),this[qf].gain.value=t||.3,await this[$f].audioWorklet.addModule("./mod-player-worklet.js"),this[Qf]=new AudioWorkletNode(this[$f],"mod-player-worklet"),this[Qf].connect(this[qf]).connect(this[$f].destination),this[Qf].port.onmessage=this.onmessage.bind(this),r&&(this[Qf].port.postMessage({type:"enableRowSubscription"}),this[Qf].port.postMessage({type:"enableStopSubscription"}))}onmessage(e){const{data:t}=e;switch(t.type){case"row":for(let e of this[Jf])e(t.position,t.rowIndex);const e=t.position+":"+t.rowIndex;if(e in this[ep])for(let r of this[ep][e])r(t.position,t.rowIndex);document.dispatchEvent(new CustomEvent("timeupdate",{detail:{maxPos:this.mod.length,currentPos:t.position,totalRow:this.totalRows,currentRow:t.rowIndex}}));break;case"stop":for(let e of this[tp])e();document.dispatchEvent(new CustomEvent("ended"))}}watchRows(e){this[Qf].port.postMessage({type:"enableRowSubscription"}),this[Jf].push(e)}watch(e,t,r){this[Qf].port.postMessage({type:"enableRowSubscription"});const n=e+":"+t;n in this[ep]||(this[ep][n]=[]),this[ep][n].push(r)}watchStop(e){this[Qf].port.postMessage({type:"enableStopSubscription"}),this[tp].push(e)}unload(){this.playing&&this.stop(),this[Qf]&&(this[Qf].disconnect(),this[$f].close(),this.mod=null,this[$f]=null,this[Qf]=null,this[Jf]=[],this[ep]={})}play(){this.playing||this[Qf]&&(this[$f].resume(),this[Qf].port.postMessage({type:"play",mod:this.mod,sampleRate:this[$f].sampleRate}),this.playing=!0)}stop(){this.playing&&(this[Qf].port.postMessage({type:"stop"}),this.playing=!1)}resume(){this.playing||(this[Qf].port.postMessage({type:"resume"}),this.playing=!0)}setRow(e,t){this[Qf].port.postMessage({type:"setRow",position:e,row:t})}setVolume(e){this[qf]&&(this[qf].gain.value=e)}}var np=r(3791),ip=r(6474),op=r.n(ip);const sp=8192;class ap{_audioContext;_ready;_playing=!1;_paused=!1;_songPtr;_bufferPtr;_array;_interval;_baseUrl;_rootUrl;_pendingFetches;_currentUrlOrBuf;_libHolder;_audioWorklet;_audioWorkletMessagePort;_volume=.5;destroyed=!1;constructor(e,t="/"){this.destroyed=!1;let r=t;r.endsWith("/")||(r+="/"),this._baseUrl=new URL(r,window.location.origin).href,this._rootUrl=new URL("/",window.location.origin).href,this._ready=!1,this._playing=!1,this._pendingFetches={},this._songPtr=0,this._bufferPtr=0,this._array=new Int16Array(16384),this._currentUrlOrBuf=null,this._interval=void 0,this._startInterval=this._startInterval.bind(this),this._stopInterval=this._stopInterval.bind(this),this._audioContext=new AudioContext({sampleRate:44100}),op()({locateFile:e=>new URL(e,this._rootUrl).href}).then((t=>{this._lib=t,this._onLibReady(e)}))}async initAudioWorklet(){this._audioWorklet||(await this._audioContext.audioWorklet.addModule("./midiAudioProcessor.js"),this._audioWorklet=new AudioWorkletNode(this._audioContext,"midi-audio-processor",{numberOfOutputs:1,outputChannelCount:[2]}),this._audioWorkletMessagePort=this._audioWorklet.port,this._audioWorkletMessagePort.onmessage=this.messageFromWorker.bind(this),this._audioWorkletMessagePort.postMessage({command:"set-volume",data:{volume:.5}}),this._audioWorklet.connect(this._audioContext.destination))}get _lib(){if(!this._libHolder)throw new Error("Timidity lib not loaded yet");return this._libHolder}set _lib(e){this._libHolder=e}get volume(){return this._volume}get paused(){return this._paused}get playing(){return this._playing}set volume(e){this._volume=e,this._audioWorkletMessagePort&&this._audioWorkletMessagePort.postMessage({command:"set-volume",data:{volume:e}})}messageFromWorker(e){const{command:t,data:r}={...e.data};switch(t){case"process":this._onAudioProcess();break;case"end-song":this.endSong()}}async _onLibReady(e){const t=e=>this._fetch(new URL(e,this._baseUrl)).then((t=>{this._lib.FS.writeFile(`/${e}`,t)})),r=[];r.push(t("timidity.cfg")),r.push(t("gravis.cfg")),r.push(t("gsdrums.cfg")),r.push(t("gssfx.cfg")),r.push(t("xgmap2.cfg")),r.push(t("proteus2.cfg")),r.push(t("mt-32.cfg")),r.push(t("sustain.cfg")),await Promise.all(r);if(0!==this._lib._mid_init("/timidity.cfg"))return this._destroy(new Error("Failed to initialize libtimidity"));this._bufferPtr=this._lib._malloc(32768),this._ready=!0,e()}async load(e){if(this.destroyed)throw new Error("load() called after destroy()");let t;if(this._audioContext.resume(),this._songPtr&&this._destroySong(),this._stopInterval(),this._ready||(this._ready=!0),this._currentUrlOrBuf=e,"string"==typeof e){if(t=await this._fetch(new URL(e,this._baseUrl)),this._currentUrlOrBuf!==e)return}else{if(!(e instanceof Uint8Array))throw new Error("load() expects a `string` or `Uint8Array` argument");t=e}let r=this._loadSong(t),n=this._lib._mid_get_load_request_count(r);if(n>0){let i=this._getMissingInstruments(r,n);if(await Promise.all(i.map((e=>this._fetchInstrument(e)))),this._currentUrlOrBuf!==e)return;this._lib._mid_song_free(r),r=this._loadSong(t),n=this._lib._mid_get_load_request_count(r),n>0&&(i=this._getMissingInstruments(r,n))}this._songPtr=r,this._lib._mid_song_start(this._songPtr)}_getMissingInstruments(e,t){const r=[];for(let n=0;n<t;n++){const t=this._lib._mid_get_load_request(e,n),i=this._lib.UTF8ToString(t);i.endsWith(".pat")?r.push(i):r.push(`${i}.pat`)}return r}_loadSong(e){const t=this._lib._mid_alloc_options(44100,32784,2,sp),r=this._lib._malloc(e.byteLength);this._lib.HEAPU8.set(e,r);const n=this._lib._mid_istream_open_mem(r,e.byteLength),i=this._lib._mid_song_load(n,t);return this._lib._mid_istream_close(n),this._lib._free(t),this._lib._free(r),0===i?(this._destroy(new Error("Failed to load MIDI file")),0):i}async _fetchInstrument(e){if(this._pendingFetches[e])return this._pendingFetches[e];const t=new URL(e,this._baseUrl),r=this._fetch(t);this._pendingFetches[e]=r;const n=await r;return this._writeInstrumentFile(e,n),delete this._pendingFetches[e],n}_writeInstrumentFile(e,t){const r=e.split("/").slice(0,-1).join("/");this._mkdirp(r),this._lib.FS.writeFile(e,t,{encoding:"binary"})}_mkdirp(e){const t=e.split("/");let r="/";for(let e=0;e<t.length;e++){const n=t[e];try{this._lib.FS.mkdir(`${r}${n}`)}catch(e){}r+=`${n}/`}}async _fetch(e){const t=await window.fetch(e,{mode:"cors",credentials:"same-origin"});if(200!==t.status)throw new Error(`Could not load ${e}`);const r=await t.arrayBuffer();return new Uint8Array(r)}async play(){if(this.destroyed)throw new Error("play() called after destroy()");this._audioWorklet||await this.initAudioWorklet(),this._audioWorkletMessagePort&&this._audioWorkletMessagePort.postMessage({command:"set-volume",data:{volume:this.volume}}),await this._audioContext.resume(),this._playing=!0,this._paused=!1,this._ready&&!this._currentUrlOrBuf&&this._startInterval()}_onAudioProcess(){if(!this._playing)return;const e=this._songPtr&&this._playing?this._readMidiData():0;e>0&&this._currentUrlOrBuf&&(this._currentUrlOrBuf=null,this._startInterval());const t=new Float32Array(sp),r=new Float32Array(sp);for(let n=0;n<e;n++)t[n]=this._array[2*n]/32767,r[n]=this._array[2*n+1]/32767;for(let n=e;n<sp;n++)t[n]=0,r[n]=0;this._audioWorkletMessagePort&&this._audioWorkletMessagePort.postMessage({command:"processed-data",data:{buffers:[t,r],isFinal:this._playing&&0===e}})}_readMidiData(){const e=this._lib._mid_song_read_wave(this._songPtr,this._bufferPtr,32768),t=e/4;return 0===t?0:(this._array.set(this._lib.HEAP16.subarray(this._bufferPtr/2,(this._bufferPtr+e)/2)),t)}endSong(){this._songPtr&&(this.seek(0),this.pause(),this._lib._mid_song_start(this._songPtr),document.dispatchEvent(new CustomEvent("ended")))}async pause(){if(this.destroyed)throw new Error("pause() called after destroy()");this._playing=!1,this._paused=!0,this._stopInterval(),await this._audioContext.suspend()}seek(e){if(this.destroyed)throw new Error("seek() called after destroy()");if(!this._songPtr)return;const t=Math.floor(1e3*e);this._lib._mid_song_seek(this._songPtr,t),this._onTimeupdate()}get currentTime(){return this.destroyed||!this._songPtr?0:this._lib._mid_song_get_time(this._songPtr)/1e3}get duration(){return this.destroyed||!this._songPtr?1:this._lib._mid_song_get_total_time(this._songPtr)/1e3}_onTimeupdate(){document.dispatchEvent(new CustomEvent("timeupdate",{detail:{currentTime:this.currentTime,maxTime:this.duration}}))}_startInterval(){this._onTimeupdate(),this._interval=window.setInterval((()=>this._onTimeupdate()),1e3)}_stopInterval(){this._onTimeupdate(),window.clearInterval(this._interval),this._interval=void 0}destroy(){if(this.destroyed)throw new Error("destroy() called after destroy()");this._destroy()}_destroy(e){this.destroyed||(this.destroyed=!0,this._stopInterval(),this._array=new Int16Array,this._songPtr&&this._destroySong(),this._bufferPtr&&(this._lib._free(this._bufferPtr),this._bufferPtr=0),this._audioWorklet&&(this._audioWorklet.port.close(),this._audioWorklet.disconnect()),this._audioContext&&this._audioContext.close())}_destroySong(){this._lib._mid_song_free(this._songPtr),this._songPtr=0}}const hp="music-window-music-list-row-playing",cp="music-slider-container";let lp=.5,up=[],dp=new ap((()=>{}),"./eawpats"),fp=new rp,pp=null,_p=null,Ep=null,gp=null,bp=null,mp=null,Tp="midi",Ap=null,xp=null,Sp="off";const yp=()=>{pp&&(Ap&&pp.removeEventListener("timeupdate",Ap),xp&&pp.removeEventListener("ended",xp),pp.parentElement?.removeChild(pp),pp=null)},Ip=e=>"mus"===e||"mid"===e?"midi":"mod"===e?"mod":"ogg"===e||"mp3"===e||"wav"===e?"normal":null,Op={midi:{play:async(e,t)=>{dp.paused&&e.name===bp?.id?dp.play():(await(async()=>(dp.destroyed||dp.destroy(),new Promise((e=>{dp=new ap((()=>{dp.volume=lp,e()}),"./eawpats")}))))(),await dp.load(t),dp.destroyed||dp.play())},pause:()=>dp.paused||dp.pause(),seek:e=>dp.seek(e)},normal:{play:e=>{yp(),pp=document.createElement("audio");const t=document.createElement("source");t.src=URL.createObjectURL(new Blob([Buffer.from(e.data)])),t.type=e.type.mime,pp.appendChild(t),pp.volume=lp,pp.play(),document.body.appendChild(pp),Ap&&xp&&(pp.addEventListener("timeupdate",Ap),pp.addEventListener("ended",xp))},pause:()=>pp?.pause(),seek:e=>{pp&&(pp.currentTime=e)}},mod:{play:async e=>{fp.playing||e.name!==bp?.id?(fp.unload(),fp=new rp,fp.setVolume(lp),await fp.loadBuffer(e.data.buffer,lp,!0),fp.play()):fp.resume()},pause:()=>fp.stop(),seek:e=>{}}},Rp=e=>{_p=e,gp?.classList.remove("selected");const t=document.getElementById(e.name);t&&(gp=t,gp.classList.add("selected"))},vp=async e=>{Rp(e);const{ext:t}=e.type,r=Ip(t);if(!r)return;Tp=r;let n=e.data;"mus"===t&&(n=(0,np.P)(Buffer.from(e.data.buffer)));const i=up.find((e=>bp&&e.name===bp.id));if(i){const e=Ip(i.type.ext);e&&e!==r&&Op[e].pause()}await Op[Tp].play(e,n),((e,t)=>{bp&&bp.classList.remove("playing");const r=document.getElementById(e);if(!r)return;r.classList.add("playing"),bp=r;const n=r.querySelector(`.${hp}`);if(n&&(n.innerText="▶️"),mp){mp.innerHTML="";const r=document.createElement("span");r.innerText="Now Playing: ";const n=document.createElement("span");let i=`${t} (${e})`;i.length>40&&(i=`${i.substring(0,40)}...`),n.innerText=i,mp.appendChild(r),mp.appendChild(n)}})(e.name,e.inMap)},Cp=()=>{if(!bp)return;const e=up.find((e=>bp&&e.name===bp.id));if(!e)return;const{ext:t}=e.type,r=Ip(t);r&&(Op[r].pause(),((e,t)=>{if(!bp)return;const r=bp.querySelector(`.${hp}`);if(r&&(r.innerText="⏸️"),mp){mp.innerHTML="";const r=document.createElement("span");r.innerText="Paused: ";const n=document.createElement("span");let i=`${t} (${e})`;i.length>40&&(i=`${i.substring(0,40)}...`),n.innerText=i,mp.appendChild(r),mp.appendChild(n)}})(e.name,e.inMap))},Lp=e=>{if(!bp)return;const t=up.findIndex((e=>bp&&e.name===bp.id));if(-1===t)return;const r=t+e;up[r]?vp(up[r]):Cp()},Np=()=>{Lp(1)},Pp=e=>{if(e<0||!Number.isFinite(e))return"--:--";const t=Math.floor(e/60),r=Math.floor(e%60);return`${String(t).padStart(2,"0")}:${String(r).padStart(2,"0")}`},wp=e=>{const t=document.querySelector(".seeker input[type='range']"),r=document.querySelector(".seeker span");if(t&&r)switch(Tp){case"midi":{const n=e;n.detail&&(t.max=Math.floor(n.detail.maxTime).toString(),t.value=Math.round(n.detail.currentTime).toString(),r.innerText=`${Pp(n.detail.currentTime)} / ${Pp(n.detail.maxTime)}`);break}case"normal":{const n=e.target;t.max=Math.floor(n.duration).toString(),t.value=Math.round(n.currentTime).toString(),r.innerText=`${Pp(n.currentTime)} / ${Pp(n.duration)}`;break}case"mod":{const n=e;n.detail&&void 0!==n.detail.maxPos&&void 0!==n.detail.currentPos&&void 0!==n.detail.currentRow&&(t.max=n.detail.maxPos.toString(),t.value=n.detail.currentPos.toString(),r.innerText=`${n.detail.currentPos} (${n.detail.currentRow}) / ${n.detail.maxPos}`);break}}},Mp=e=>{const t=document.createElement("div");t.className="music-window-music-list-row-container",t.id=e.name;const r=document.createElement("div"),n=document.createElement("div");n.className="music-window-music-list-row-name",n.textContent=`${e.inMap} (${e.name})`;const i=document.createElement("div");i.className="music-window-music-list-row-info",i.innerHTML=`\n    <p><span>Extension:</span> ${e.type.ext}</p>\n    <p><span>Mime:</span> ${e.type.mime}</p>\n  `,r.append(n,i);const o=document.createElement("div");return o.className=hp,o.textContent="▶️",t.append(r,o),t.addEventListener("click",(()=>Rp(e))),t.addEventListener("dblclick",(()=>vp(e))),t},Dp=()=>{const e=document.createElement("div");e.className=`${cp} seeker`;const t=document.createElement("span");t.textContent="--:-- / --:--";const r=document.createElement("input");return r.type="range",r.min="0",r.max="0",r.value="0",r.addEventListener("input",(e=>{const t=Number(e.target.value);Op[Tp].seek(t)})),Ap=wp.bind(void 0),xp=Np.bind(void 0),document.addEventListener("timeupdate",Ap),document.addEventListener("ended",xp),e.append(t,r),e},Up=()=>{const e=document.createElement("div");e.className="music-window-player-controls",mp=document.createElement("div"),mp.id="music-window-playing-text",mp.textContent="No music playing",e.appendChild(mp);const t=[{label:"⏵︎",action:()=>vp(_p||up[0])},{label:"⏸︎",action:Cp},{label:"⏮︎",action:()=>Lp(-1)},{label:"⏭︎",action:()=>Lp(1)}],r=document.createElement("div");for(const e of t){const t=document.createElement("button");t.textContent=e.label,t.addEventListener("click",e.action),r.appendChild(t)}e.appendChild(r);const n=document.createElement("div");n.className="music-window-player-controls-sliders",n.append((()=>{const e=document.createElement("div");e.className=`${cp} volume`;const t=document.createElement("span");t.textContent=100*lp+"%";const r=document.createElement("input");return r.type="range",r.min="0",r.max="100",r.value=(100*lp).toString(),r.addEventListener("input",(e=>{const r=Number(e.target.value);lp=r/100,t.textContent=`${r}%`,dp.volume=lp,pp&&(pp.volume=lp),fp.setVolume(lp)})),e.append(t,r),e})(),Dp()),e.appendChild(n);const i=document.createElement("button");return i.className="music-window-player-controls-maximize",i.textContent="⏶︎",i.addEventListener("click",(()=>{fE(),Bp()})),e.appendChild(i),e},Bp=()=>{Sp="on",Ep?.classList.remove("minimized")},Gp=()=>{dp.destroyed||dp.destroy(),fp.unload(),yp(),document.removeEventListener("timeupdate",wp),document.removeEventListener("ended",(()=>Lp(1))),Sp="off",up=[],_p=null,Ep=null,gp=null,bp=null,mp=null,lp=.5},Hp=()=>{if("on"===Sp)return;Gn("MUSIC");const e=QE();if(!e)return;if(up=e.sort(((e,t)=>e.inMap.localeCompare(t.inMap))),"minimized"===Sp)return fE(),void Bp();Sp="on";const t=pE("music");Ep=document.createElement("div"),Ep.id="music-window-container",Ep.classList.add("music-container"),Ep.appendChild((()=>{const e=document.createElement("div");e.className="music-window-music-list-container";const t=[...new Map(up.map((e=>[e.name,e]))).values()];for(const r of t)e.appendChild(Mp(r));return e})()),Ep.appendChild(Up()),t.appendChild(Ep)},Fp="map-window",kp="map-window-canvas",Yp="map-window-bottom-area",Wp="map-window-button-debounce-check",Xp="map-window-input-maxres",Vp="map-window-input-palette",Kp=10;let jp=!0;let zp=!1,Zp=Q,$p=null,qp=null,Qp=null,Jp=null,e_=null,t_=[],r_=[],n_=0,i_=0,o_=0,s_=!1,a_=!1,h_=!1,c_=!1,l_=5192,u_=null,d_=null,f_=null,p_=ne[0];window.addEventListener("resize",(()=>{Jp&&e_&&Qp&&(g_(),T_(),A_(),Jp.renderer.resize(Qp.width+20,Qp.height+20),O_())}));const __=()=>{Jp&&(Jp.destroy(!0,!0),Jp=null)},E_=e=>{g_(),Gn(e);const t=kE().find((t=>t.name===e));t&&(Zp=t,$p=VE()),__();const r=pE("map"),n=document.createElement("div");n.id=Fp,r.appendChild(n);const i=document.createElement("canvas");i.id=kp,i.getContext("webgl",{preserveDrawingBuffer:!0,stencil:!0}),i.addEventListener("mousemove",b_),i.addEventListener("touchstart",m_),n.appendChild(i),n.appendChild(k_(e)),x_()},g_=()=>{qp=null,Qp=null,d_=null,f_=null,u_=null},b_=e=>{const t=e.currentTarget;if(!(e_&&qp&&Qp&&t))return;const r={x:e.pageX,y:e.pageY},n=jp?208:0,i=jp?43:38,o={x:t.offsetLeft+n,y:t.offsetTop+i},s={x:(a=r).x-(h=o).x,y:a.y-h.y};var a,h;const c=e_.transform,l={x:(s.x-c.position.x)/c.scale.x,y:(s.y-c.position.y)/c.scale.y};l.y*=-1,l.x-=Kp,l.y+=t.height-Kp,l.x-=Qp.offset.x,l.y-=Qp.offset.y,l.x/=Qp.scale,l.y/=Qp.scale,l.x+=qp.left,l.y+=qp.top;const u=w_(Zp.things).filter((e=>L_(e))).filter((e=>((e,t,r)=>{const n=r/2;return Math.abs(e.x-t.x)<=n&&Math.abs(e.y-t.y)<=n})(l,{x:e.x,y:e.y},2*e.size)));u.length>0?G_({x:r.x,y:r.y,things:u}):t_.length>0&&H_()},m_=e=>{if(1!==e.touches.length)return;const t=e.touches[0],r=e.currentTarget;if(!(e_&&qp&&Qp&&r))return;const n={x:t.pageX,y:t.pageY},i=jp?208:0,o=jp?43:38,s={x:r.offsetLeft+i,y:r.offsetTop+o},a={x:(h=n).x-(c=s).x,y:h.y-c.y};var h,c;const l=e_.transform,u={x:(a.x-l.position.x)/l.scale.x,y:(a.y-l.position.y)/l.scale.y};u.y*=-1,u.x-=Kp,u.y+=r.height-Kp,u.x-=Qp.offset.x,u.y-=Qp.offset.y,u.x/=Qp.scale,u.y/=Qp.scale,u.x+=qp.left,u.y+=qp.top;const d=w_(Zp.things).filter((e=>L_(e))).filter((e=>((e,t,r)=>{const n=r/2;return Math.abs(e.x-t.x)<=n&&Math.abs(e.y-t.y)<=n})(u,{x:e.x,y:e.y},2*e.size)));d.length>0?G_({x:n.x,y:n.y,things:d}):t_.length>0&&H_()},T_=()=>{if(0===Zp.vertices.length)return;let e=Zp.vertices[0].y,t=Zp.vertices[0].x,r=Zp.vertices[0].y,n=Zp.vertices[0].x;for(let i=1;i<Zp.vertices.length;i++)Zp.vertices[i].x<t&&(t=Zp.vertices[i].x),Zp.vertices[i].x>n&&(n=Zp.vertices[i].x),Zp.vertices[i].y<e&&(e=Zp.vertices[i].y),Zp.vertices[i].y>r&&(r=Zp.vertices[i].y);qp={top:e,left:t,bottom:r,right:n}},A_=()=>{if(!qp)return;const e=qp.right-qp.left,t=qp.bottom-qp.top;let r=window.innerWidth<=1080?(jp=!1,window.innerWidth-16):(jp=!0,window.innerWidth-216-20),n=Math.min(1080,window.innerHeight-190-("minimized"===Sp?40:0))-20,i=1;if(zp)if(e<l_&&t<l_)r=e,n=t;else if(e>=t){r=l_,n=l_/(e/t)}else{r=l_/(t/e),n=l_}r>n?(i=n/t,e>t&&(i=r/e,Math.floor(t*i-1)>n&&(i=n/t))):n>r?(i=r/e,t>e&&(i=n/t,Math.floor(e*i-1)>r&&(i=r/e))):e>t?i=r/e:t>e&&(i=n/t);Qp={height:n,width:r,scale:i,offset:{x:(r-e*i)/2,y:(n-t*i)/2}}},x_=()=>{if(qp||T_(),Qp||A_(),!qp||!Qp)return;Jp=new Bf({view:document.getElementById(kp),backgroundColor:Qo(p_.getBackground(p_)),width:Qp.width+20,height:Qp.height+20,antialias:!zp,preserveDrawingBuffer:!0}),e_&&e_.removeAllListeners(),e_=new ba({screenWidth:Qp.width+20,screenHeight:Qp.height+20,worldWidth:Qp.width+20,worldHeight:Qp.height+20,interaction:Jp.renderer.plugins.interaction}),Jp.stage.addChild(e_),e_.drag().wheel().pinch();const e=new pd;R_(e,zp?3:1),e_.addChild(e),zp&&e_.fitWorld();let t=null;e_.on("zoomed-end",(()=>{if(c_)t&&clearTimeout(t),t=setTimeout((()=>{if(e_){const e=Math.max(1/e_.scale.x,.05);O_(e)}}),500);else if(e_){const e=Math.max(1/e_.scale.x,.05);O_(e)}}))},S_=e=>{if(!qp||!Qp)return e;let t=e.x,r=e.y;return t-=qp.left,r-=qp.top,t*=Qp.scale,r*=Qp.scale,t+=Qp.offset.x,r+=Qp.offset.y,r=Qp.height-r,t+=Kp,r+=Kp,{x:t,y:r}},y_=e=>{if(!qp||!Qp)return e;let t=e;return t-=qp.top,t*=Qp.scale,t+=Qp.offset.y,t=Qp.height-t,t+=Kp,t},I_=e=>{if(!qp||!Qp)return e;let t=e;return t-=qp.left,t*=Qp.scale,t+=Qp.offset.x,t+=Kp,t},O_=(e=1)=>{if(e_){const t=e_.children[0];t&&(t.clear(),R_(t,e))}},R_=(e,t=1)=>{e.lineStyle({width:t}),C_(e),M_(e),s_&&D_(e),a_&&U_(e)},v_=e=>{const t={...Zp.sidedefs[e.frontSideDef]},r={...Zp.sectors[t.sector]},n=r.floorHeight,i=r.ceilingHeight,o={...Zp.sidedefs[e.backSideDef]},s={...Zp.sectors[o.sector]},a=s.floorHeight,h=s.ceilingHeight;return!(e.flagsString.includes("TWO_SIDED")&&!e.flagsString.includes("SECRET")&&9!==r.specialType&&9!==s.specialType&&i===h&&n===a)&&!e.flagsString.includes("HIDE_ON_MAP")},C_=e=>{if(Jp)if(u_&&Object.keys(u_).length>0)for(const t of Object.keys(u_)){const r=u_?.[t];if(r)for(const n of r)e.lineStyle({color:Qo(t),width:e.line.width}),e.drawPolygon([n.vStart,n.vEnd])}else{const t=Zp.linedefs.sort(((e,t)=>{const r=e.flagsString.includes("TWO_SIDED");return r===t.flagsString.includes("TWO_SIDED")?0:r?1:-1}));for(const r of t){if(h_&&!v_(r))continue;const t=S_({...Zp.vertices[r.start]}),n=S_({...Zp.vertices[r.end]}),i=p_.getLineColor(p_,r,Zp);e.lineStyle({color:Qo(i),width:e.line.width}),e.drawPolygon([t,n]),u_||(u_={}),u_[i]||(u_[i]=[]),u_[i].push({vStart:t,vEnd:n,color:i})}}},L_=e=>!!r_.includes(e.thingGroup)&&((1!==n_||!e.flagsString.includes("NET_ONLY"))&&(!(2===n_&&!e.flagsString.includes("NET_ONLY"))&&(!(1===i_&&!e.flagsString.includes("ON_SKILL_EASY"))&&(!(2===i_&&!e.flagsString.includes("ON_SKILL_MEDIUM"))&&(!(3===i_&&!e.flagsString.includes("ON_SKILL_HARD"))&&((1!==o_||!e.flagsString.includes("ON_SKILL_EASY"))&&((2!==o_||!e.flagsString.includes("ON_SKILL_MEDIUM"))&&(3!==o_||!e.flagsString.includes("ON_SKILL_HARD"))))))))),N_=(e,t,r,n,i)=>{const o=-i*Math.PI/180+Math.PI/2,s=Math.cos(o),a=Math.sin(o),h=n/2,c=h*s,l=h*a,u=h*a,d=h*s,f={x:t-c-u,y:r-l+d},p={x:t+c-u,y:r+l+d},_={x:t+u,y:r-d};return e.drawPolygon(f,p,_),[f,p,_]},P_=e=>Qp?e*Qp.scale:e,w_=e=>$p?e.map((e=>{if(!$p)return e;const t=$p.thingTranslations.find((t=>t.from===e.thingType));if(!t)return e;const r={...e};return r.thingTypeString=t.to.name,r.thingGroup=t.to.group,r})):e,M_=e=>{if(d_&&f_){for(const t of d_){const r=P_(2*t.size),n=t.pos.x,i=t.pos.y,o=e.line.width;e.lineStyle({color:Qo(t.color),alignment:1,width:0}),e.beginFill(Qo(t.color)),e.drawRect(n-r/2,i-r/2,r,r),e.endFill(),e.lineStyle({width:o})}for(const t of f_)if(t.trianglePoints){const r=t.trianglePoints;e.lineStyle({color:Qo(t.color),alignment:1,width:e.line.width}),e.drawPolygon(r[0],r[1],r[2])}}else{const t=w_(Zp.things).filter((e=>L_(e))).sort(((e,t)=>t.size-e.size)).sort(((e,t)=>e.thingGroup===x.MONSTER&&t.thingGroup!==x.MONSTER?1:-1));for(const r of t){const t=S_({x:r.x,y:r.y}),n=t.x,i=t.y,o=Xf(r.thingGroup),s=r.thingGroup===x.MONSTER,a=P_(2*r.size);if(f_||(f_=[]),d_||(d_=[]),s){e.lineStyle({color:Qo(o),alignment:1,width:e.line.width});const t=N_(e,n,i,a,r.angle);f_.push({pos:{x:n,y:i},color:o,isDot:s,trianglePoints:t,size:r.size})}else{const t=e.line.width;e.lineStyle({color:Qo(o),alignment:1,width:0*e.line.width}),e.beginFill(Qo(o)),e.drawRect(n-a/2,i-a/2,a,a),e.endFill(),e.lineStyle({width:t}),d_.push({pos:{x:n,y:i},color:o,isDot:s,size:r.size})}}}},D_=e=>{if(!Jp||!qp)return;const t=JSON.parse(JSON.stringify(Zp.blockMap)),r=128;void 0===t.xOrigin&&(t.xOrigin=qp.left,t.yOrigin=qp.top,t.columns=Math.abs((t.xOrigin-qp.right)/r),t.rows=Math.abs((t.yOrigin-qp.bottom)/r));const n=t.columns,i=t.rows,o=p_.getBlockmapColor(p_),s=t.xOrigin,a=t.yOrigin,h=s+n*r,c=a+i*r,l=S_({x:s,y:a}),u=S_({x:h,y:c}),d=e.line.width;e.lineStyle({color:Qo(o),alignment:1,width:.5*e.line.width});for(let t=0;t<i+1;t++){const n=y_(a+t*r);e.drawPolygon([{x:l.x,y:n},{x:u.x,y:n}])}for(let t=0;t<n+1;t++){const n=I_(s+t*r);e.drawPolygon([{x:n,y:l.y},{x:n,y:u.y}])}e.lineStyle({width:d})},U_=e=>{if(!Jp||!qp)return;const t=e=>32*Math.round(e/32),[r,n]=p_.getGridColor(p_),i=t(qp.left),o=t(qp.top),s=t(qp.right),a=t(qp.bottom),h=Math.abs((i-s)/32),c=Math.abs((o-a)/32),l=S_({x:i,y:o}),u=S_({x:s,y:a}),d=e.line.width;for(let t=0;t<c+1;t++){const i=t%2==0;e.lineStyle({color:Qo(i?n:r),width:.3*d});const s=y_(o+32*t);e.drawPolygon([{x:l.x,y:s},{x:u.x,y:s}])}for(let t=0;t<h+1;t++){const o=t%2==0;e.lineStyle({color:Qo(o?n:r),width:.3*d});const s=I_(i+32*t);e.drawPolygon([{x:s,y:l.y},{x:s,y:u.y}])}e.lineStyle({width:d})},B_=(e,t)=>{const r=document.createElement("p");r.innerText=e,r.classList.add("map-hover-row");const n=document.createElement("span");return n.classList.add("map-hover-span-text"),n.innerHTML=t,r.appendChild(n),r},G_=e=>{H_();const t=document.getElementById("map");if(!t)return;let r=0;e.things.forEach(((n,i)=>{r+=60;const o=e.y-10-r-window.scrollY;let s=e.x-90;i>2&&i%2==0?s+=(i-2)/2*260:i>2&&(s-=(i-2)/2*260+125);const a=document.createElement("div");a.classList.add("map-hover-div"),a.style.top=`${i<3?o:e.y-85}px`,a.style.left=`${s}px`,a.style.width="250px",a.style.height="55px",a.appendChild(B_("TYPE: ",`${n.thingType} | ${n.thingTypeString}`)),a.appendChild(B_("GRP: ",`${n.thingGroup}`)),a.appendChild(B_("POS: ",`(${n.x},${n.y}) | ${n.angle} | ${n.size}`)),a.appendChild(B_("FLAGS: ",n.flagsString.map((e=>{switch(e){case"ON_SKILL_EASY":return"EASY";case"ON_SKILL_MEDIUM":return"MED";case"ON_SKILL_HARD":return"HARD";case"AMBUSH":return"AMB";case"NET_ONLY":return"NET"}})).join("+"))),t.appendChild(a),t_.push(a)}))},H_=()=>{if(t_.length>0)for(const e of t_)e.parentElement?.removeChild(e);t_=[]},F_=e=>{const t=document.getElementById(Fp),r=document.getElementById(Yp);if(t&&r&&(t.removeChild(r),t.appendChild(k_(e))),e_){d_=null,f_=null;const e=Math.max(1/e_.scale.x,.05);O_(e)}},k_=e=>{const t=document.createElement("div");return t.id=Yp,t.appendChild(Y_(e)),t.appendChild((e=>{const t=document.createElement("div");t.id="map-window-button-container";const r=document.createElement("div"),n=document.createElement("div");n.style.display="block";const i=document.createElement("button");i.innerText="Save Full",i.onclick=()=>{if(Jp){zp=!0,E_(e),Jp.render();const t=`${jE()}-${e}-full.png`;Jp.view.toBlob((r=>{if(r){const e=document.createElement("a"),n=window.URL.createObjectURL(r);e.href=n,e.download=t,e.target="_blank",e.click()}zp=!1,E_(e)}))}},r.appendChild(i);const o=document.createElement("button");o.innerText="Save Current View",o.onclick=()=>{if(Jp){const t=`${jE()}-${e}-view.png`,r=Jp.view.toDataURL("image/png").replace("image/png","image/octet-stream"),n=document.createElement("a");n.href=r,n.download=t,n.target="_blank",n.click()}},r.appendChild(o);const s=document.createElement("button");s.innerText="Reset",s.onclick=()=>{E_(e)},r.appendChild(s);const a=document.createElement("div"),h=document.createElement("input");h.type="text",h.id=Xp,h.value=l_.toString(),h.oninput=e=>{const t=e.target;Number.isNaN(Number(t.value))||(l_=Number(t.value)),t.value=l_.toString()};const c=document.createElement("label");c.innerHTML="Maximum resolution",c.htmlFor=Xp,a.appendChild(c),a.appendChild(h),n.appendChild(a);const l=document.createElement("div"),u=document.createElement("input");u.type="checkbox",u.id=Wp,u.checked=c_,u.onclick=()=>{c_=!c_,u.checked=c_};const d=document.createElement("label");d.innerHTML="Debounce zoom events",d.htmlFor=Wp,l.appendChild(d),l.appendChild(u),n.appendChild(l);const f=document.createElement("div"),p=document.createElement("select");p.id=Vp,p.name="map-palette-select";for(const e of ne){const t=document.createElement("option");t.value=e.name,t.innerText=e.name,p.appendChild(t)}p.value=p_.name,p.onchange=t=>{const r=t.target,n=ne.find((e=>e.name===r.value));n&&(p_=n,p.value=r.value,E_(e))};const _=document.createElement("label");return _.innerHTML="Select map palette",_.htmlFor=Vp,f.appendChild(_),f.appendChild(p),n.appendChild(f),t.appendChild(r),t.appendChild(n),t})(e)),t},Y_=e=>{const t=document.createElement("div");t.id="map-window-toggle-area";const r=document.createElement("p");r.innerText="Toggle thing types",t.appendChild(r);const n=document.createElement("div");t.appendChild(n);const i=t=>{const r=document.createElement("div"),n=()=>"ALL"===t&&9===r_.length||(!("DECO"!==t||!r_.includes(x.DECORATION)||!r_.includes(x.OBSTACLE))||"ALL"!==t&&"DECO"!==t&&r_.includes(t));r.style.opacity=n()?"1.0 ":"0.5";const i=document.createElement("div");i.style.backgroundColor=Xf(t),r.appendChild(i);const o=document.createElement("p");o.innerText=t;const s=e=>{let t=[...r_];n()?t=t.filter((t=>!e.includes(t))):t.push(...e),r_=t};return r.onclick=()=>{"ALL"===t?r_=n()?[]:Object.keys(x).filter((e=>e!==x.UNKNOWN&&e!==x.SPECIAL)):s("DECO"===t?[x.OBSTACLE,x.DECORATION]:[t]),F_(e)},r.appendChild(o),r};n.appendChild(i(x.MONSTER)),n.appendChild(i(x.ARTIFACT)),n.appendChild(i(x.POWERUP)),n.appendChild(i(x.WEAPON)),n.appendChild(i(x.AMMO)),n.appendChild(i(x.KEY)),n.appendChild(i(x.OTHER)),n.appendChild(i("DECO")),n.appendChild(i("ALL"));const o=document.createElement("p");o.innerText="Flags / Other",t.appendChild(o);const s=document.createElement("div");t.appendChild(s);const a=t=>{const r=document.createElement("div"),n=document.createElement("div");n.style.backgroundColor="white";n.style.backgroundImage=(()=>{const e="hide"===t?o_:i_;return"hide"===t&&0===e?'url("none.png")':"show"===t&&0===e?'url("all.png")':1===e?'url("easy.png")':2===e?'url("medium.png")':3===e?'url("hard.png")':""})(),r.appendChild(n);const i=document.createElement("p");return i.innerText=("hide"===t?"Hide":"Show")+" Skill",r.onclick=()=>{"hide"===t?o_=(o_+1)%4:i_=(i_+1)%4,F_(e)},r.appendChild(i),r},h=(t,r,n)=>{const i=document.createElement("div"),o=document.createElement("div");o.style.backgroundColor="white",o.style.backgroundImage=n?'url("x.png")':"",i.appendChild(o);const s=document.createElement("p");return s.innerText=t,i.onclick=()=>{r(),F_(e)},i.appendChild(s),i};return s.appendChild((()=>{const t=document.createElement("div"),r=document.createElement("div");r.style.backgroundColor="white";r.style.backgroundImage=1===n_?'url("without.png")':2===n_?'url("only.png")':"",t.appendChild(r);const n=document.createElement("p");return n.innerText="Net Play",t.onclick=()=>{n_=(n_+1)%3,F_(e)},t.appendChild(n),t})()),s.appendChild(a("show")),s.appendChild(a("hide")),s.appendChild(h("Blockmap",(()=>s_=!s_),s_)),s.appendChild(h("Grid",(()=>a_=!a_),a_)),s.appendChild(h("Automap",(()=>{u_=null,h_=!h_}),h_)),t};let W_;const X_=(e,t=!0,r=1)=>{const n=document.createElement("div"),i=document.createElement("canvas");i.height=e.height*r,i.width=e.width*r,n.appendChild(i);const o=i.getContext("2d");if(!o)return n;const s=o.createImageData(e.width,e.height,{colorSpace:"srgb"});if(((e,t)=>{const r=YE()[0]??xe;r&&e.columns.forEach(((n,i)=>{for(const o of n){const n=e.width,s=4*i+o.yOffset*n*4;for(let e=0;e<o.data.length;e++){const i=s+e*n*4;t.data[i]=r.typedPlaypal[0][o.data[e]].r,t.data[i+1]=r.typedPlaypal[0][o.data[e]].g,t.data[i+2]=r.typedPlaypal[0][o.data[e]].b,t.data[i+3]=255}}}))})(e,s),o.imageSmoothingEnabled=!1,o.putImageData(s,0,0),1!==r){const e=new Image;e.onload=()=>{o.clearRect(0,0,i.width,i.height),o.scale(r,r),o.drawImage(e,0,0)},e.src=i.toDataURL()}return t&&i.addEventListener("click",(()=>{V_(e)})),n},V_=e=>{const t=document.createElement("div");t.style.border="1px solid white",t.appendChild(X_(e,!1,4)),Ri("menu-graphic-view",t)};let K_;const j_=(e,t,r,n)=>{const i=YE()[0]??xe;i&&e.columns.forEach(((e,o)=>{for(const s of e){const e=t.width,a=4*n.xOffset+4*n.yOffset*e+4*o+s.yOffset*e*4+4*e*r.height+4*r.width;for(let r=0;r<s.data.length;r++){const n=a+r*e*4;t.data[n]=i.typedPlaypal[0][s.data[r]].r,t.data[n+1]=i.typedPlaypal[0][s.data[r]].g,t.data[n+2]=i.typedPlaypal[0][s.data[r]].b,t.data[n+3]=255}}}))},z_=(e,t=!0,r=1)=>{const n=document.createElement("div"),i=document.createElement("canvas");i.height=e.height*r,i.width=e.width*r,n.appendChild(i);const o=i.getContext("2d");if(!o)return n;const s=o.createImageData(e.width,e.height,{colorSpace:"srgb"});if(((e,t)=>{const r=YE()[0]??xe;r&&e.columns.forEach(((n,i)=>{for(const o of n){const n=e.width,s=4*i+o.yOffset*n*4;for(let e=0;e<o.data.length;e++){const i=s+e*n*4;t.data[i]=r.typedPlaypal[0][o.data[e]].r,t.data[i+1]=r.typedPlaypal[0][o.data[e]].g,t.data[i+2]=r.typedPlaypal[0][o.data[e]].b,t.data[i+3]=255}}}))})(e,s),o.imageSmoothingEnabled=!1,o.putImageData(s,0,0),1!==r){const e=new Image;e.onload=()=>{o.clearRect(0,0,i.width,i.height),o.scale(r,r),o.drawImage(e,0,0)},e.src=i.toDataURL()}return t&&i.addEventListener("click",(()=>{Z_(e)})),n},Z_=e=>{const t=document.createElement("div");t.style.border="1px solid white",t.appendChild(z_(e,!1,4)),Ri("patch-view",t)},$_=e=>{const t=document.createElement("div");t.style.border="1px solid white",t.appendChild((e=>{const t=document.createElement("div"),r=document.createElement("canvas");r.height=4*e.height,r.width=4*e.width,t.appendChild(r);const n=r.getContext("2d");if(!n)return t;const i=n.createImageData(3*e.width,3*e.height,{colorSpace:"srgb"});for(const t of e.patches){const r=K_.patchNames[t.patchNum],n=K_.patches[r];n&&j_(n,i,e,t)}n.imageSmoothingEnabled=!1,n.putImageData(i,-e.width,-e.height,e.width,e.height,e.width,e.height);const o=new Image;return o.onload=()=>{n.clearRect(0,0,r.width,r.height),n.scale(4,4),n.drawImage(o,0,0)},o.src=r.toDataURL(),t})(e)),Ri("texture-view",t)},q_=(e,t)=>{const r=16,n=document.createElement("div");n.style.margin="20px";const i=document.createElement("canvas"),o=i.getContext("2d");o&&(i.width=256,i.height=256,t.forEach(((e,t)=>{o.fillStyle=e.hex,o.fillRect(t%16*r,Math.floor(t/16)*r,r,r)})),i.onmousemove=n=>{const o=i.getBoundingClientRect(),s=n.clientX-o.left,a=n.clientY-o.top,h=Math.floor(s/r),c=16*Math.floor(a/r)+h,l=t[c];J_(e,n.x,n.y,l,c)},i.onmouseleave=()=>{eE()},n.appendChild(i),e.appendChild(n))};let Q_=null;const J_=(e,t,r,n,i)=>{Q_?(Q_.style.top=r-46+"px",Q_.style.left=`${t}px`,Q_.innerHTML=`\n        <span>idx: ${i}</span>\n        <br />\n        <span>hex: ${n.hex}</span>\n        <br />\n        <span>rgb: (${n.r}, ${n.g}, ${n.b})</span>\n        `):(Q_=document.createElement("div"),Q_.style.fontFamily="Arial",Q_.style.position="fixed",Q_.style.top=r-46+"px",Q_.style.left=`${t}px`,Q_.style.border="1px solid black",Q_.style.backgroundColor="white",Q_.style.width="120px",Q_.style.height="40px",Q_.style.fontSize="12px",Q_.style.paddingLeft="2px",Q_.style.zIndex="1001",Q_.innerHTML=`\n                            <span>idx: ${i}</span>\n                            <br />\n                            <span>hex: ${n.hex}</span>\n                            <br />\n                            <span>rgb: (${n.r}, ${n.g}, ${n.b})</span>\n                            `,e.appendChild(Q_))},eE=()=>{Q_&&(Q_.parentElement?.removeChild(Q_),Q_=null)};let tE,rE=[],nE=[],iE=[];const oE=(e,t,r=!0,n=1)=>{if(!e)return null;if(t>e.frames.length-1)return null;const i=e.frames[t];if(!i)return null;const o=Math.floor(n),s=i.data.height*o,a=i.data.width*o,h=document.createElement("div"),c=document.createElement("canvas");c.height=s,c.width=a,h.appendChild(c);const l=c.getContext("2d");if(!l)return h;const u=l.createImageData(a,s,{colorSpace:"srgb"});return((e,t,r,n=!1)=>{const i=YE()[0]??xe;if(!i)return;const o=e.columns.map((e=>e.map((e=>({yOffset:e.yOffset*r,data:e.data.flatMap((e=>Array(r).fill(e)))}))))).flatMap((e=>Array(r).fill(e)));n&&o.reverse(),o.forEach(((n,o)=>{for(const s of n){const n=e.width*r,a=4*o+s.yOffset*n*4;for(let e=0;e<s.data.length;e++){const r=a+e*n*4;t.data[r]=i.typedPlaypal[0][s.data[e]].r,t.data[r+1]=i.typedPlaypal[0][s.data[e]].g,t.data[r+2]=i.typedPlaypal[0][s.data[e]].b,t.data[r+3]=255}}}))})(i.data,u,o,i.mirrored),l.imageSmoothingEnabled=!1,l.putImageData(u,0,0),r&&c.addEventListener("click",(()=>{hE(e,t,o)})),h},sE=(e,t,r)=>{const n=document.createElement("div");n.className="sprites-slider-container";const i=document.createElement("input");return i.type="range",i.min="0",i.max=(t.frames.length-1).toString()??"0",i.value=r.toString(),i.addEventListener("input",(t=>{const r=iE.find((t=>t.spriteName===e));r&&aE(e,r.currentAnimation.name,Number(t.target.value))})),iE.push({spriteName:e,currentAnimation:t,slider:i}),n.appendChild(i),n},aE=(e,t,r)=>{const n=nE.find((t=>t.spriteGroup.name===e));if(!n)return;const i=n.spriteGroup.animations.find((e=>e.name===t));if(!i)return;const o=oE(i,r??0,!0,n.spriteGroup.scale);if(!o)return;const s=n.canvasContainer.firstChild;s&&n.canvasContainer.removeChild(s),n.canvasContainer.prepend(o);const a=iE.find((t=>t.spriteName===e));a&&a.currentAnimation.name!==i.name&&(a.currentAnimation=i,1===i.frames.length?a.slider.style.visibility="hidden":a.slider.style.visibility="initial",a.slider.value="0",a.slider.max=(i.frames.length-1).toString())},hE=(e,t,r)=>{const n=document.createElement("div");n.style.border="1px solid white";const i=oE(e,t,!1,2*r);i&&n.appendChild(i),Ri("sprite-view",n)};let cE;const lE=(e,t=!0,r=1)=>{const n=document.createElement("div"),i=document.createElement("canvas");i.height=e.height*r,i.width=e.width*r,n.appendChild(i);const o=i.getContext("2d");if(!o)return n;const s=o.createImageData(e.width,e.height,{colorSpace:"srgb"});if(((e,t)=>{const r=YE()[0]??xe;r&&e.columns.forEach(((n,i)=>{for(const o of n){const n=e.width,s=4*i+o.yOffset*n*4;for(let e=0;e<o.data.length;e++){const i=s+e*n*4;t.data[i]=r.typedPlaypal[0][o.data[e]].r,t.data[i+1]=r.typedPlaypal[0][o.data[e]].g,t.data[i+2]=r.typedPlaypal[0][o.data[e]].b,t.data[i+3]=255}}}))})(e,s),o.imageSmoothingEnabled=!1,o.putImageData(s,0,0),1!==r){const e=new Image;e.onload=()=>{o.clearRect(0,0,i.width,i.height),o.scale(r,r),o.drawImage(e,0,0)},e.src=i.toDataURL()}return t&&i.addEventListener("click",(()=>{uE(e)})),n},uE=e=>{const t=document.createElement("div");t.style.border="1px solid white",t.appendChild(lE(e,!1,4)),Ri("stbar-graphic-view",t)};let dE="log";const fE=()=>{const e=document.getElementsByClassName("module");if(e.length>0)for(const t of Array.from(e)){const e=t.id;"map"===e&&__(),"endoom"===e&&Qn(),"sprites"===e&&(rE=[],nE=[],iE=[]),"music"===e?(Sp="minimized",Ep?.classList.add("minimized")):t.parentElement?.removeChild(t)}},pE=e=>{fE();const t=document.createElement("div");return t.id=e,t.classList.add("module"),document.getElementById("content")?.appendChild(t),t},_E=(e,t)=>{switch(dE=e,(()=>{const e=document.getElementById("sidebar-open"),t=document.getElementById("sidebar"),r=document.getElementById("topbar-input-boxes-open"),n=document.getElementById("topbar-input-boxes");e&&r&&t&&n&&(Un&&(t.classList.remove("open"),Un=!1),Bn&&(n.classList.remove("open"),Bn=!1))})(),dE){case"log":(()=>{const e=pE("log"),t=document.createElement("div");t.id="log-window",e.appendChild(t);const r=document.createElement("div");r.id=ti,t.appendChild(r);const n=document.createElement("button");n.id="log-window-clear",n.onclick=()=>{const e=document.getElementById(ti);e&&(e.innerHTML="")},n.innerText="Clear Log",t.appendChild(n),Gn("Log");for(const e of ri)ii(e,!0)})();break;case"playpal":(()=>{const e=pE("playpal"),t=document.createElement("div");t.id="playpal-window",e.appendChild(t),Gn("PlayPal");const r=YE()[0]??xe;if(r)for(const e of r.typedPlaypal)q_(t,e)})();break;case"colormap":(()=>{const e=pE("colormap"),t=document.createElement("div");t.id="colormap-window",e.appendChild(t),Gn("ColorMap");const r=WE()[0].data,n=YE()[0]??xe;if(r&&n)for(const e of n.typedPlaypal)Wn(t,r,e)})();break;case"map":t?.mapName&&E_(t.mapName);break;case"directory":zn();break;case"mapgroup":(()=>{Gn("MapGroups"),wi=FE();const e=pE("mapgroup"),t=document.createElement("div");t.id="mapgroup-window-container",t.classList.add("dir-container"),e.appendChild(t);for(const e of wi){const r=document.createElement("div"),n=e=>{const t=document.createElement("div");return t.innerHTML=e.toString(),t},i=document.createElement("div");i.style.fontWeight="bold",i.appendChild(n(e.name)),r.appendChild(i);const o=document.createElement("div");o.style.fontWeight="bold",o.appendChild(n("idx")),o.appendChild(n("name")),o.appendChild(n("location")),o.appendChild(n("size")),r.appendChild(o),e.lumps.forEach(((e,t)=>{const i=document.createElement("div");i.appendChild(n(t)),i.appendChild(n(e.lumpName)),i.appendChild(n(e.lumpLocation)),i.appendChild(n(e.lumpSize)),r.appendChild(i)})),t.appendChild(r)}})();break;case"header":(()=>{Gn("Header"),Pi=GE();const e=pE("header"),t=document.createElement("div");t.id="header-window-container",e.appendChild(t);const r=(e,t)=>{const r=document.createElement("p"),n=document.createElement("span");n.innerText=e,r.appendChild(n);const i=document.createElement("span");return i.innerText=t,r.appendChild(i),r};if(Pi.length>0)for(const e of Pi)t.appendChild(r("Wad Name: ",e.wadFileName)),t.appendChild(r("Wad Type: ",e.type)),t.appendChild(r("Directory Entries: ",e.directoryEntryCount.toString())),t.appendChild(r("Directory Offset: ",e.directoryLocation.toString()))})();break;case"endoom":(()=>{Gn("Endoom"),Zn=XE();const e=pE("endoom"),t=document.createElement("div");t.id="endoom-window-container",e.appendChild(t);for(const e of Zn){const r=document.createElement("canvas");r.width=640,r.height=400;const n=r.getContext("2d");if(!n)return;n.imageSmoothingEnabled=!1,n.textRendering="geometricPrecision",n.font="lighter 16px DOS",n.textBaseline="bottom";const i=8,o=16,s=t=>{e.data.forEach(((e,t)=>{const r=t%80,s=Math.floor(t/80),a=r*i;n.fillStyle=e.backgroundColor,n.fillRect(a,s*o,i,o)})),e.data.forEach(((e,r)=>{const s=r%80,a=Math.floor(r/80),h=s*i,c=(a+1)*o;e.blink&&"off"===t?n.fillStyle=e.backgroundColor:n.fillStyle=e.foregroundColor,n.fillText(e.char,h,c)}))};s(qn),$n.push(window.setInterval((()=>{qn="on"===qn?"off":"on",s(qn)}),1e3)),t.appendChild(r)}})();break;case"exsearch":(()=>{Gn("external search");const e=pE("exsearch"),t=document.createElement("div");t.id=ui,e.appendChild(t);const r=document.createElement("div"),n=Ai("idgames",mi);n&&r.appendChild(n);const i=Ai("DSDA",Ti);i&&r.appendChild(i),t.appendChild(r)})();break;case"dehacked":(()=>{if(Gn("Dehacked"),Xn=VE(),!Xn)return;const e=pE("dehacked"),t=document.createElement("div");t.id="dehacked-window",e.appendChild(t);const r=document.createElement("textarea");r.id="dehacked-window-textarea",r.value=Xn.dehackedString,r.readOnly=!0,t.appendChild(r)})();break;case"patches":(()=>{Gn("PATCHES");const e=KE();if(!e)return;K_=e;const t=pE("patches"),r=document.createElement("h1");r.innerText="Patch names in PNAMES that don't have a corresponding patch entry in the WAD are omitted",r.style.paddingLeft="8px",r.style.textDecoration="underline",t.appendChild(r);const n=document.createElement("div");n.id="patches-window-container",n.classList.add("patches-container"),t.appendChild(n);const i=[...K_.patchNames].map(((e,t)=>({name:e,idx:t}))).sort(((e,t)=>e.name.localeCompare(t.name)));for(const e of i){const t=K_.patches[e.name];if(!t)continue;const r=document.createElement("div");r.className="patches-split-container";const i=e=>{const t=document.createElement("div");return t.innerHTML=e.toString(),t},o=(e,t)=>{const r=document.createElement("div"),n=document.createElement("span");return n.className="patches-texture-cell",n.onclick=()=>{$_(t)},n.innerText=e.toString(),r.appendChild(n),r},s=document.createElement("div");s.style.fontWeight="bold",s.appendChild(i(e.name)),r.appendChild(s);const a=document.createElement("div");a.className="patches-data-container";const h=K_.texture1.filter((t=>t.patches.find((t=>t.patchNum===e.idx)))),c=K_.texture2.filter((t=>t.patches.find((t=>t.patchNum===e.idx)))),l=document.createElement("div");l.className="patches-info-container";const u=document.createElement("div");u.style.fontWeight="bold",u.appendChild(i("texture")),u.appendChild(i("lump")),l.appendChild(u);for(const e of h){const t=document.createElement("div");t.appendChild(o(e.name,e)),t.appendChild(i("TEXTURE1")),l.appendChild(t)}for(const e of c){const t=document.createElement("div");t.appendChild(o(e.name,e)),t.appendChild(i("TEXTURE2")),l.appendChild(t)}a.appendChild(l);const d=document.createElement("div");d.className="patches-canvas-container";const f=document.createElement("div");f.style.fontWeight="bold",f.appendChild(i("preview")),d.appendChild(f),t&&d.appendChild(z_(t)),a.appendChild(d),r.appendChild(a),n.appendChild(r)}})();break;case"flats":(()=>{Gn("FLATS");const e=zE();if(!e)return;Ci=e;const t=pE("flats"),r=document.createElement("div");r.id="flats-window-container",r.classList.add("flats-container"),t.appendChild(r);const n=[...Ci].sort(((e,t)=>e.name.localeCompare(t.name))),i=e=>{const t=document.createElement("div");return t.innerHTML=e.toString(),t};for(const e of n){const t=document.createElement("div");t.className="flats-split-container";const n=document.createElement("div");n.style.fontWeight="bold",n.appendChild(i(e.name)),t.appendChild(n);const o=document.createElement("div");o.className="flats-data-container";const s=document.createElement("div");s.className="flats-canvas-container",s.appendChild(Li(e)),o.appendChild(s),t.appendChild(o),r.appendChild(t)}})();break;case"sprites":(()=>{Gn("SPRITES");const e=ZE();if(!e)return;tE=e;const t=pE("sprites"),r=document.createElement("div");r.id="sprites-window-container",r.classList.add("sprites-container"),t.appendChild(r);const n=e=>{const t=document.createElement("div");return t.innerHTML=e.toString(),t},i=e=>{const t=Math.max(...e.map((e=>e.data.height))),r=Math.max(...e.map((e=>e.data.width))),n=Math.max(t,r);return Math.round(Math.ceil(128/n))},o=tE.reduce(((e,t)=>{const r=e.find((e=>e.name===t.name));if(r){const e=r.scale,n=i(t.frames);n<e&&(r.scale=n),r.animations.push({name:t.animation,frames:t.frames})}else e.push({name:t.name,scale:i(t.frames),animations:[{name:t.animation,frames:t.frames}]});return e}),[]),s=(e,t,r)=>{const n=document.createElement("div"),i=document.createElement("input");i.type="checkbox",i.id=`${e}_${t}`,i.value=t,i.checked=r,i.addEventListener("click",(r=>{const n=rE.find((t=>t.spriteName===e));n&&(r.target===n?.selectedBox?n.selectedBox.checked=!0:(n.selectedBox.checked=!1,n.selectedBox=r.target),aE(e,t))}));const o=document.createElement("label");return o.htmlFor=`${e}_${t}`,o.innerText=`${e}${t}`,o.className="sprites-checkbox-label",n.appendChild(i),n.appendChild(o),r&&rE.push({spriteName:e,selectedBox:i}),n};for(const e of o){const t=document.createElement("div");t.className="sprites-split-container";const i=document.createElement("div");i.style.fontWeight="bold",i.appendChild(n(e.name)),t.appendChild(i);const o=document.createElement("div");o.className="sprites-data-container";const a=document.createElement("div");a.className="sprites-checkbox-container",e.animations.forEach(((t,r)=>{a.appendChild(s(e.name,t.name,0===r))})),o.appendChild(a);const h=document.createElement("div");h.className="sprites-canvas-container";const c=rE.find((t=>t.spriteName===e.name)),l=e.animations.find((e=>e.name===c?.selectedBox.value)),u=oE(l,0,!0,e.scale);if(u){const e=Array.from(u.getElementsByTagName("canvas"));e.length>0&&(e[0].width>256&&(h.style.width=`${e[0].width}px`),e[0].height>256&&(h.style.height=`${e[0].height}px`)),h.appendChild(u)}l&&l.frames.length>1&&h.appendChild(sE(e.name,l,0)),nE.push({spriteGroup:e,canvasContainer:h}),o.appendChild(h),t.appendChild(o),r.appendChild(t)}})();break;case"menuGraphics":(()=>{Gn("MENU GRAPHICS");const e=$E();if(!e)return;W_=e;const t=pE("menuGraphics"),r=document.createElement("div");r.id="menu-graphics-window-container",r.classList.add("menu-graphics-container"),t.appendChild(r);const n=[...W_].sort(((e,t)=>e.name.localeCompare(t.name))),i=e=>{const t=document.createElement("div");return t.innerHTML=e.toString(),t};for(const e of n){const t=document.createElement("div");t.className="menu-graphics-split-container";const n=document.createElement("div");n.style.fontWeight="bold",n.appendChild(i(e.name)),t.appendChild(n);const o=document.createElement("div");o.className="menu-graphics-data-container";const s=document.createElement("div");s.className="menu-graphics-canvas-container",s.appendChild(X_(e.data)),o.appendChild(s),t.appendChild(o),r.appendChild(t)}})();break;case"stbarGraphics":(()=>{Gn("STBAR GRAPHICS");const e=qE();if(!e)return;cE=e;const t=pE("stbarGraphics"),r=document.createElement("div");r.id="stbar-graphics-window-container",r.classList.add("stbar-graphics-container"),t.appendChild(r);const n=[...cE].sort(((e,t)=>e.name.localeCompare(t.name))),i=e=>{const t=document.createElement("div");return t.innerHTML=e.toString(),t};for(const e of n){const t=document.createElement("div");t.className="stbar-graphics-split-container";const n=document.createElement("div");n.style.fontWeight="bold",n.appendChild(i(e.name)),t.appendChild(n);const o=document.createElement("div");o.className="stbar-graphics-data-container";const s=document.createElement("div");s.className="stbar-graphics-canvas-container",s.appendChild(lE(e.data)),o.appendChild(s),t.appendChild(o),r.appendChild(t)}})();break;case"music":Hp();break;case"attributions":Yn();break;case"notImplemented":(()=>{const e=pE("notImplemented"),t=document.createElement("p");t.innerHTML="Page not implemented",e.appendChild(t)})()}};let EE=[],gE=[];const bE=e=>{const t=EE.findIndex((t=>t===e)),r=[...EE];r.splice(t,1),EE=r},mE=e=>{const t=gE.findIndex((t=>t===e)),r=[...gE];r.splice(t,1),gE=r},TE=(e,t,r)=>{const n=document.createElement("div");n.innerText=t,n.classList.add("subhead"),n.style.display="none",n.onclick=r,e.appendChild(n)},AE=(e,t)=>{const r=document.createElement("div");r.innerText=t,r.classList.add("head"),gE.includes(t)||r.addEventListener("click",(e=>{((e,t)=>{if(gE.includes(e)||gE.push(e),EE.includes(e)){const r=t.target.parentElement;if(r)for(const e of Array.from(r.children))e.classList.contains("subhead")&&e.setAttribute("style","display: none;");bE(e)}else{const r=t.target.parentElement;if(r)for(const e of Array.from(r.children))e.classList.contains("subhead")&&e.removeAttribute("style");EE.push(e)}})(t,e)})),e.appendChild(r)};window.Buffer=e.hp;let xE=[{...Te,wadFileName:"default",wadIdx:0}],SE=[],yE=[],IE=[],OE=[{...xe,wadFileName:"default",wadIdx:0}],RE=[],vE=[],CE=null,LE=null,NE=null,PE=null,wE=null,ME=null,DE=null,UE="";const BE=()=>{Ep?.parentElement?.remove(),Gp(),xE=[{...Te,wadFileName:"default",wadIdx:0}],SE=[],yE=[],IE=[],OE=[{...xe,wadFileName:"default",wadIdx:0}],RE=[],vE=[],NE=[],PE=[],wE=[],DE=[],ME=[],CE=pe},GE=()=>xE,HE=()=>SE,FE=()=>yE,kE=()=>IE,YE=()=>OE,WE=()=>RE,XE=()=>vE,VE=()=>CE,KE=()=>LE,jE=()=>UE,zE=()=>NE,ZE=()=>PE,$E=()=>wE,qE=()=>ME,QE=()=>DE,JE=async()=>{BE();const e=await tg.header();if(!e)return;xE=e;const t=await tg.directory();t&&(SE=t);const r=await tg.mapGroups();r&&(yE=r);const n=await tg.maps();n&&(IE=n);const i=await tg.playpal();i&&(OE=i);const o=await tg.colormap();o&&(RE=o);const s=await tg.endoom();s&&(vE=s);const a=await tg.dehacked();a&&(CE=a);const h=await tg.textures();h&&(LE=h);const c=await tg.flats();c&&(NE=c);const l=await tg.sprites();l&&(PE=l);const u=await tg.menuGraphics();u&&(wE=u);const d=await tg.stbarGraphics();d&&(ME=d);const f=await tg.music();f&&(DE=f),ii(`${tg.fileUrls.join(", ")} loaded into memory`),eg(be.LOADING_READY),UE=tg.niceFileNames.length>1?`${tg.wadName}`:tg.niceFileNames[0],Mn=UE,Hn()},eg=e=>{e===be.FILE_LOADED?JE():e===be.LOADING_READY&&(((e,t,r)=>{const n=document.getElementById("section-meta");n&&((e.some((e=>e.type!==me.UNKNOWN))||t.length>0||r.length>0)&&(n.innerHTML="",n.style.removeProperty("display"),bE("Metadata"),mE("Metadata")),AE(n,"Metadata"),e.some((e=>e.type!==me.UNKNOWN))&&TE(n,"HEADER",(()=>{_E("header")})),t.length>0&&TE(n,"DIRECTORY",(()=>{_E("directory")})),r.length>0&&TE(n,"MAP GROUPS",(()=>{_E("mapgroup")})),TE(n,"LOG",(()=>{_E("log")})))})(xE,SE,yE),((e,t)=>{const r=document.getElementById("section-misc");r&&(e.length>0||t?.dehackedString?(r.innerHTML="",r.style.removeProperty("display"),bE("Misc"),mE("Misc")):r.style.display="none",AE(r,"Misc"),e.length>0&&TE(r,"ENDOOM",(()=>{_E("endoom")})),t?.dehackedString&&TE(r,"DEHACKED",(()=>{_E("dehacked")})))})(vE,CE),((e,t)=>{const r=document.getElementById("section-colors");r&&(e.some((e=>e.typedPlaypal.length>0))||t.some((e=>e.data.length>0))?(r.innerHTML="",r.style.removeProperty("display"),bE("Colors"),mE("Colors")):r.style.display="none",AE(r,"Colors"),e.some((e=>e.typedPlaypal.length>0))&&TE(r,"PLAYPAL",(()=>{_E("playpal")})),t.some((e=>e.data.length>0))&&TE(r,"COLORMAP",(()=>{_E("colormap")})))})(OE,RE),(e=>{const t=document.getElementById("section-maps");if(t)if(e.length>0){t.innerHTML="",t.style.removeProperty("display"),bE("Maps"),mE("Maps"),AE(t,"Maps");for(const r of e)TE(t,r.name,(()=>{_E("map",{mapName:r.name})}))}else t.innerHTML="",t.style.display="none"})(IE),((e,t,r,n,i)=>{const o=document.getElementById("section-textures");if(!o)return;const s=e&&(e.patchNames.length>0||e.texture1.length>0||e.texture2.length>0),a=t&&t.length>0,h=r&&r.length>0,c=n&&n.length>0,l=i&&i.length>0;s||a||h||c||l?(o.innerHTML="",o.style.removeProperty("display"),bE("Images"),mE("Images"),AE(o,"Images")):o.style.display="none",s&&TE(o,"PATCHES & TEXTURES",(()=>{_E("patches")})),a&&TE(o,"FLATS",(()=>{_E("flats")})),h&&TE(o,"SPRITES",(()=>{_E("sprites")})),c&&TE(o,"MENU GRAPHICS",(()=>{_E("menuGraphics")})),l&&TE(o,"STBAR GRAPHICS",(()=>{_E("stbarGraphics")}))})(LE,NE,PE,wE,ME),(e=>{const t=document.getElementById("section-music");t&&(e&&e.length>0?(t.innerHTML="",t.style.removeProperty("display"),bE("Music"),mE("Music"),AE(t,"Music"),TE(t,"MUSIC",(()=>{_E("music")}))):(t.innerHTML="",t.style.display="none"))})(DE))},tg=(e=>{oi=new vr({debugLog:!1,eventListener:(t,r)=>{ii(r||t),e&&e(t,r)},breatheInLog:!0});const t=document.getElementById("wad-input"),r=document.getElementById("wad-input-hidden"),n=async e=>{const t=e.target;if(t?.files?.length&&t.files.length>0)if(ni(),_E("log"),t.files[0].name.toLowerCase().endsWith(".zip")){ii(`Unzipping ${t.files[0].name}`);const{entries:e}=await(0,ei.$1)(t.files[0]);await ai(e,t.files[0].name)}else oi&&oi.loadFile(t.files[0])},i=e=>{e.preventDefault(),r&&r.click()};t&&r&&(r.addEventListener("change",n),t.addEventListener("click",i));const o=()=>{ni(),_E("log"),oi&&oi.loadFileFromUrl("./DOOM1.WAD")},s=document.getElementById("wad-input-doom");s&&s.addEventListener("click",o);const a=document.getElementById("wad-input-text-loader"),h=document.getElementById("wad-input-text"),c=async()=>{if(h){const e=h.value.trim();e?si(e):ii("Please input the URL in the text box.")}};if(a&&h){a.addEventListener("click",c);const e=new URLSearchParams(window.location.search).get("file");e&&(h.value=e,window.history.replaceState({},"",window.location.origin),setTimeout((()=>{ii(`URL contained a link to a wad/zip file. Click "Load URL" to try fetching ${e}`)}),100))}const l=document.getElementById("wad-input-idgames");return l&&l.addEventListener("click",(()=>{_E("exsearch")})),oi})(eg);_E("log"),(()=>{const e=document.getElementById("section-attributions");e&&(e.innerHTML="",e.style.removeProperty("display"),bE("Attributions"),mE("Attributions"),AE(e,"Attributions"),TE(e,"ATTRIBUTIONS",(()=>{_E("attributions")})))})(),(()=>{const e=document.getElementById("sidebar-open"),t=document.getElementById("sidebar"),r=document.getElementById("topbar-input-boxes-open"),n=document.getElementById("topbar-input-boxes");e&&r&&t&&n&&(e.addEventListener("click",(()=>{Un?(t.classList.remove("open"),Un=!1):(t.classList.add("open"),Un=!0),Bn&&(n.classList.remove("open"),Bn=!1)})),r.addEventListener("click",(()=>{Bn?(n.classList.remove("open"),Bn=!1):(n.classList.add("open"),Bn=!0),Un&&(t.classList.remove("open"),Un=!1)})))})()})()})();